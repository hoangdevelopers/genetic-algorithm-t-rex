!function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=172)}([function(t,e,r){"use strict";r.d(e,"a",function(){return n});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function n(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}},function(t,e,r){"use strict";r.d(e,"a",function(){return l});var i=r(0),n=r(32),s=r(57),o=r(5),a=r(40),h=r(21),u=r(39),l=function(t){function e(e,r,i){var n=t.call(this)||this;switch(n.syncErrorValue=null,n.syncErrorThrown=!1,n.syncErrorThrowable=!1,n.isStopped=!1,arguments.length){case 0:n.destination=s.a;break;case 1:if(!e){n.destination=s.a;break}if("object"==typeof e){if(function(t){return t instanceof l||"syncErrorThrowable"in t&&t[a.a]}(e)){var o=e[a.a]();n.syncErrorThrowable=o.syncErrorThrowable,n.destination=o,o.add(n)}else n.syncErrorThrowable=!0,n.destination=new c(n,e);break}default:n.syncErrorThrowable=!0,n.destination=new c(n,e,r,i)}return n}return i.a(e,t),e.prototype[a.a]=function(){return this},e.create=function(t,r,i){var n=new e(t,r,i);return n.syncErrorThrowable=!1,n},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(o.a),c=function(t){function e(e,r,i,o){var a,h=t.call(this)||this;h._parentSubscriber=e;var u=h;return Object(n.a)(r)?a=r:r&&(a=r.next,i=r.error,o=r.complete,r!==s.a&&(u=Object.create(r),Object(n.a)(u.unsubscribe)&&h.add(u.unsubscribe.bind(u)),u.unsubscribe=h.unsubscribe.bind(h))),h._context=u,h._next=a,h._error=i,h._complete=o,h}return i.a(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;h.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=h.a.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;Object(u.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};h.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),h.a.useDeprecatedSynchronousErrorHandling)throw t;Object(u.a)(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!h.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return h.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Object(u.a)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},function(t,e,r){"use strict";var i=r(1),n=r(40),s=r(57),o=r(27),a=r(44),h=r(21);r.d(e,"a",function(){return u});var u=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var o=this.operator,a=function(t,e,r){if(t){if(t instanceof i.a)return t;if(t[n.a])return t[n.a]()}return t||e||r?new i.a(t,e,r):new i.a(s.a)}(t,e,r);if(o?o.call(a,this.source):a.add(this.source||h.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),h.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){h.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=l(e))(function(e,i){var n;n=r.subscribe(function(e){try{t(e)}catch(t){i(t),n&&n.unsubscribe()}},i,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[o.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(a.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=l(t))(function(t,r){var i;e.subscribe(function(t){return i=t},function(t){return r(t)},function(){return t(i)})})},t.create=function(e){return new t(e)},t}();function l(t){if(t||(t=h.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},function(t,e,r){"use strict";var i=r(0),n=function(t){function e(e,r,i){var n=t.call(this)||this;return n.parent=e,n.outerValue=r,n.outerIndex=i,n.index=0,n}return i.a(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(r(1).a),s=r(87);function o(t,e,r,i){var o=new n(t,r,i);return Object(s.a)(e)(o)}r.d(e,"a",function(){return o})},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r(0),n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(r(1).a)},function(t,e,r){"use strict";r.d(e,"a",function(){return u});var i=r(12),n=r(84),s=r(32),o=r(16),a=r(6),h=r(45),u=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var r=this._parent,u=this._parents,c=this._unsubscribe,f=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,d=u?u.length:0;r;)r.remove(this),r=++p<d&&u[p]||null;if(Object(s.a)(c)&&Object(o.a)(c).call(this)===a.a&&(e=!0,t=t||(a.a.e instanceof h.a?l(a.a.e.errors):[a.a.e])),Object(i.a)(f))for(p=-1,d=f.length;++p<d;){var m=f[p];if(Object(n.a)(m)&&Object(o.a)(m.unsubscribe).call(m)===a.a){e=!0,t=t||[];var y=a.a.e;y instanceof h.a?t=t.concat(l(y.errors)):t.push(y)}}if(e)throw new h.a(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var i=r;(r=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.prototype._addParent=function(t){var e=this._parent,r=this._parents;e&&e!==t?r?-1===r.indexOf(t)&&r.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function l(t){return t.reduce(function(t,e){return t.concat(e instanceof h.a?e.errors:e)},[])}},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var i={e:{}}},function(t,e,r){"use strict";e.__esModule=!0,e.VERSION="4.7.3",e.PI_2=2*Math.PI,e.RAD_TO_DEG=180/Math.PI,e.DEG_TO_RAD=Math.PI/180,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(t,e,r){"use strict";r.d(e,"b",function(){return l}),r.d(e,"a",function(){return c});var i=r(0),n=r(2),s=r(1),o=r(5),a=r(28),h=r(85),u=r(40),l=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return i.a(e,t),e}(s.a),c=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i.a(e,t),e.prototype[u.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,r=e.length,i=e.slice(),n=0;n<r;n++)i[n].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,i=e.slice(),n=0;n<r;n++)i[n].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),i=0;i<e;i++)r[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new h.a(this,t))},e.prototype.asObservable=function(){var t=new n.a;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(n.a),f=function(t){function e(e,r){var i=t.call(this)||this;return i.destination=e,i.source=r,i}return i.a(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):o.a.EMPTY},e}(c)},function(t,e,r){"use strict";e.__esModule=!0,e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.TextureMatrix=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextMetrics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=void 0;var i=r(7);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var n=r(19);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var s=r(26);Object.defineProperty(e,"glCore",{enumerable:!0,get:function(){return Y(s).default}});var o=r(97);Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return Y(o).default}});var a=r(124);Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return Y(a).default}});var h=r(59);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return Y(h).default}});var u=r(126);Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return Y(u).default}});var l=r(125);Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return Y(l).default}});var c=r(99);Object.defineProperty(e,"TransformBase",{enumerable:!0,get:function(){return Y(c).default}});var f=r(101);Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return Y(f).default}});var p=r(204);Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return Y(p).default}});var d=r(105);Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return Y(d).default}});var m=r(207);Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return Y(m).default}});var y=r(223);Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return Y(y).default}});var v=r(140);Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return Y(v).default}});var g=r(141);Object.defineProperty(e,"TextMetrics",{enumerable:!0,get:function(){return Y(g).default}});var _=r(225);Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return Y(_).default}});var b=r(142);Object.defineProperty(e,"GraphicsData",{enumerable:!0,get:function(){return Y(b).default}});var x=r(227);Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return Y(x).default}});var T=r(234);Object.defineProperty(e,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return Y(T).default}});var w=r(235);Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return Y(w).default}});var E=r(41);Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return Y(E).default}});var S=r(138);Object.defineProperty(e,"TextureMatrix",{enumerable:!0,get:function(){return Y(S).default}});var P=r(46);Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return Y(P).default}});var C=r(104);Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return Y(C).default}});var A=r(133);Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return Y(A).default}});var M=r(130);Object.defineProperty(e,"VideoBaseTexture",{enumerable:!0,get:function(){return Y(M).default}});var O=r(131);Object.defineProperty(e,"TextureUvs",{enumerable:!0,get:function(){return Y(O).default}});var I=r(134);Object.defineProperty(e,"CanvasRenderTarget",{enumerable:!0,get:function(){return Y(I).default}});var D=r(62);Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return Y(D).default}});var R=r(61);Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return Y(R).default}});var k=r(69);Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return Y(k).default}});var F=r(71);Object.defineProperty(e,"RenderTarget",{enumerable:!0,get:function(){return Y(F).default}});var L=r(139);Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return Y(L).default}});var N=r(136);Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return Y(N).default}});var B=r(137);Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return Y(B).default}});var j=r(143);Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return Y(j).default}});var V=r(144);Object.defineProperty(e,"autoDetectRenderer",{enumerable:!0,get:function(){return V.autoDetectRenderer}});var z=W(r(13)),G=W(r(103)),U=Y(r(18)),X=Y(r(60)),H=Y(r(70));function W(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Y(t){return t&&t.__esModule?t:{default:t}}e.settings=U.default,e.utils=z,e.ticker=G,e.CanvasRenderer=X.default,e.WebGLRenderer=H.default},function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"b",function(){return s});var i=r(2),n=new i.a(function(t){return t.complete()});function s(t){return t?function(t){return new i.a(function(e){return t.schedule(function(){return e.complete()})})}(t):n}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r(37),n=new(r(35).a)(i.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var i=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,r){"use strict";e.__esModule=!0,e.premultiplyBlendMode=e.BaseTextureCache=e.TextureCache=e.earcut=e.mixins=e.pluginTarget=e.EventEmitter=e.removeItems=e.isMobile=void 0,e.uid=function(){return++d},e.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},e.hex2string=function(t){return t=t.toString(16),"#"+("000000".substr(0,6-t.length)+t)},e.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},e.getResolutionOfUrl=function(t,e){var r=n.default.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1},e.decomposeDataUri=function(t){var e=i.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,encoding:e[3]?e[3].toLowerCase():void 0,data:e[4]}},e.getUrlFileExtension=function(t){var e=i.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase()},e.getSvgSize=function(t){var e=i.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r},e.skipHello=function(){m=!0},e.sayHello=function(t){if(!m){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+i.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+i.VERSION+" - "+t+" - http://www.pixijs.com/");m=!0}},e.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,i}catch(t){return!1}},e.sign=function(t){return 0===t?0:t<0?-1:1},e.destroyTextureCache=function(){var t=void 0;for(t in y)y[t].destroy();for(t in v)v[t].destroy()},e.clearTextureCache=function(){var t=void 0;for(t in y)delete y[t];for(t in v)delete v[t]},e.correctBlendMode=function(t,e){return g[e?1:0][t]},e.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,i=t>>8&255,n=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((i=i*e+.5|0)<<8)+(n*e+.5|0)},e.premultiplyRgba=function(t,e,r,i){return r=r||new Float32Array(4),i||void 0===i?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r},e.premultiplyTintToRgba=function(t,e,r,i){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(i||void 0===i)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r};var i=r(7),n=p(r(18)),s=p(r(42)),o=p(r(193)),a=f(r(194)),h=f(r(98)),u=p(r(195)),l=p(r(196)),c=p(r(100));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function p(t){return t&&t.__esModule?t:{default:t}}var d=0,m=!1;e.isMobile=h,e.removeItems=u.default,e.EventEmitter=s.default,e.pluginTarget=o.default,e.mixins=a,e.earcut=c.default;var y=e.TextureCache=Object.create(null),v=e.BaseTextureCache=Object.create(null),g=e.premultiplyBlendMode=(0,l.default)()},function(t,e,r){"use strict";function i(t){return t&&"function"==typeof t.schedule}r.d(e,"a",function(){return i})},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var i=r(0),n=r(1);function s(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new o(t,e))}}var o=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}(),a=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.project=r,n.count=0,n.thisArg=i||n,n}return i.a(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(n.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var i,n=r(6);function s(){try{return i.apply(this,arguments)}catch(t){return n.a.e=t,n.a}}function o(t){return i=t,s}},function(t,e,r){"use strict";var i=r(2),n=r(90),s=r(89),o=r(27),a=r(25),h=r(20),u=r(5),l=r(91),c=r(92),f=r(88),p=r(87);function d(t,e){if(!e)return t instanceof i.a?t:new i.a(Object(p.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return e?new i.a(function(r){var i=new u.a;return i.add(e.schedule(function(){var n=t[o.a]();i.add(n.subscribe({next:function(t){i.add(e.schedule(function(){return r.next(t)}))},error:function(t){i.add(e.schedule(function(){return r.error(t)}))},complete:function(){i.add(e.schedule(function(){return r.complete()}))}}))})),i}):new i.a(Object(f.a)(t))}(t,e);if(Object(n.a)(t))return function(t,e){return e?new i.a(function(r){var i=new u.a;return i.add(e.schedule(function(){return t.then(function(t){i.add(e.schedule(function(){r.next(t),i.add(e.schedule(function(){return r.complete()}))}))},function(t){i.add(e.schedule(function(){return r.error(t)}))})})),i}):new i.a(Object(l.a)(t))}(t,e);if(Object(s.a)(t))return Object(h.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return e?new i.a(function(r){var i,n=new u.a;return n.add(function(){i&&"function"==typeof i.return&&i.return()}),n.add(e.schedule(function(){i=t[a.a](),n.add(e.schedule(function(){if(!r.closed){var t,e;try{var n=i.next();t=n.value,e=n.done}catch(t){return void r.error(t)}e?r.complete():(r.next(t),this.schedule())}}))})),n}):new i.a(Object(c.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}r.d(e,"a",function(){return d})},function(t,e,r){"use strict";e.__esModule=!0;var i=s(r(191)),n=s(r(192));function s(t){return t&&t.__esModule?t:{default:t}}e.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,i.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,n.default)(),MESH_CANVAS_PADDING:0}},function(t,e,r){"use strict";e.__esModule=!0;var i=r(93);Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return f(i).default}});var n=r(113);Object.defineProperty(e,"ObservablePoint",{enumerable:!0,get:function(){return f(n).default}});var s=r(94);Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return f(s).default}});var o=r(114);Object.defineProperty(e,"GroupD8",{enumerable:!0,get:function(){return f(o).default}});var a=r(181);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return f(a).default}});var h=r(182);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return f(h).default}});var u=r(183);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return f(u).default}});var l=r(95);Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return f(l).default}});var c=r(184);function f(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"RoundedRectangle",{enumerable:!0,get:function(){return f(c).default}})},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var i=r(2),n=r(5),s=r(86);function o(t,e){return e?new i.a(function(r){var i=new n.a,s=0;return i.add(e.schedule(function(){s!==t.length?(r.next(t[s++]),r.closed||i.add(this.schedule())):r.complete()})),i}):new i.a(Object(s.a)(t))}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=!1,n={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},function(t,e,r){"use strict";function i(){}r.d(e,"a",function(){return i})},function(t,e,r){"use strict";function i(t){return t}r.d(e,"a",function(){return i})},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var i=r(10),n=r(49),s=r(50),o=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Object(n.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var i="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},function(t,e,r){var i={createContext:r(185),setVertexAttribArrays:r(115),GLBuffer:r(186),GLFramebuffer:r(187),GLShader:r(188),GLTexture:r(116),VertexArrayObject:r(189),shader:r(190)};void 0!==t&&t.exports&&(t.exports=i),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=i)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var i="function"==typeof Symbol&&Symbol.observable||"@@observable"},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r(0),n=function(t){function e(){var r=t.call(this,"object unsubscribed")||this;return r.name="ObjectUnsubscribedError",Object.setPrototypeOf(r,e.prototype),r}return i.a(e,t),e}(Error)},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var i=r(14),n=r(49),s=r(17),o=r(79);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length||2===t.length&&Object(i.a)(t[1])?Object(s.a)(t[0]):Object(o.a)()(n.a.apply(void 0,t))}},function(t,e,r){"use strict";r.d(e,"a",function(){return h});var i=r(0),n=r(3),s=r(4),o=r(15),a=r(17);function h(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof e?function(i){return i.pipe(h(function(r,i){return Object(a.a)(t(r,i)).pipe(Object(o.a)(function(t,n){return e(r,t,i,n)}))},r))}:("number"==typeof e&&(r=e),function(e){return e.lift(new u(t,r))})}var u=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))},t}(),l=function(t){function e(e,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var n=t.call(this,e)||this;return n.project=r,n.concurrent=i,n.hasCompleted=!1,n.buffer=[],n.active=0,n.index=0,n}return i.a(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){this.add(Object(n.a)(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r(0),n=function(t){function e(){var r=t.call(this,"argument out of range")||this;return r.name="ArgumentOutOfRangeError",Object.setPrototypeOf(r,e.prototype),r}return i.a(e,t),e}(Error)},function(t,e,r){"use strict";function i(t){return"function"==typeof t}r.d(e,"a",function(){return i})},function(t,e,r){(function(t){function r(t,e){for(var r=0,i=t.length-1;i>=0;i--){var n=t[i];"."===n?t.splice(i,1):".."===n?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,n=function(t){return i.exec(t).slice(1)};function s(t,e){if(t.filter)return t.filter(e);for(var r=[],i=0;i<t.length;i++)e(t[i],i,t)&&r.push(t[i]);return r}e.resolve=function(){for(var e="",i=!1,n=arguments.length-1;n>=-1&&!i;n--){var o=n>=0?arguments[n]:t.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,i="/"===o.charAt(0))}return e=r(s(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),n="/"===o(t,-1);return(t=r(s(t.split("/"),function(t){return!!t}),!i).join("/"))||i||(t="."),t&&n&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(s(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var n=i(t.split("/")),s=i(r.split("/")),o=Math.min(n.length,s.length),a=o,h=0;h<o;h++)if(n[h]!==s[h]){a=h;break}var u=[];for(h=a;h<n.length;h++)u.push("..");return(u=u.concat(s.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=n(t),r=e[0],i=e[1];return r||i?(i&&(i=i.substr(0,i.length-1)),r+i):"."},e.basename=function(t,e){var r=n(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return n(t)[3]};var o="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(210))},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r(0),n=function(t){function e(){var r=t.call(this,"no elements in sequence")||this;return r.name="EmptyError",Object.setPrototypeOf(r,e.prototype),r}return i.a(e,t),e}(Error)},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var i=r(0),n=r(68),s=function(t){function e(r,i){void 0===i&&(i=n.a.now);var s=t.call(this,r,function(){return e.delegate&&e.delegate!==s?e.delegate.now():i()})||this;return s.actions=[],s.active=!1,s.scheduled=void 0,s}return i.a(e,t),e.prototype.schedule=function(r,i,n){return void 0===i&&(i=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,i,n):t.prototype.schedule.call(this,r,i,n)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(n.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var i=r(0),n=r(8),s=r(5),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return i.a(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),s.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),s.a.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(n.a)},function(t,e,r){"use strict";var i=r(0),n=function(t){function e(e,r){return t.call(this)||this}return i.a(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(r(5).a);r.d(e,"a",function(){return s});var s=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i.pending=!1,i}return i.a(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,i=void 0;try{this.work(t)}catch(t){r=!0,i=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),i},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(n)},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r(12);function n(t){return!Object(i.a)(t)&&t-parseFloat(t)+1>=0}},function(t,e,r){"use strict";function i(t){setTimeout(function(){throw t})}r.d(e,"a",function(){return i})},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber"},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=c(r(46)),s=c(r(130)),o=c(r(131)),a=c(r(42)),h=r(19),u=r(13),l=c(r(18));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(r,i,n,s,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));if(a.noFrame=!1,i||(a.noFrame=!0,i=new h.Rectangle(0,0,1,1)),r instanceof e&&(r=r.baseTexture),a.baseTexture=r,a._frame=i,a.trim=s,a.valid=!1,a.requiresUpdate=!1,a._uvs=null,a.orig=n||i,a._rotate=Number(o||0),!0===o)a._rotate=2;else if(a._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return r.hasLoaded?(a.noFrame&&(i=new h.Rectangle(0,0,r.width,r.height),r.on("update",a.onBaseTextureUpdated,a)),a.frame=i):r.once("loaded",a.onBaseTextureLoaded,a),a._updateID=0,a.transform=null,a.textureCacheIds=[],a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new h.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(u.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new o.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,r,i,s){var o=u.TextureCache[t];return o||(o=new e(n.default.fromImage(t,r,i,s)),e.addToCache(o,t)),o},e.fromFrame=function(t){var e=u.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new e(n.default.fromCanvas(t,r,i))},e.fromVideo=function(t,r){return"string"==typeof t?e.fromVideoUrl(t,r):new e(s.default.fromVideo(t,r))},e.fromVideoUrl=function(t,r){return new e(s.default.fromUrl(t,r))},e.from=function(t){return"string"==typeof t?u.TextureCache[t]||(null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(t):e.fromImage(t)):t instanceof HTMLImageElement?new e(n.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,l.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof n.default?new e(t):t},e.fromLoader=function(t,r,i){var s=new n.default(t,void 0,(0,u.getResolutionOfUrl)(r)),o=new e(s);return s.imageUrl=r,i||(i=r),n.default.addToCache(o.baseTexture,i),e.addToCache(o,i),i!==r&&(n.default.addToCache(o.baseTexture,r),e.addToCache(o,r)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),u.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),u.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=u.TextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete u.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)u.TextureCache[t.textureCacheIds[i]]===t&&delete u.TextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},i(e,[{key:"frame",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,s=e+i>this.baseTexture.width,o=r+n>this.baseTexture.height;if(s||o){var a=s&&o?"and":"or",h="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,u="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=i&&n&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(a.default);function p(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}e.default=f,f.EMPTY=new f(new n.default),p(f.EMPTY),p(f.EMPTY.baseTexture),f.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new f(new n.default(t))}(),p(f.WHITE),p(f.WHITE.baseTexture)},function(t,e,r){"use strict";var i=Object.prototype.hasOwnProperty,n="~";function s(){}function o(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)i.call(t,e)&&r.push(n?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t,e){var r=n?n+t:t,i=this._events[r];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var s=0,o=i.length,a=new Array(o);s<o;s++)a[s]=i[s].fn;return a},a.prototype.emit=function(t,e,r,i,s,o){var a=n?n+t:t;if(!this._events[a])return!1;var h,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,s),!0;case 6:return l.fn.call(l.context,e,r,i,s,o),!0}for(u=1,h=new Array(c-1);u<c;u++)h[u-1]=arguments[u];l.fn.apply(l.context,h)}else{var f,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;case 4:l[u].fn.call(l[u].context,e,r,i);break;default:if(!h)for(f=1,h=new Array(c-1);f<c;f++)h[f-1]=arguments[f];l[u].fn.apply(l[u].context,h)}}return!0},a.prototype.on=function(t,e,r){var i=new o(e,r||this),s=n?n+t:t;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):(this._events[s]=i,this._eventsCount++),this},a.prototype.once=function(t,e,r){var i=new o(e,r||this,!0),s=n?n+t:t;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):(this._events[s]=i,this._eventsCount++),this},a.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return 0==--this._eventsCount?this._events=new s:delete this._events[o],this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||(0==--this._eventsCount?this._events=new s:delete this._events[o]);else{for(var h=0,u=[],l=a.length;h<l;h++)(a[h].fn!==e||i&&!a[h].once||r&&a[h].context!==r)&&u.push(a[h]);u.length?this._events[o]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new s:delete this._events[o]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new s:delete this._events[e])):(this._events=new s,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=n,a.EventEmitter=a,t.exports=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(288);e.TimelineFull=class extends i.TimelineMax{constructor(...t){super(...t),this.vars=Object.assign({},this.vars,{onPlay:this.onPlay.bind(this),onPause:this.onPlay.bind(this)})}onPlay(){}onPause(){}restart(...t){const e=super.restart(...t),r=this.recent();try{this._callback("onRestart"),r&&r._callback("onRestart")}catch(t){console.log("TimelineFull restart error")}return e}pause(...t){const e=super.pause(...t),r=this.recent();try{this._callback("onPause"),r&&r._callback("onPause")}catch(t){console.log("TimelineFull pause error",r)}return e}play(...t){const e=super.play(...t),r=this.recent();try{this._callback("onPlay"),r&&r._callback("onPlay")}catch(t){console.log("TimelineFull play error")}return e}}},function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"b",function(){return s});var i=r(22);function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s(t)}function s(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:i.a}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r(0),n=function(t){function e(r){var i=t.call(this,r?r.length+" errors occurred during unsubscription:\n  "+r.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"")||this;return i.errors=r,i.name="UnsubscriptionError",Object.setPrototypeOf(i,e.prototype),i}return i.a(e,t),e}(Error)},function(t,e,r){"use strict";e.__esModule=!0;var i=r(13),n=h(r(18)),s=h(r(42)),o=h(r(127)),a=h(r(102));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(r,s,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return a.uid=(0,i.uid)(),a.touched=0,a.resolution=o||n.default.RESOLUTION,a.width=100,a.height=100,a.realWidth=100,a.realHeight=100,a.scaleMode=void 0!==s?s:n.default.SCALE_MODE,a.hasLoaded=!1,a.isLoading=!1,a.source=null,a.origSource=null,a.imageType=null,a.sourceScale=1,a.premultipliedAlpha=!0,a.imageUrl=null,a.isPowerOfTwo=!1,a.mipmap=n.default.MIPMAP_TEXTURES,a.wrapMode=n.default.WRAP_MODE,a._glTextures={},a._enabled=0,a._virtalBoundId=-1,a._destroyed=!1,a.textureCacheIds=[],r&&a.loadSource(r),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=a.default.isPow2(this.realWidth)&&a.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var r=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var i=this;if(t.onload=function(){i._updateImageType(),t.onload=null,t.onerror=null,i.isLoading&&(i.isLoading=!1,i._sourceLoaded(),"svg"!==i.imageType?i.emit("loaded",i):i._loadSvgSource())},t.onerror=function(){t.onload=null,t.onerror=null,i.isLoading&&(i.isLoading=!1,i.emit("error",i))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===i.imageType)return void i._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,i.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var r=t.subType.split("+")[0];if(!(e=(0,i.getUrlFileExtension)("."+r)))throw new Error("Invalid image type in data URI.")}else(e=(0,i.getUrlFileExtension)(this.imageUrl))||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,i.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var r=(0,i.getSvgSize)(t),n=r.width,s=r.height;if(!n||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(n*this.sourceScale),this.realHeight=Math.round(s*this.sourceScale),this._updateDimensions();var o=document.createElement("canvas");o.width=this.realWidth,o.height=this.realHeight,o._pixiId="canvas_"+(0,i.uid)(),o.getContext("2d").drawImage(this.source,0,0,n,s,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=o,e.addToCache(this,o._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete i.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,r,n,s){var a=i.BaseTextureCache[t];if(!a){var h=new Image;void 0===r&&0!==t.indexOf("data:")?h.crossOrigin=(0,o.default)(t):r&&(h.crossOrigin="string"==typeof r?r:"anonymous"),(a=new e(h,n)).imageUrl=t,s&&(a.sourceScale=s),a.resolution=(0,i.getResolutionOfUrl)(t),h.src=t,e.addToCache(a,t)}return a},e.fromCanvas=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=n+"_"+(0,i.uid)());var s=i.BaseTextureCache[t._pixiId];return s||(s=new e(t,r),e.addToCache(s,t._pixiId)),s},e.from=function(t,r,n){if("string"==typeof t)return e.fromImage(t,void 0,r,n);if(t instanceof HTMLImageElement){var s=t.src,o=i.BaseTextureCache[s];return o||((o=new e(t,r)).imageUrl=s,n&&(o.sourceScale=n),o.resolution=(0,i.getResolutionOfUrl)(s),e.addToCache(o,s)),o}return t instanceof HTMLCanvasElement?e.fromCanvas(t,r):t},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),i.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),i.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=i.BaseTextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete i.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete i.BaseTextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},e}(s.default);e.default=u},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var i=r(0),n=r(1);function s(){return function(t){return t.lift(new o(t))}}var o=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var i=new a(t,r),n=e.subscribe(i);return i.closed||(i.connection=r.connect()),n},t}(),a=function(t){function e(e,r){var i=t.call(this,e)||this;return i.connectable=r,i}return i.a(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,i=t._connection;this.connection=null,!i||r&&i!==r||i.unsubscribe()}}else this.connection=null},e}(n.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return l});var i=r(0),n=r(8),s=r(83),o=r(5),a=r(77),h=r(28),u=r(85),l=function(t){function e(e,r,i){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=t.call(this)||this;return n.scheduler=i,n._events=[],n._infiniteTimeWindow=!1,n._bufferSize=e<1?1:e,n._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(n._infiniteTimeWindow=!0,n.next=n.nextInfiniteTimeWindow):n.next=n.nextTimeWindow,n}return i.a(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var r=this._events;r.push(e),r.length>this._bufferSize&&r.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new c(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._infiniteTimeWindow,i=r?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,s=i.length;if(this.closed)throw new h.a;if(this.isStopped||this.hasError?e=o.a.EMPTY:(this.observers.push(t),e=new u.a(this,t)),n&&t.add(t=new a.a(t,n)),r)for(var l=0;l<s&&!t.closed;l++)t.next(i[l]);else for(l=0;l<s&&!t.closed;l++)t.next(i[l].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||s.a).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,i=this._events,n=i.length,s=0;s<n&&!(t-i[s].time<r);)s++;return n>e&&(s=Math.max(s,n-e)),s>0&&i.splice(0,s),i},e}(n.a),c=function(t,e){this.time=t,this.value=e}},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var i=r(14),n=r(20),s=r(10),o=r(55);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];switch(Object(i.a)(r)?t.pop():r=void 0,t.length){case 0:return Object(s.b)(r);case 1:return r?Object(n.a)(t,r):Object(o.a)(t[0]);default:return Object(n.a)(t,r)}}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r(2);function n(t,e){return e?new i.a(function(r){return e.schedule(s,0,{error:t,subscriber:r})}):new i.a(function(e){return e.error(t)})}function s(t){var e=t.error;t.subscriber.error(e)}},function(t,e,r){"use strict";r.d(e,"b",function(){return l}),r.d(e,"a",function(){return c});var i=r(0),n=r(14),s=r(12),o=r(4),a=r(3),h=r(20),u={};function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null,i=null;return Object(n.a)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(s.a)(t[0])&&(t=t[0]),Object(h.a)(t,i).lift(new c(r))}var c=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.resultSelector))},t}(),f=function(t){function e(e,r){var i=t.call(this,e)||this;return i.resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return i.a(e,t),e.prototype._next=function(t){this.values.push(u),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var i=t[r];this.add(Object(a.a)(this,i,i,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){var s=this.values,o=s[r],a=this.toRespond?o===u?--this.toRespond:this.toRespond:0;s[r]=e,0===a&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var i=r(30),n=r(23);function s(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(i.a)(n.a,t)}},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var i=r(2),n=r(17),s=r(10);function o(t){return new i.a(function(e){var r;try{r=t()}catch(t){return void e.error(t)}return(r?Object(n.a)(r):Object(s.b)()).subscribe(e)})}},function(t,e,r){"use strict";r.d(e,"b",function(){return l}),r.d(e,"a",function(){return c});var i=r(0),n=r(20),s=r(12),o=r(1),a=r(4),h=r(3),u=r(25);function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),Object(n.a)(t,void 0).lift(new c(r))}var c=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.resultSelector))},t}(),f=function(t){function e(e,r,i){void 0===i&&(i=Object.create(null));var n=t.call(this,e)||this;return n.iterators=[],n.active=0,n.resultSelector="function"==typeof r?r:null,n.values=i,n}return i.a(e,t),e.prototype._next=function(t){var e=this.iterators;Object(s.a)(t)?e.push(new d(t)):"function"==typeof t[u.a]?e.push(new p(t[u.a]())):e.push(new m(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0!==e){this.active=e;for(var r=0;r<e;r++){var i=t[r];i.stillUnsubscribed?this.add(i.subscribe(i,r)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,i=0;i<e;i++)if("function"==typeof(o=t[i]).hasValue&&!o.hasValue())return;var n=!1,s=[];for(i=0;i<e;i++){var o,a=(o=t[i]).next();if(o.hasCompleted()&&(n=!0),a.done)return void r.complete();s.push(a.value)}this.resultSelector?this._tryresultSelector(s):r.next(s),n&&r.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.a),p=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),d=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[u.a]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),m=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.parent=r,n.observable=i,n.stillUnsubscribed=!0,n.buffer=[],n.isComplete=!1,n}return i.a(e,t),e.prototype[u.a]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return Object(h.a)(this,this.observable,this,e)},e}(a.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r(2);function n(t){var e=new i.a(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}},function(t,e,r){"use strict";var i=r(0),n=1,s={},o=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i}return i.a(e,t),e.prototype.requestAsyncId=function(e,r,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,r,i):(e.actions.push(this),e.scheduled||(e.scheduled=function(t){var e=n++;return s[e]=t,Promise.resolve().then(function(){return function(t){var e=s[t];e&&e()}(e)}),e}(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,i);0===e.actions.length&&(function(t){delete s[t]}(r),e.scheduled=void 0)},e}(r(37).a),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,i=-1,n=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<n&&(t=r.shift()));if(this.active=!1,e){for(;++i<n&&(t=r.shift());)t.unsubscribe();throw e}},e}(r(35).a);r.d(e,"a",function(){return h});var h=new a(o)},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var i=r(21),n=r(39),s={closed:!0,next:function(t){},error:function(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(n.a)(t)},complete:function(){}}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=r(13),s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.children=[],r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);(0,n.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.removeChild(arguments[r]);else{var i=this.children.indexOf(t);if(-1===i)return null;t.parent=null,t.transform._parentID=-1,(0,n.removeItems)(this.children,i,1),this._boundsID++,this.onChildrenChange(i),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,n.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=t,i="number"==typeof e?e:this.children.length,n=i-r,s=void 0;if(n>0&&n<=i){s=this.children.splice(r,n);for(var o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<s.length;++a)s[a].emit("removed",this);return s}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}r&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var n=0,s=this.children.length;n<s;n++)this.children[n].renderWebGL(t);t.flush(),r&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var r="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<i.length;++n)i[n].destroy(e)},i(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(r(124)).default);e.default=s,s.prototype.containerUpdateTransform=s.prototype.updateTransform},function(t,e,r){"use strict";e.__esModule=!0;var i=l(r(132)),n=l(r(205)),s=l(r(134)),o=l(r(206)),a=r(13),h=r(7),u=l(r(18));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(r,i,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"Canvas",r,i,s));return a.type=h.RENDERER_TYPE.CANVAS,a.rootContext=a.view.getContext("2d",{alpha:a.transparent}),a.context=a.rootContext,a.refresh=!0,a.maskManager=new n.default(a),a.smoothProperty="imageSmoothingEnabled",a.rootContext.imageSmoothingEnabled||(a.rootContext.webkitImageSmoothingEnabled?a.smoothProperty="webkitImageSmoothingEnabled":a.rootContext.mozImageSmoothingEnabled?a.smoothProperty="mozImageSmoothingEnabled":a.rootContext.oImageSmoothingEnabled?a.smoothProperty="oImageSmoothingEnabled":a.rootContext.msImageSmoothingEnabled&&(a.smoothProperty="msImageSmoothingEnabled")),a.initPlugins(),a.blendModes=(0,o.default)(),a._activeBlendMode=null,a.renderingToScreen=!1,a.resize(a.options.width,a.options.height),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(t,e,r,i,n){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var o=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new s.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(e||(this._lastObjectRendered=t),!n){var u=t.parent,l=this._tempDisplayObjectParent.transform.worldTransform;i?(i.copy(l),this._tempDisplayObjectParent.transform._worldID=-1):l.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=u}a.save(),a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=h.BLEND_MODES.NORMAL,a.globalCompositeOperation=this.blendModes[h.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==r?r:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var c=this.context;this.context=a,t.renderCanvas(this),this.context=c,a.restore(),this.resolution=o,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=u.default.SCALE_MODE===h.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(i.default);e.default=c,a.pluginTarget.mixin(c)},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var i=r(26),n=function(t){return t&&t.__esModule?t:{default:t}}(r(18));function s(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var r=t.slice(0);return r.unshift("precision "+e+" float;"),r}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}var o=function(t){function e(r,i,o,a,h){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,s(i,h||n.default.PRECISION_VERTEX),s(o,h||n.default.PRECISION_FRAGMENT),void 0,a))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.GLShader);e.default=o},function(t,e,r){"use strict";var i=r(259).default,n=r(107).default,s=r(159),o=r(160);i.Resource=n,i.async=s,i.base64=o,t.exports=i,t.exports.default=i},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),s=function(t){return t&&t.__esModule?t:{default:t}}(r(41)),o=new n.Point,a=new n.Polygon,h=function(t){function e(r,i,o,a,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return u._texture=r||s.default.EMPTY,u.uvs=o||new Float32Array([0,0,1,0,1,1,0,1]),u.vertices=i||new Float32Array([0,0,100,0,100,100,0,100]),u.indices=a||new Uint16Array([0,1,3,2]),u.dirty=0,u.indexDirty=0,u.blendMode=n.BLEND_MODES.NORMAL,u.canvasPadding=n.settings.MESH_CANVAS_PADDING,u.drawMode=h||e.DRAW_MODES.TRIANGLE_MESH,u.shader=null,u.tintRgb=new Float32Array([1,1,1]),u._glDatas={},u._uvTransform=new n.TextureMatrix(u._texture),u.uploadUvTransform=!1,u.pluginName="mesh",u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,o);for(var r=this.vertices,i=a.points,n=this.indices,s=this.indices.length,h=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,u=0;u+2<s;u+=h){var l=2*n[u],c=2*n[u+1],f=2*n[u+2];if(i[0]=r[l],i[1]=r[l+1],i[2]=r[c],i[3]=r[c+1],i[4]=r[f],i[5]=r[f+1],a.contains(o.x,o.y))return!0}return!1},i(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return n.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=n.utils.hex2rgb(t,this.tintRgb)}}]),e}(n.Container);e.default=h,h.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPT={effectId:"",title:"",description:"",thumbnail:"",type:"effect",cat:"text"},e.BaseEffectFactory=class{constructor(t){this.effectData=Object.assign({},e.DEFAULT_OPT,t)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(168),n=r(43);e.BaseEffect=class{constructor(t){this.animations=[],this.opt=t,this.container=t.container,this.config=t.config,this.manager=t.manager,this.editor=t.editor,this.defaultAnimations=t.animations,this.editor&&this.initTransformTool(),this.timeline=this.constructTimeline(),this.load(),this.beforeInit(),this.init(),this.afterInit()}load(){}init(){}afterInit(){this.editor&&this.attachTransformTool(),this.registerEvents(),this.defaultAnimations&&this.updateCongig(this.config),this.defaultAnimations&&this.updateAnimation(this.defaultAnimations)}beforeInit(){this.constructHost()}constructHost(){this.host=new PIXI.Container,this.colorMatrix=new PIXI.filters.ColorMatrixFilter,this.host.filters=[this.colorMatrix],this.container&&this.container.addChild(this.host)}attachView(t){this.container=t,this.host&&this.host.parent!==this.container&&this.container.addChild(this.host),this.childEffects.forEach(t=>t.attachView(this.container))}update(){this.loadded&&!this.ready&&this.init()}play(){return this.timeline&&this.timeline.play()}pause(){return this.timeline&&this.timeline.pause()}reset(){return this.timeline&&this.timeline.play(0)}stop(){return this.timeline&&this.timeline.pause(0)}updateCongig(t){t&&(t.transition&&this.updateTransition(t.transition),t.transform&&this.updateTransform(t.transform),t.arrange&&this.updateArrange(t.arrange),t.colorAdjust&&this.updateColorAjust(t.colorAdjust))}updateArrange(t){this.updateArrangeY(t.arrangeY),this.updateArrangeX(t.arrangeX),this.updateArrangeIndex(t.index)}updateColorAjust(t){"number"==typeof t.hue&&this.colorMatrix.hue(t.hue),"number"==typeof t.brightness&&this.colorMatrix.brightness(t.brightness),"number"==typeof t.saturate&&this.colorMatrix.saturate(t.saturate),"number"==typeof t.contrast&&this.colorMatrix.contrast(t.contrast)}updateTransform(t){this.updatePosition(t.x,t.y),this.updateRotation(t.rotation),this.updateScale(t.scaleX,t.scaleY),t.width&&t.height&&this.updateSize(t.width,t.height)}updateArrangeIndex(t){t===i.EffectArrage.Front?this.bringToFront():t===i.EffectArrage.Back?this.bringToBack():this.container.zIndex=t}bringToFront(){}bringToBack(){}updateArrangeY(t){t===i.EffectArrage.Top?this.host.y=0:t===i.EffectArrage.Bottom?this.host.y=265:t===i.EffectArrage.Midle&&(this.host.y=135)}updateArrangeX(t){t===i.EffectArrage.Left?this.host.x=0:t===i.EffectArrage.Center?this.host.x=145:t===i.EffectArrage.Right&&(this.host.x=280)}updateRotation(t){this.host.rotation=t}updateScale(t,e){this.host.scale.set(t,e)}updateSize(t,e){this.host.width=t,this.host.height=e}updatePosition(t,e){this.host.x=t,this.host.y=e}updateVisible(t){this.host.visible=t}updateAnimation(t=[]){for(const t of this.animations)this.timeline.remove(t);this.animations=[];for(const e of t){const t=this.buildTransitionTimeline(e.meta.transId,{config:e.config,target:this.host});this.animations.push(t),this.timeline.add(t.play(),0)}}add(t,e){this.childEffects.push(t),this.timeline&&this.timeline.add(t.timeline,e)}select(){if(this.editor&&(this.editor.apply(this.host),this.editor.on("blur",this.onTransformUpdate.bind(this))),"function"==typeof this.onSelect){const t=this.serialize();this.onSelect(t)}}unselect(){this.editor&&(this.editor.clear(),this.editor.off("blur"))}serialize(){return{width:this.host.width,height:this.host.height}}constructView(){const t=new PIXI.Container;return this.background=new PIXI.Graphics,this.background.beginFill(16776960),this.background.drawRect(0,0,120,65),t.addChild(this.background),this.background.endFill(),t}onTransformUpdate(t){"function"==typeof this.onTransform&&this.onTransform(t)}registerEvents(){this.host.on("click",this.onSpriteClick.bind(this))}onSpriteClick(t){"function"==typeof this.onClick&&this.onClick(t)}initTransformTool(){}attachTransformTool(){this.host.interactive=!0}constructTimeline(){return new n.TimelineFull({paused:!0,onPlay:this.onPlay.bind(this),onRestart:this.onRestart.bind(this),onPause:this.onPause.bind(this)})}onStart(){console.log("onStart")}onStartScope(){console.log("onStartScope")}onUpdate(){console.log("onUpdate")}onUpdateScope(){console.log("onUpdateScope")}onRepeat(){console.log("onRepeat")}onRepeatScope(){console.log("onRepeatScope")}onReverseComplete(){console.log("onReverseComplete")}onReverseCompleteScope(){console.log("onReverseCompleteScope")}onPlay(){console.log("onPlay")}onPause(){console.log("onPause")}onRestart(){console.log("onRestart")}updateTransition(t){t.enter&&this.updateEnterTransition(t.enter),t.present&&this.updatePresentTransition(t.present),t.leave&&this.updateLeaveTransition(t.leave)}updateEnterTransition(t){this.enterTransition&&this.timeline.remove(this.enterTransition),this.enterTransition=this.buildTransitionTimeline(t,{target:this.host}),this.timeline.add(this.enterTransition.play())}updatePresentTransition(t){this.presentTransition&&this.timeline.remove(this.presentTransition),this.presentTransition=this.buildTransitionTimeline(t,{target:this.host,config:t.config}),this.timeline.add(this.presentTransition.play())}updateLeaveTransition(t){this.leaveTransition&&this.timeline.remove(this.leaveTransition),this.leaveTransition=this.buildTransitionTimeline(t,{target:this.host}),this.timeline.add(this.leaveTransition.play())}buildTransitionTimeline(t,e){return this.manager.createTransitionTimeLine(t,e)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(167),n=r(109);e.EffectManagerService=class{constructor(){this.injector=n.Injector.getInstance(),this.transitionFactory=this.injector.get(i.TransitionFactoryService)}getTransitionById(t){return this.transitionFactory.getTrasitionById(t)}createTransitionTimeLine(t,e){return this.transitionFactory.factory(t,e)}}},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var i=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=function(){return Date.now()},t}()},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(function(t){return t&&t.__esModule?t:{default:t}}(r(61)).default);e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var i=g(r(132)),n=g(r(208)),s=g(r(211)),o=g(r(212)),a=g(r(71)),h=g(r(69)),u=g(r(214)),l=g(r(46)),c=g(r(215)),f=g(r(216)),p=g(r(218)),d=g(r(219)),m=r(13),y=g(r(26)),v=r(7);function g(t){return t&&t.__esModule?t:{default:t}}var _=0,b=function(t){function e(r,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"WebGL",r,i,o));return a.legacy=a.options.legacy,a.legacy&&(y.default.VertexArrayObject.FORCE_NATIVE=!0),a.type=v.RENDERER_TYPE.WEBGL,a.handleContextLost=a.handleContextLost.bind(a),a.handleContextRestored=a.handleContextRestored.bind(a),a.view.addEventListener("webglcontextlost",a.handleContextLost,!1),a.view.addEventListener("webglcontextrestored",a.handleContextRestored,!1),a._contextOptions={alpha:a.transparent,antialias:a.options.antialias,premultipliedAlpha:a.transparent&&"notMultiplied"!==a.transparent,stencil:!0,preserveDrawingBuffer:a.options.preserveDrawingBuffer,powerPreference:a.options.powerPreference},a._backgroundColorRgba[3]=a.transparent?0:1,a.maskManager=new n.default(a),a.stencilManager=new s.default(a),a.emptyRenderer=new h.default(a),a.currentRenderer=a.emptyRenderer,a.textureManager=null,a.filterManager=null,a.initPlugins(),a.options.context&&(0,d.default)(a.options.context),a.gl=a.options.context||y.default.createContext(a.view,a._contextOptions),a.CONTEXT_UID=_++,a.state=new f.default(a.gl),a.renderingToScreen=!0,a.boundTextures=null,a._activeShader=null,a._activeVao=null,a._activeRenderTarget=null,a._initContext(),a.drawModes=(0,p.default)(a.gl),a._nextTextureLocation=0,a.setBlendMode(0),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new u.default(this),this.filterManager=new o.default(this),this.textureGC=new c.default(this),this.state.resetToDefault(),this.rootRenderTarget=new a.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new y.default.GLTexture.fromData(t,null,1,1),i={_glTextures:{}};i._glTextures[this.CONTEXT_UID]={};for(var n=0;n<e;n++){var s=new l.default;s._glTextures[this.CONTEXT_UID]=r,this.boundTextures[n]=i,this.emptyTextures[n]=s,this.bindTexture(null,n)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,r,i,n){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!n){var s=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=s}this.bindRenderTexture(e,i),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){i.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var r=void 0;if(t){var i=t.baseTexture;i._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(i,0),this.unbindTexture(i),(r=i._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,r){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,r)e=e||0;else{for(var i=0;i<this.boundTextures.length;i++)if(this.boundTextures[i]===t)return i;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var n=this.gl,s=t._glTextures[this.CONTEXT_UID];return s?(this.boundTextures[e]=t,n.activeTexture(n.TEXTURE0+e),n.bindTexture(n.TEXTURE_2D,s.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new y.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(i.default);e.default=b,m.pluginTarget.mixin(b)},function(t,e,r){"use strict";e.__esModule=!0;var i=r(19),n=r(7),s=function(t){return t&&t.__esModule?t:{default:t}}(r(18)),o=r(26),a=function(){function t(e,r,a,h,u,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.resolution=u||s.default.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0!==h?h:s.default.SCALE_MODE,this.root=l,this.root?(this.frameBuffer=new o.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=o.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===n.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,a)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){t.nativeLines?function(t,e){var r=0,i=t.points;if(0!==i.length){var s=e.points,o=i.length/2,a=(0,n.hex2rgb)(t.lineColor),h=t.lineAlpha,u=a[0]*h,l=a[1]*h,c=a[2]*h;for(r=1;r<o;r++){var f=i[2*(r-1)],p=i[2*(r-1)+1],d=i[2*r],m=i[2*r+1];s.push(f,p),s.push(u,l,c,h),s.push(d,m),s.push(u,l,c,h)}}}(t,r):function(t,e){var r=t.points;if(0!==r.length){var s=new i.Point(r[0],r[1]),o=new i.Point(r[r.length-2],r[r.length-1]);if(s.x===o.x&&s.y===o.y){(r=r.slice()).pop(),r.pop();var a=(o=new i.Point(r[r.length-2],r[r.length-1])).x+.5*(s.x-o.x),h=o.y+.5*(s.y-o.y);r.unshift(a,h),r.push(a,h)}var u=e.points,l=e.indices,c=r.length/2,f=r.length,p=u.length/6,d=t.lineWidth/2,m=(0,n.hex2rgb)(t.lineColor),y=t.lineAlpha,v=m[0]*y,g=m[1]*y,_=m[2]*y,b=r[0],x=r[1],T=r[2],w=r[3],E=0,S=0,P=-(x-w),C=b-T,A=0,M=0,O=0,I=0,D=Math.sqrt(P*P+C*C);P/=D,C/=D,P*=d,C*=d,u.push(b-P,x-C,v,g,_,y),u.push(b+P,x+C,v,g,_,y);for(var R=1;R<c-1;++R){b=r[2*(R-1)],x=r[2*(R-1)+1],T=r[2*R],w=r[2*R+1],E=r[2*(R+1)],S=r[2*(R+1)+1],P=-(x-w),C=b-T,P/=D=Math.sqrt(P*P+C*C),C/=D,P*=d,C*=d,A=-(w-S),M=T-E,A/=D=Math.sqrt(A*A+M*M),M/=D;var k=-C+x-(-C+w),F=-P+T-(-P+b),L=(-P+b)*(-C+w)-(-P+T)*(-C+x),N=-(M*=d)+S-(-M+w),B=-(A*=d)+T-(-A+E),j=(-A+E)*(-M+w)-(-A+T)*(-M+S),V=k*B-N*F;if(Math.abs(V)<.1)V+=10.1,u.push(T-P,w-C,v,g,_,y),u.push(T+P,w+C,v,g,_,y);else{var z=(F*j-B*L)/V,G=(N*L-k*j)/V;(z-T)*(z-T)+(G-w)*(G-w)>196*d*d?(O=P-A,I=C-M,O/=D=Math.sqrt(O*O+I*I),I/=D,O*=d,I*=d,u.push(T-O,w-I),u.push(v,g,_,y),u.push(T+O,w+I),u.push(v,g,_,y),u.push(T-O,w-I),u.push(v,g,_,y),f++):(u.push(z,G),u.push(v,g,_,y),u.push(T-(z-T),w-(G-w)),u.push(v,g,_,y))}}b=r[2*(c-2)],x=r[2*(c-2)+1],T=r[2*(c-1)],P=-(x-(w=r[2*(c-1)+1])),C=b-T,P/=D=Math.sqrt(P*P+C*C),C/=D,P*=d,C*=d,u.push(T-P,w-C),u.push(v,g,_,y),u.push(T+P,w+C),u.push(v,g,_,y),l.push(p);for(var U=0;U<f;++U)l.push(p++);l.push(p-1)}}(t,e)};var i=r(19),n=r(13)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(43);e.DEFAULT_OPT={transId:"",name:"",desc:"",cat:"default",type:"transition"},e.BaseTransition=class{constructor(t){this.config={},this.meta=t}createTimeLine(t){const e=new i.TimelineFull({paused:!0});return this.buildTimelineScript(e,t.target,t.config),e}buildTimelineScript(t,e,r){return t}}},function(t,e,r){"use strict";r.d(e,"b",function(){return h}),r.d(e,"a",function(){return f});var i=r(0),n=r(1),s=r(5),o=r(2),a=r(8);function h(t,e,r,i){return function(n){return n.lift(new u(t,e,r,i))}}var u=function(){function t(t,e,r,i){this.keySelector=t,this.elementSelector=e,this.durationSelector=r,this.subjectSelector=i}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),l=function(t){function e(e,r,i,n,s){var o=t.call(this,e)||this;return o.keySelector=r,o.elementSelector=i,o.durationSelector=n,o.subjectSelector=s,o.groups=null,o.attemptedToUnsubscribe=!1,o.count=0,o}return i.a(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups=new Map);var i,n=r.get(e);if(this.elementSelector)try{i=this.elementSelector(t)}catch(t){this.error(t)}else i=t;if(!n){n=this.subjectSelector?this.subjectSelector():new a.a,r.set(e,n);var s=new f(e,n,this);if(this.destination.next(s),this.durationSelector){var o=void 0;try{o=this.durationSelector(new f(e,n))}catch(t){return void this.error(t)}this.add(o.subscribe(new c(e,n,this)))}}n.closed||n.next(i)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,r){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(n.a),c=function(t){function e(e,r,i){var n=t.call(this,r)||this;return n.key=e,n.group=r,n.parent=i,n}return i.a(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(n.a),f=function(t){function e(e,r,i){var n=t.call(this)||this;return n.key=e,n.groupSubject=r,n.refCountSubscription=i,n}return i.a(e,t),e.prototype._subscribe=function(t){var e=new s.a,r=this.refCountSubscription,i=this.groupSubject;return r&&!r.closed&&e.add(new p(r)),e.add(i.subscribe(t)),e},e}(o.a),p=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,e.count++,r}return i.a(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(s.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return u}),r.d(e,"b",function(){return c});var i=r(0),n=r(8),s=r(2),o=r(1),a=r(5),h=r(47),u=function(t){function e(e,r){var i=t.call(this)||this;return i.source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return i.a(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new f(this.getSubject(),this))),t.closed?(this._connection=null,t=a.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return Object(h.a)()(this)},e}(s.a),l=u.prototype,c={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:l._subscribe},_isComplete:{value:l._isComplete,writable:!0},getSubject:{value:l.getSubject},connect:{value:l.connect},refCount:{value:l.refCount}},f=function(t){function e(e,r){var i=t.call(this,e)||this;return i.connectable=r,i}return i.a(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(n.b);o.a},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var i=r(0),n=r(8),s=r(28),o=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return i.a(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new s.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(n.a)},function(t,e,r){"use strict";r.d(e,"b",function(){return o}),r.d(e,"a",function(){return h});var i=r(0),n=r(1),s=r(24);function o(t,e){return void 0===e&&(e=0),function(r){return r.lift(new a(t,e))}}var a=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.scheduler,this.delay))},t}(),h=function(t){function e(e,r,i){void 0===i&&(i=0);var n=t.call(this,e)||this;return n.scheduler=r,n.delay=i,n}return i.a(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new u(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(s.a.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(s.a.createError(t))},e.prototype._complete=function(){this.scheduleMessage(s.a.createComplete())},e}(n.a),u=function(t,e){this.notification=t,this.destination=e}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r(0),n=function(t){function e(){var r=t.call(this,"Timeout has occurred")||this;return r.name="TimeoutError",Object.setPrototypeOf(r,e.prototype),r}return i.a(e,t),e}(Error)},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r(52);function n(){return Object(i.a)(1)}},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var i=r(2),n=r(14),s=r(52),o=r(20);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,a=null,h=t[t.length-1];return Object(n.a)(h)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof h&&(r=t.pop()),null===a&&1===t.length&&t[0]instanceof i.a?t[0]:Object(s.a)(r)(Object(o.a)(t,a))}},function(t,e,r){"use strict";r.d(e,"a",function(){return h});var i=r(0),n=r(12),s=r(20),o=r(4),a=r(3);function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!Object(n.a)(t[0]))return t[0];t=t[0]}return Object(s.a)(t,void 0).lift(new u)}var u=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new l(t))},t}(),l=function(t){function e(e){var r=t.call(this,e)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return i.a(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var r=0;r<e&&!this.hasFirst;r++){var i=t[r],n=Object(a.a)(this,i,i,r);this.subscriptions&&this.subscriptions.push(n),this.add(n)}this.observables=null}},e.prototype.notifyNext=function(t,e,r,i,n){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==r){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(e)},e}(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var i=r(2),n=r(11),s=r(38),o=r(14);function a(t,e,r){void 0===t&&(t=0);var a=-1;return Object(s.a)(e)?a=Number(e)<1?1:Number(e):Object(o.a)(e)&&(r=e),Object(o.a)(r)||(r=n.a),new i.a(function(e){var i=Object(s.a)(t)?t:+t-r.now();return r.schedule(h,i,{index:0,period:a,subscriber:e})})}function h(t){var e=t.index,r=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===r)return i.complete();t.index=e+1,this.schedule(t,r)}}},function(t,e,r){"use strict";var i=r(0),n=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i}return i.a(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,i):e.flush(this)},e}(r(37).a),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e}(r(35).a);r.d(e,"a",function(){return o});var o=new s(n)},function(t,e,r){"use strict";function i(t){return null!=t&&"object"==typeof t}r.d(e,"a",function(){return i})},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r(0),n=function(t){function e(e,r){var i=t.call(this)||this;return i.subject=e,i.subscriber=r,i.closed=!1,i}return i.a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(r(5).a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var i=function(t){return function(e){for(var r=0,i=t.length;r<i&&!e.closed;r++)e.next(t[r]);e.closed||e.complete()}}},function(t,e,r){"use strict";r.d(e,"a",function(){return p});var i=r(2),n=r(86),s=r(91),o=r(92),a=r(88),h=r(89),u=r(90),l=r(84),c=r(25),f=r(27),p=function(t){if(t instanceof i.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[f.a])return Object(a.a)(t);if(Object(h.a)(t))return Object(n.a)(t);if(Object(u.a)(t))return Object(s.a)(t);if(t&&"function"==typeof t[c.a])return Object(o.a)(t);var e=Object(l.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r(27),n=function(t){return function(e){var r=t[i.a]();if("function"!=typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}}},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var i=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},function(t,e,r){"use strict";function i(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}r.d(e,"a",function(){return i})},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r(39),n=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,i.a),e}}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r(25),n=function(t){return function(e){for(var r=t[i.a]();;){var n=r.next();if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}return"function"==typeof r.return&&e.add(function(){r.return&&r.return()}),e}}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){return t&&t.__esModule?t:{default:t}}(r(93)),s=r(7),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.a=e,this.b=r,this.c=i,this.d=n,this.tx=s,this.ty=o,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,i,n,s){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=s,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new n.default;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new n.default;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,s=t.y;return e.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,s=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=s*e-this.ty*r,this.ty=s*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},t.prototype.setTransform=function(t,e,r,i,n,s,o,a,h){return this.a=Math.cos(o+h)*n,this.b=Math.sin(o+h)*n,this.c=-Math.sin(o-a)*s,this.d=Math.cos(o-a)*s,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,o=-Math.atan2(-i,n),a=Math.atan2(r,e),h=Math.abs(o+a);return h<1e-5||Math.abs(s.PI_2-h)<1e-5?(t.rotation=a,e<0&&n>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,s=t*i-e*r;return this.a=i/s,this.b=-e/s,this.c=-r/s,this.d=t/s,this.tx=(r*this.ty-i*n)/s,this.ty=-(t*this.ty-e*n)/s,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=r(7),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=Number(e),this.y=Number(r),this.width=Number(i),this.height=Number(s),this.type=n.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=i,this.height=n-i},i(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();e.default=s},function(t,e){var r=null,i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=function(t,e){if(!r){var n=Object.keys(i);r={};for(var s=0;s<n.length;++s){var o=n[s];r[t[o]]=i[o]}}return r[e]}},function(t,e,r){"use strict";e.__esModule=!0;var i=r(19),n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?i.Rectangle.EMPTY:((t=t||new i.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY,s=t[0],o=t[1];e=s<e?s:e,r=o<r?o:r,i=s>i?s:i,n=o>n?o:n,s=t[2],o=t[3],e=s<e?s:e,r=o<r?o:r,i=s>i?s:i,n=o>n?o:n,s=t[4],o=t[5],e=s<e?s:e,r=o<r?o:r,i=s>i?s:i,n=o>n?o:n,s=t[6],o=t[7],e=s<e?s:e,r=o<r?o:r,i=s>i?s:i,n=o>n?o:n,this.minX=e,this.minY=r,this.maxX=i,this.maxY=n},t.prototype.addFrame=function(t,e,r,i,n){var s=t.worldTransform,o=s.a,a=s.b,h=s.c,u=s.d,l=s.tx,c=s.ty,f=this.minX,p=this.minY,d=this.maxX,m=this.maxY,y=o*e+h*r+l,v=a*e+u*r+c;f=y<f?y:f,p=v<p?v:p,d=y>d?y:d,m=v>m?v:m,v=a*i+u*r+c,f=(y=o*i+h*r+l)<f?y:f,p=v<p?v:p,d=y>d?y:d,m=v>m?v:m,v=a*e+u*n+c,f=(y=o*e+h*n+l)<f?y:f,p=v<p?v:p,d=y>d?y:d,m=v>m?v:m,v=a*i+u*n+c,f=(y=o*i+h*n+l)<f?y:f,p=v<p?v:p,d=y>d?y:d,m=v>m?v:m,this.minX=f,this.minY=p,this.maxX=d,this.maxY=m},t.prototype.addVertices=function(t,e,r,i){for(var n=t.worldTransform,s=n.a,o=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=this.minX,f=this.minY,p=this.maxX,d=this.maxY,m=r;m<i;m+=2){var y=e[m],v=e[m+1],g=s*y+a*v+u,_=h*v+o*y+l;c=g<c?g:c,f=_<f?_:f,p=g>p?g:p,d=_>d?_:d}this.minX=c,this.minY=f,this.maxX=p,this.maxY=d},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>n?t.maxY:n},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,s=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=n&&i<=s){var o=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<o?r:o,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=s>u?s:u}},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,s=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=n&&i<=s){var o=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<o?r:o,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=s>u?s:u}},t}();e.default=n},function(t,e,r){var i,n,s;
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */!function(r){var o=/iPhone/i,a=/iPod/i,h=/iPad/i,u=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,l=/Android/i,c=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,f=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/Windows Phone/i,d=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,m=/BlackBerry/i,y=/BB10/i,v=/Opera Mini/i,g=/(CriOS|Chrome)(?=.*\bMobile\b)/i,_=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,b=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),x=function(t,e){return t.test(e)},T=function(t){var e=t||navigator.userAgent,r=e.split("[FBAN");if(void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]),this.apple={phone:x(o,e),ipod:x(a,e),tablet:!x(o,e)&&x(h,e),device:x(o,e)||x(a,e)||x(h,e)},this.amazon={phone:x(c,e),tablet:!x(c,e)&&x(f,e),device:x(c,e)||x(f,e)},this.android={phone:x(c,e)||x(u,e),tablet:!x(c,e)&&!x(u,e)&&(x(f,e)||x(l,e)),device:x(c,e)||x(f,e)||x(u,e)||x(l,e)},this.windows={phone:x(p,e),tablet:x(d,e),device:x(p,e)||x(d,e)},this.other={blackberry:x(m,e),blackberry10:x(y,e),opera:x(v,e),firefox:x(_,e),chrome:x(g,e),device:x(m,e)||x(y,e)||x(v,e)||x(_,e)||x(g,e)},this.seven_inch=x(b,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},w=function(){var t=new T;return t.Class=T,t};void 0!==t&&t.exports&&"undefined"==typeof window?t.exports=T:void 0!==t&&t.exports&&"undefined"!=typeof window?t.exports=w():(n=[],i=r.isMobile=w(),void 0===(s="function"==typeof i?i.apply(e,n):i)||(t.exports=s))}(this)},function(t,e,r){"use strict";e.__esModule=!0;var i=r(19),n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.worldTransform=new i.Matrix,this.localTransform=new i.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,r=this.worldTransform,i=this.localTransform;r.a=i.a*e.a+i.b*e.c,r.b=i.a*e.b+i.b*e.d,r.c=i.c*e.a+i.d*e.c,r.d=i.c*e.b+i.d*e.d,r.tx=i.tx*e.a+i.ty*e.c+e.tx,r.ty=i.tx*e.b+i.ty*e.d+e.ty,this._worldID++},t}();e.default=n,n.prototype.updateWorldTransform=n.prototype.updateTransform,n.IDENTITY=new n},function(t,e,r){"use strict";function i(t,e,r){r=r||2;var i,a,h,u,l,p,m,y=e&&e.length,v=y?e[0]*r:t.length,g=n(t,0,v,r,!0),_=[];if(!g)return _;if(y&&(g=function(t,e,r,i){var o,a,h,u=[];for(o=0,a=e.length;o<a;o++)(h=n(t,e[o]*i,o<a-1?e[o+1]*i:t.length,i,!1))===h.next&&(h.steiner=!0),u.push(d(h));for(u.sort(c),o=0;o<u.length;o++)f(u[o],r),r=s(r,r.next);return r}(t,e,g,r)),t.length>80*r){i=h=t[0],a=u=t[1];for(var b=r;b<v;b+=r)l=t[b],p=t[b+1],l<i&&(i=l),p<a&&(a=p),l>h&&(h=l),p>u&&(u=p);m=0!==(m=Math.max(h-i,u-a))?1/m:0}return o(g,_,r,i,a,m),_}function n(t,e,r,i,n){var s,o;if(n===S(t,e,r,i)>0)for(s=e;s<r;s+=i)o=T(s,t[s],t[s+1],o);else for(s=r-i;s>=e;s-=i)o=T(s,t[s],t[s+1],o);return o&&g(o,o.next)&&(w(o),o=o.next),o}function s(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!g(i,i.next)&&0!==v(i.prev,i,i.next))i=i.next;else{if(w(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function o(t,e,r,i,n,c,f){if(t){!f&&c&&function(t,e,r,i){var n=t;do{null===n.z&&(n.z=p(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,s,o,a,h,u=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,i=r,a=0,e=0;e<u&&(a++,i=i.nextZ);e++);for(h=u;a>0||h>0&&i;)0!==a&&(0===h||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,h--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;r=i}s.nextZ=null,u*=2}while(o>1)}(n)}(t,i,n,c);for(var d,m,y=t;t.prev!==t.next;)if(d=t.prev,m=t.next,c?h(t,i,n,c):a(t))e.push(d.i/r),e.push(t.i/r),e.push(m.i/r),w(t),t=m.next,y=m.next;else if((t=m)===y){f?1===f?o(t=u(t,e,r),e,r,i,n,c,2):2===f&&l(t,e,r,i,n,c):o(s(t),e,r,i,n,c,1);break}}}function a(t){var e=t.prev,r=t,i=t.next;if(v(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(m(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&v(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function h(t,e,r,i){var n=t.prev,s=t,o=t.next;if(v(n,s,o)>=0)return!1;for(var a=n.x<s.x?n.x<o.x?n.x:o.x:s.x<o.x?s.x:o.x,h=n.y<s.y?n.y<o.y?n.y:o.y:s.y<o.y?s.y:o.y,u=n.x>s.x?n.x>o.x?n.x:o.x:s.x>o.x?s.x:o.x,l=n.y>s.y?n.y>o.y?n.y:o.y:s.y>o.y?s.y:o.y,c=p(a,h,e,r,i),f=p(u,l,e,r,i),d=t.prevZ,y=t.nextZ;d&&d.z>=c&&y&&y.z<=f;){if(d!==t.prev&&d!==t.next&&m(n.x,n.y,s.x,s.y,o.x,o.y,d.x,d.y)&&v(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,y!==t.prev&&y!==t.next&&m(n.x,n.y,s.x,s.y,o.x,o.y,y.x,y.y)&&v(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&m(n.x,n.y,s.x,s.y,o.x,o.y,d.x,d.y)&&v(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;y&&y.z<=f;){if(y!==t.prev&&y!==t.next&&m(n.x,n.y,s.x,s.y,o.x,o.y,y.x,y.y)&&v(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function u(t,e,r){var i=t;do{var n=i.prev,s=i.next.next;!g(n,s)&&_(n,i,i.next,s)&&b(n,s)&&b(s,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(s.i/r),w(i),w(i.next),i=t=s),i=i.next}while(i!==t);return i}function l(t,e,r,i,n,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&y(h,u)){var l=x(h,u);return h=s(h,h.next),l=s(l,l.next),o(h,e,r,i,n,a),void o(l,e,r,i,n,a)}u=u.next}h=h.next}while(h!==t)}function c(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var r,i=e,n=t.x,s=t.y,o=-1/0;do{if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){var a=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&a>o){if(o=a,a===n){if(s===i.y)return i;if(s===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===o)return r.prev;var h,u=r,l=r.x,c=r.y,f=1/0;for(i=r.next;i!==u;)n>=i.x&&i.x>=l&&n!==i.x&&m(s<c?n:o,s,l,c,s<c?o:n,s,i.x,i.y)&&((h=Math.abs(s-i.y)/(n-i.x))<f||h===f&&i.x>r.x)&&b(i,t)&&(r=i,f=h),i=i.next;return r}(t,e)){var r=x(e,t);s(r,r.next)}}function p(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function d(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function m(t,e,r,i,n,s,o,a){return(n-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(i-a)-(r-o)*(e-a)>=0&&(r-o)*(s-a)-(n-o)*(i-a)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&_(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&b(t,e)&&b(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;do{r.y>s!=r.next.y>s&&r.next.y!==r.y&&n<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)}function v(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function g(t,e){return t.x===e.x&&t.y===e.y}function _(t,e,r,i){return!!(g(t,e)&&g(r,i)||g(t,i)&&g(r,e))||v(t,e,r)>0!=v(t,e,i)>0&&v(r,i,t)>0!=v(r,i,e)>0}function b(t,e){return v(t.prev,t,t.next)<0?v(t,e,t.next)>=0&&v(t,t.prev,e)>=0:v(t,e,t.prev)<0||v(t,t.next,e)<0}function x(t,e){var r=new E(t.i,t.x,t.y),i=new E(e.i,e.x,e.y),n=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,s.next=i,i.prev=s,i}function T(t,e,r,i){var n=new E(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function w(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,r,i){for(var n=0,s=e,o=r-i;s<r;s+=i)n+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return n}t.exports=i,t.exports.default=i,i.deviation=function(t,e,r,i){var n=e&&e.length,s=n?e[0]*r:t.length,o=Math.abs(S(t,0,s,r));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*r,l=a<h-1?e[a+1]*r:t.length;o-=Math.abs(S(t,u,l,r))}var c=0;for(a=0;a<i.length;a+=3){var f=i[a]*r,p=i[a+1]*r,d=i[a+2]*r;c+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},i.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[n][s][o]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=r(19),s=r(13),o=r(7),a=u(r(41)),h=u(r(59));function u(t){return t&&t.__esModule?t:{default:t}}var l=new n.Point,c=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i._anchor=new n.ObservablePoint(i._onAnchorUpdate,i),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=o.BLEND_MODES.NORMAL,i.shader=null,i.cachedTint=16777215,i.texture=r||a.default.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.pluginName="sprite",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,s.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,s.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,s=e.d,o=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,f=0,p=0,d=0,m=0;u?(f=(p=u.x-c._x*l.width)+u.width,d=(m=u.y-c._y*l.height)+u.height):(f=(p=-c._x*l.width)+l.width,d=(m=-c._y*l.height)+l.height),h[0]=r*p+n*m+o,h[1]=s*m+i*p+a,h[2]=r*f+n*m+o,h[3]=s*m+i*f+a,h[4]=r*f+n*d+o,h[5]=s*d+i*f+a,h[6]=r*p+n*d+o,h[7]=s*d+i*p+a}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,s=n.a,o=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=-i._x*r.width,f=c+r.width,p=-i._y*r.height,d=p+r.height;e[0]=s*c+a*p+u,e[1]=h*p+o*c+l,e[2]=s*f+a*p+u,e[3]=h*p+o*f+l,e[4]=s*f+a*d+u,e[5]=h*d+o*f+l,e[6]=s*c+a*d+u,e[7]=h*d+o*c+l},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new n.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,l);var e=this._texture.orig.width,r=this._texture.orig.height,i=-e*this.anchor.x,n=0;return l.x>=i&&l.x<i+e&&(n=-r*this.anchor.y,l.y>=n&&l.y<n+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null,this.shader=null},e.from=function(t){return new e(a.default.from(t))},e.fromFrame=function(t){var r=s.TextureCache[t];if(!r)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new e(r)},e.fromImage=function(t,r,i){return new e(a.default.fromImage(t,r,i))},i(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,s.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,s.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(h.default);e.default=c},function(t,e,r){"use strict";"use restrict";function i(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=i,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var n=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,i=e,n=7;for(r>>>=1;r;r>>>=1)i<<=1,i|=1&r,--n;t[e]=i<<n&255}}(n),e.reverse=function(t){return n[255&t]<<24|n[t>>>8&255]<<16|n[t>>>16&255]<<8|n[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>i(t)+1}},function(t,e,r){"use strict";e.__esModule=!0,e.Ticker=e.shared=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(202)),n=new i.default;n.autoStart=!0,n.destroy=function(){},e.shared=n,e.Ticker=i.default},function(t,e,r){"use strict";e.__esModule=!0;var i=n(r(133));function n(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=null;if(!(r instanceof i.default)){var o=arguments[1],a=arguments[2],h=arguments[3],u=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+a+") instead of the ctor directly."),s=arguments[0],n=null,r=new i.default(o,a,h,u)}var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,n));return l.legacyRenderer=s,l.valid=!0,l._updateUvs(),l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e,r){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,r,n,s){return new e(new i.default(t,r,n,s))},e}(n(r(41)).default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i=r(13),n={getTintedTexture:function(t,e){var r=t._texture,i="#"+("00000"+(0|(e=n.roundColor(e))).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var s=r.tintCache[i],o=void 0;if(s){if(s.tintId===r._updateID)return r.tintCache[i];o=r.tintCache[i]}else o=n.canvas||document.createElement("canvas");if(n.tintMethod(r,e,o),o.tintId=r._updateID,n.convertTintToImage){var a=new Image;a.src=o.toDataURL(),r.tintCache[i]=a}else r.tintCache[i]=o,n.canvas=null;return o},tintWithMultiply:function(t,e,r){var i=r.getContext("2d"),n=t._frame.clone(),s=t.baseTexture.resolution;n.x*=s,n.y*=s,n.width*=s,n.height*=s,r.width=Math.ceil(n.width),r.height=Math.ceil(n.height),i.save(),i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,n.width,n.height),i.globalCompositeOperation="multiply",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),i.restore()},tintWithOverlay:function(t,e,r){var i=r.getContext("2d"),n=t._frame.clone(),s=t.baseTexture.resolution;n.x*=s,n.y*=s,n.width*=s,n.height*=s,r.width=Math.ceil(n.width),r.height=Math.ceil(n.height),i.save(),i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,n.width,n.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),i.restore()},tintWithPerPixel:function(t,e,r){var n=r.getContext("2d"),s=t._frame.clone(),o=t.baseTexture.resolution;s.x*=o,s.y*=o,s.width*=o,s.height*=o,r.width=Math.ceil(s.width),r.height=Math.ceil(s.height),n.save(),n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height),n.restore();for(var a=(0,i.hex2rgb)(e),h=a[0],u=a[1],l=a[2],c=n.getImageData(0,0,s.width,s.height),f=c.data,p=0;p<f.length;p+=4)f[p+0]*=h,f[p+1]*=u,f[p+2]*=l;n.putImageData(c,0,0)},roundColor:function(t){var e=n.cacheStepsPerColorChannel,r=(0,i.hex2rgb)(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),(0,i.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,function(t){return t&&t.__esModule?t:{default:t}}(r(135)).default)(),tintMethod:0};n.tintMethod=n.canUseMultiply?n.tintWithMultiply:n.tintWithPerPixel,e.default=n},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=6*t,r=new Uint16Array(e),i=0,n=0;i<e;i+=6,n+=4)r[i+0]=n+0,r[i+1]=n+1,r[i+2]=n+2,r[i+3]=n+0,r[i+4]=n+2,r[i+5]=n+3;return r}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=o(r(158)),s=o(r(157));function o(t){return t&&t.__esModule?t:{default:t}}var a=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),h=null;function u(){}var l=function(){function t(e,r,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=u,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new s.default,this.onProgress=new s.default,this.onComplete=new s.default,this.onAfterMiddleware=new s.default}return t.setExtensionLoadType=function(e,r){c(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){c(t._xhrTypeMap,e,r)},t.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},t.prototype.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(r)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:a&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return!!(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(f(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnAbort=function(){this.abort(f(this.xhr)+" Request was aborted by the user.")},t.prototype._xdrOnTimeout=function(){this.abort(f(this.xhr)+" Request timed out.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",i=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===i&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(r,"text/xml")}else{var s=document.createElement("div");s.innerHTML=r,this.data=s}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,h||(h=document.createElement("a")),h.href=t;var r=!(t=(0,n.default)(h.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&i===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),n=t.indexOf("#"),s=Math.min(i>-1?i:t.length,n>-1?n:t.length);e=(t=t.substring(0,s)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},i(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function c(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function f(t){return t.toString().replace("object ","")}e.default=l,l.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},l.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},l.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},l.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},l._loadTypeMap={gif:l.LOAD_TYPE.IMAGE,png:l.LOAD_TYPE.IMAGE,bmp:l.LOAD_TYPE.IMAGE,jpg:l.LOAD_TYPE.IMAGE,jpeg:l.LOAD_TYPE.IMAGE,tif:l.LOAD_TYPE.IMAGE,tiff:l.LOAD_TYPE.IMAGE,webp:l.LOAD_TYPE.IMAGE,tga:l.LOAD_TYPE.IMAGE,svg:l.LOAD_TYPE.IMAGE,"svg+xml":l.LOAD_TYPE.IMAGE,mp3:l.LOAD_TYPE.AUDIO,ogg:l.LOAD_TYPE.AUDIO,wav:l.LOAD_TYPE.AUDIO,mp4:l.LOAD_TYPE.VIDEO,webm:l.LOAD_TYPE.VIDEO},l._xhrTypeMap={xhtml:l.XHR_RESPONSE_TYPE.DOCUMENT,html:l.XHR_RESPONSE_TYPE.DOCUMENT,htm:l.XHR_RESPONSE_TYPE.DOCUMENT,xml:l.XHR_RESPONSE_TYPE.DOCUMENT,tmx:l.XHR_RESPONSE_TYPE.DOCUMENT,svg:l.XHR_RESPONSE_TYPE.DOCUMENT,tsx:l.XHR_RESPONSE_TYPE.DOCUMENT,gif:l.XHR_RESPONSE_TYPE.BLOB,png:l.XHR_RESPONSE_TYPE.BLOB,bmp:l.XHR_RESPONSE_TYPE.BLOB,jpg:l.XHR_RESPONSE_TYPE.BLOB,jpeg:l.XHR_RESPONSE_TYPE.BLOB,tif:l.XHR_RESPONSE_TYPE.BLOB,tiff:l.XHR_RESPONSE_TYPE.BLOB,webp:l.XHR_RESPONSE_TYPE.BLOB,tga:l.XHR_RESPONSE_TYPE.BLOB,json:l.XHR_RESPONSE_TYPE.JSON,text:l.XHR_RESPONSE_TYPE.TEXT,txt:l.XHR_RESPONSE_TYPE.TEXT,ttf:l.XHR_RESPONSE_TYPE.BUFFER,otf:l.XHR_RESPONSE_TYPE.BUFFER},l.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),n=function(t){return t&&t.__esModule?t:{default:t}}(r(164)),s=i.ticker.shared;i.settings.UPLOADS_PER_FRAME=4;var o=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.limiter=new n.default(i.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(f),this.registerFindHook(p),this.registerFindHook(a),this.registerFindHook(h),this.registerFindHook(u),this.registerUploadHook(l),this.registerUploadHook(c)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,s.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)s.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var a=0,h=o.length;a<h;a++)o[a]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof i.Container)for(var n=t.children.length-1;n>=0;n--)this.add(t.children[n]);return this},t.prototype.destroy=function(){this.ticking&&s.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function a(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof i.Texture){var s=t._textures[n].baseTexture;-1===e.indexOf(s)&&(e.push(s),r=!0)}return r}function h(t,e){return t instanceof i.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function u(t,e){if(t._texture&&t._texture instanceof i.Texture){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function l(t,e){return e instanceof i.Text&&(e.updateText(!0),!0)}function c(t,e){if(e instanceof i.TextStyle){var r=e.toFontString();return i.TextMetrics.measureFont(r),!0}return!1}function f(t,e){if(t instanceof i.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function p(t,e){return t instanceof i.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(){}static getInstance(){return this.instance||(this.instance=new i),this.instance}get(t){return t.getInstance()}}e.Injector=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ClipPlayer=class{constructor(t){this.id=t.id,this.editor=t.editor,this.startTime=t.startTime,t.container&&this.attachView(t.container),this.pause()}preload(){}init(t){}updateDuration(t){this.duration=t,"function"==typeof this.onDurationChange&&this.onDurationChange(t)}setCurrentTime(t){this.currentTime=t}getCurrentTime(){return this.currentTime}attachView(t){this.container=t}updateClip(t){throw new Error("Method not implemented.")}updateAudio(t){throw new Error("Method not implemented.")}play(t){this.paused=!1}pause(){this.paused=!0}reset(){this.currentTime=0,this.pause()}update(t,e,r){const i=e-this.startTime;Math.abs(i-this.getCurrentTime())>1/6&&this.setCurrentTime(i)}render(){}destroy(){this.reset(),this.container&&this.container.destroy(),delete this.container,delete this.editor}select(){}unselect(){}isOnTime(t){return t>=this.startTime&&"number"==typeof this.endTime&&t<=this.endTime}fireStartEvent(){"function"==typeof this.onPlay&&this.onPlay()}fireSEndEvent(){"function"==typeof this.onEnded&&this.onEnded()}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(325),n=r(112);(e.PLAYER_CONTROL||(e.PLAYER_CONTROL={})).STOP="STOP";class s{constructor(){this.playerControl$=new n.BehaviorSubject(null),this.redirect$=new n.BehaviorSubject(null),this.debounceTime=1e3,this.destroyed$=new n.Subject,this.redirectDelay$=this.redirect$.pipe(i.debounceTime(this.debounceTime))}static getInstance(){return s.instance||(s.instance=new s),s.instance}destroy(){this.destroyed$.next(),this.destroyed$.complete(),delete this.playerControl$,delete this.redirectDelay$,delete this.redirect$,delete s.instance}}e.ActionService=s},function(t,e,r){"use strict";r.r(e);var i=r(2),n=r(75),s=r(74),o=r(27),a=r(8),h=r(76),u=r(48),l=r(36),c=r(56),f=r(11),p=r(83),d=r(0),m=r(37),y=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i}return d.a(e,t),e.prototype.requestAsyncId=function(e,r,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,r,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},e.prototype.recycleAsyncId=function(e,r,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,i);0===e.actions.length&&(cancelAnimationFrame(r),e.scheduled=void 0)},e}(m.a),v=r(35),g=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.a(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,i=-1,n=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<n&&(t=r.shift()));if(this.active=!1,e){for(;++i<n&&(t=r.shift());)t.unsubscribe();throw e}},e}(v.a))(y),_=function(t){function e(e,r){void 0===e&&(e=b),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e,function(){return i.frame})||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return d.a(e,t),e.prototype.flush=function(){for(var t,e,r=this.actions,i=this.maxFrames;(e=r.shift())&&(this.frame=e.delay)<=i&&!(t=e.execute(e.state,e.delay)););if(t){for(;e=r.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(v.a),b=function(t){function e(e,r,i){void 0===i&&(i=e.index+=1);var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.index=i,n.active=!0,n.index=e.index=i,n}return d.a(e,t),e.prototype.schedule=function(r,i){if(void 0===i&&(i=0),!this.id)return t.prototype.schedule.call(this,r,i);this.active=!1;var n=new e(this.scheduler,this.work);return this.add(n),n.schedule(r,i)},e.prototype.requestAsyncId=function(t,r,i){void 0===i&&(i=0),this.delay=t.frame+i;var n=t.actions;return n.push(this),n.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,r){void 0===r&&(r=0)},e.prototype._execute=function(e,r){if(!0===this.active)return t.prototype._execute.call(this,e,r)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(m.a),x=r(68),T=r(5),w=r(1),E=r(24),S=r(44),P=r(22),C=r(23);function A(t){return!!t&&(t instanceof i.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var M=r(31),O=r(34),I=r(28),D=r(45),R=r(78),k=r(15),F=r(12),L=r(14);function N(t,e,r){if(e){if(!Object(L.a)(e))return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return N(t,r).apply(void 0,i).pipe(Object(k.a)(function(t){return Object(F.a)(t)?e.apply(void 0,t):e(t)}))};r=e}return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var s,o=this,a={context:o,subject:s,callbackFunc:t,scheduler:r};return new i.a(function(i){if(r){var n={args:e,subscriber:i,params:a};return r.schedule(B,0,n)}if(!s){s=new l.a;try{t.apply(o,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.next(t.length<=1?t[0]:t),s.complete()}]))}catch(t){s.error(t)}}return s.subscribe(i)})}}function B(t){var e=this,r=t.args,i=t.subscriber,n=t.params,s=n.callbackFunc,o=n.context,a=n.scheduler,h=n.subject;if(!h){h=n.subject=new l.a;try{s.apply(o,r.concat([function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=t.length<=1?t[0]:t;e.add(a.schedule(j,0,{value:i,subject:h}))}]))}catch(t){h.error(t)}}this.add(h.subscribe(i))}function j(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function V(t,e,r){if(e){if(!Object(L.a)(e))return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return V(t,r).apply(void 0,i).pipe(Object(k.a)(function(t){return Object(F.a)(t)?e.apply(void 0,t):e(t)}))};r=e}return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var s={subject:void 0,args:e,callbackFunc:t,scheduler:r,context:this};return new i.a(function(i){var n=s.context,o=s.subject;if(r)return r.schedule(z,0,{params:s,subscriber:i,context:n});if(!o){o=s.subject=new l.a;try{t.apply(n,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.shift();r?o.error(r):(o.next(t.length<=1?t[0]:t),o.complete())}]))}catch(t){o.error(t)}}return o.subscribe(i)})}}function z(t){var e=this,r=t.params,i=t.subscriber,n=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,h=r.subject;if(!h){h=r.subject=new l.a;try{s.apply(n,o.concat([function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=t.shift();if(i)e.add(a.schedule(U,0,{err:i,subject:h}));else{var n=t.length<=1?t[0]:t;e.add(a.schedule(G,0,{value:n,subject:h}))}}]))}catch(t){this.add(a.schedule(U,0,{err:t,subject:h}))}}this.add(h.subscribe(i))}function G(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function U(t){var e=t.err;t.subject.error(e)}var X=r(51),H=r(29),W=r(53),Y=r(10),q=r(3);function $(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(F.a)(e[0])&&(e=e[0]),0===e.length?Y.a:t?$(e).pipe(Object(k.a)(function(e){return t.apply(void 0,e)})):new i.a(function(t){return new K(t,e)})}var K=function(t){function e(e,r){var i=t.call(this,e)||this;i.sources=r,i.completed=0,i.haveValues=0;var n=r.length;i.values=new Array(n);for(var s=0;s<n;s++){var o=r[s],a=Object(q.a)(i,o,null,s);a&&i.add(a)}return i}return d.a(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.values[r]=e,n._hasValue||(n._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,r=this.haveValues,i=this.values,n=i.length;t._hasValue?(this.completed++,this.completed===n&&(r===n&&e.next(i),e.complete())):e.complete()},e}(r(4).a),Z=r(17),J=r(32);function Q(t,e,r,n){return Object(J.a)(r)&&(n=r,r=void 0),n?Q(t,e,r).pipe(Object(k.a)(function(t){return Object(F.a)(t)?n.apply(void 0,t):n(t)})):new i.a(function(i){!function t(e,r,i,n,s){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var a=e;e.addEventListener(r,i,s),o=function(){return a.removeEventListener(r,i,s)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var h=e;e.on(r,i),o=function(){return h.off(r,i)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var u=e;e.addListener(r,i),o=function(){return u.removeListener(r,i)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,c=e.length;l<c;l++)t(e[l],r,i,n,s)}n.add(o)}(t,e,function(t){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(t)},i,r)})}function tt(t,e,r){return r?tt(t,e).pipe(Object(k.a)(function(t){return Object(F.a)(t)?r.apply(void 0,t):r(t)})):new i.a(function(r){var i,n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(1===t.length?t[0]:t)};try{i=t(n)}catch(t){return void r.error(t)}if(Object(J.a)(e))return function(){return e(n,i)}})}function et(t,e,r,n,s){var o,a;if(1==arguments.length){var h=t;a=h.initialState,e=h.condition,r=h.iterate,o=h.resultSelector||C.a,s=h.scheduler}else void 0===n||Object(L.a)(n)?(a=t,o=C.a,s=n):(a=t,o=n);return new i.a(function(t){var i=a;if(s)return s.schedule(rt,0,{subscriber:t,iterate:r,condition:e,resultSelector:o,state:i});for(;;){if(e){var n=void 0;try{n=e(i)}catch(e){return void t.error(e)}if(!n){t.complete();break}}var h=void 0;try{h=o(i)}catch(e){return void t.error(e)}if(t.next(h),t.closed)break;try{i=r(i)}catch(e){return void t.error(e)}}})}function rt(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(r){var i=void 0;try{i=r(t.state)}catch(t){return void e.error(t)}if(!i)return void e.complete();if(e.closed)return}var n;try{n=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(n),!e.closed))return this.schedule(t)}}function it(t,e,r){return void 0===e&&(e=Y.a),void 0===r&&(r=Y.a),Object(W.a)(function(){return t()?e:r})}Object.prototype.toString;var nt=r(38);function st(t,e){return void 0===t&&(t=0),void 0===e&&(e=f.a),(!Object(nt.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=f.a),new i.a(function(r){return r.add(e.schedule(ot,t,{subscriber:r,counter:0,period:t})),r})}function ot(t){var e=t.subscriber,r=t.counter,i=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:i},i)}var at=r(80),ht=new i.a(P.a);function ut(){return ht}var lt=r(49);function ct(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return Y.a;var r=t[0],n=t.slice(1);return 1===t.length&&Object(F.a)(r)?ct.apply(void 0,r):new i.a(function(t){var e=function(){return t.add(ct.apply(void 0,n).subscribe(t))};return Object(Z.a)(r).subscribe({next:function(e){t.next(e)},error:e,complete:e})})}function ft(t,e){return e?new i.a(function(r){var i=Object.keys(t),n=new T.a;return n.add(e.schedule(pt,0,{keys:i,index:0,subscriber:r,subscription:n,obj:t})),n}):new i.a(function(e){for(var r=Object.keys(t),i=0;i<r.length&&!e.closed;i++){var n=r[i];t.hasOwnProperty(n)&&e.next([n,t[n]])}e.complete()})}function pt(t){var e=t.keys,r=t.index,i=t.subscriber,n=t.subscription,s=t.obj;if(!i.closed)if(r<e.length){var o=e[r];i.next([o,s[o]]),n.add(this.schedule({keys:e,index:r+1,subscriber:i,subscription:n,obj:s}))}else i.complete()}var dt=r(81);function mt(t,e,r){return void 0===t&&(t=0),void 0===e&&(e=0),new i.a(function(i){var n=0,s=t;if(r)return r.schedule(yt,0,{index:n,count:e,start:t,subscriber:i});for(;;){if(n++>=e){i.complete();break}if(i.next(s++),i.closed)break}})}function yt(t){var e=t.start,r=t.index,i=t.count,n=t.subscriber;r>=i?n.complete():(n.next(e),n.closed||(t.index=r+1,t.start=e+1,this.schedule(t)))}var vt=r(50),gt=r(82);function _t(t,e){return new i.a(function(r){var i,n;try{i=t()}catch(t){return void r.error(t)}try{n=e(i)}catch(t){return void r.error(t)}var s=(n?Object(Z.a)(n):Y.a).subscribe(r);return function(){s.unsubscribe(),i&&i.unsubscribe()}})}var bt=r(54),xt=r(21);r.d(e,"Observable",function(){return i.a}),r.d(e,"ConnectableObservable",function(){return n.a}),r.d(e,"GroupedObservable",function(){return s.a}),r.d(e,"observable",function(){return o.a}),r.d(e,"Subject",function(){return a.a}),r.d(e,"BehaviorSubject",function(){return h.a}),r.d(e,"ReplaySubject",function(){return u.a}),r.d(e,"AsyncSubject",function(){return l.a}),r.d(e,"asapScheduler",function(){return c.a}),r.d(e,"asyncScheduler",function(){return f.a}),r.d(e,"queueScheduler",function(){return p.a}),r.d(e,"animationFrameScheduler",function(){return g}),r.d(e,"VirtualTimeScheduler",function(){return _}),r.d(e,"VirtualAction",function(){return b}),r.d(e,"Scheduler",function(){return x.a}),r.d(e,"Subscription",function(){return T.a}),r.d(e,"Subscriber",function(){return w.a}),r.d(e,"Notification",function(){return E.a}),r.d(e,"pipe",function(){return S.a}),r.d(e,"noop",function(){return P.a}),r.d(e,"identity",function(){return C.a}),r.d(e,"isObservable",function(){return A}),r.d(e,"ArgumentOutOfRangeError",function(){return M.a}),r.d(e,"EmptyError",function(){return O.a}),r.d(e,"ObjectUnsubscribedError",function(){return I.a}),r.d(e,"UnsubscriptionError",function(){return D.a}),r.d(e,"TimeoutError",function(){return R.a}),r.d(e,"bindCallback",function(){return N}),r.d(e,"bindNodeCallback",function(){return V}),r.d(e,"combineLatest",function(){return X.b}),r.d(e,"concat",function(){return H.a}),r.d(e,"defer",function(){return W.a}),r.d(e,"empty",function(){return Y.b}),r.d(e,"forkJoin",function(){return $}),r.d(e,"from",function(){return Z.a}),r.d(e,"fromEvent",function(){return Q}),r.d(e,"fromEventPattern",function(){return tt}),r.d(e,"generate",function(){return et}),r.d(e,"iif",function(){return it}),r.d(e,"interval",function(){return st}),r.d(e,"merge",function(){return at.a}),r.d(e,"never",function(){return ut}),r.d(e,"of",function(){return lt.a}),r.d(e,"onErrorResumeNext",function(){return ct}),r.d(e,"pairs",function(){return ft}),r.d(e,"race",function(){return dt.a}),r.d(e,"range",function(){return mt}),r.d(e,"throwError",function(){return vt.a}),r.d(e,"timer",function(){return gt.a}),r.d(e,"using",function(){return _t}),r.d(e,"zip",function(){return bt.b}),r.d(e,"EMPTY",function(){return Y.a}),r.d(e,"NEVER",function(){return ht}),r.d(e,"config",function(){return xt.a})},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._x=i,this._y=n,this.cb=e,this.scope=r}return t.prototype.set=function(t,e){var r=t||0,i=e||(0!==e?r:0);this._x===r&&this._y===i||(this._x=r,this._y=i,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},i(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(94)),n=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],s=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],o=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],a=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],h=[],u=[];function l(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];u.push(e);for(var r=0;r<16;r++)for(var c=l(n[t]*n[r]+o[t]*s[r]),f=l(s[t]*n[r]+a[t]*s[r]),p=l(n[t]*o[r]+o[t]*a[r]),d=l(s[t]*o[r]+a[t]*a[r]),m=0;m<16;m++)if(n[m]===c&&s[m]===f&&o[m]===p&&a[m]===d){e.push(m);break}}for(var y=0;y<16;y++){var v=new i.default;v.set(n[y],s[y],o[y],a[y],0,0),h.push(v)}}();var c={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return n[t]},uY:function(t){return s[t]},vX:function(t){return o[t]},vY:function(t){return a[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return u[t][e]},sub:function(t,e){return u[t][c.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?c.S:c.N:2*Math.abs(e)<=Math.abs(t)?t>0?c.E:c.W:e>0?t>0?c.SE:c.SW:t>0?c.NE:c.NW},matrixAppendRotationInv:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=h[c.inv(e)];n.tx=r,n.ty=i,t.append(n)}};e.default=c},function(t,e){t.exports=function(t,e,r){var i;if(r){var n=r.tempAttribState,s=r.attribState;for(i=0;i<n.length;i++)n[i]=!1;for(i=0;i<e.length;i++)n[e[i].attribute.location]=!0;for(i=0;i<s.length;i++)s[i]!==n[i]&&(s[i]=n[i],r.attribState[i]?t.enableVertexAttribArray(i):t.disableVertexAttribArray(i))}else for(i=0;i<e.length;i++){var o=e[i];t.enableVertexAttribArray(o.attribute.location)}}},function(t,e){var r=function(t,e,r,i,n){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=i||t.RGBA,this.type=n||t.UNSIGNED_BYTE};r.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,i=t.videoHeight||t.height;i!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=i};var i=!1;r.prototype.uploadData=function(t,e,r){this.bind();var n=this.gl;if(t instanceof Float32Array){if(!i){if(!n.getExtension("OES_texture_float"))throw new Error("floating point textures not available");i=!0}this.type=n.FLOAT}else this.type=this.type||n.UNSIGNED_BYTE;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?n.texImage2D(n.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},r.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},r.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},r.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},r.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},r.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},r.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},r.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},r.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},r.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},r.fromSource=function(t,e,i){var n=new r(t);return n.premultiplyAlpha=i||!1,n.upload(e),n},r.fromData=function(t,e,i,n){var s=new r(t);return s.uploadData(e,i,n),s},t.exports=r},function(t,e){var r=function(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(console.log(t.getShaderInfoLog(i)),null)};t.exports=function(t,e,i,n){var s=r(t,t.VERTEX_SHADER,e),o=r(t,t.FRAGMENT_SHADER,i),a=t.createProgram();if(t.attachShader(a,s),t.attachShader(a,o),n)for(var h in n)t.bindAttribLocation(a,n[h],h);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(s),t.deleteShader(o),a}},function(t,e,r){var i=r(96),n=r(119),s=function(t,e,r,i){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,i||0)};t.exports=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<o;a++){var h=t.getActiveAttrib(e,a),u=i(t,h.type);r[h.name]={type:u,size:n(u),location:t.getAttribLocation(e,h.name),pointer:s}}return r}},function(t,e){var r={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(t){return r[t]}},function(t,e,r){var i=r(96),n=r(121);t.exports=function(t,e){for(var r={},s=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),o=0;o<s;o++){var a=t.getActiveUniform(e,o),h=a.name.replace(/\[.*?\]/,""),u=i(t,a.type);r[h]={type:u,size:a.size,location:t.getUniformLocation(e,h),value:n(u,a.size)}}return r}},function(t,e){var r=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};t.exports=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return r(2*e);case"bvec3":return r(3*e);case"bvec4":return r(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(t,e){t.exports=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},function(t,e){var r=function(t){return function(){return this.data[t].value}},i={float:function(t,e,r){t.uniform1f(e,r)},vec2:function(t,e,r){t.uniform2f(e,r[0],r[1])},vec3:function(t,e,r){t.uniform3f(e,r[0],r[1],r[2])},vec4:function(t,e,r){t.uniform4f(e,r[0],r[1],r[2],r[3])},int:function(t,e,r){t.uniform1i(e,r)},ivec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},ivec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},ivec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},bool:function(t,e,r){t.uniform1i(e,r)},bvec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},bvec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},bvec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},mat2:function(t,e,r){t.uniformMatrix2fv(e,!1,r)},mat3:function(t,e,r){t.uniformMatrix3fv(e,!1,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)},sampler2D:function(t,e,r){t.uniform1i(e,r)}},n={float:function(t,e,r){t.uniform1fv(e,r)},vec2:function(t,e,r){t.uniform2fv(e,r)},vec3:function(t,e,r){t.uniform3fv(e,r)},vec4:function(t,e,r){t.uniform4fv(e,r)},int:function(t,e,r){t.uniform1iv(e,r)},ivec2:function(t,e,r){t.uniform2iv(e,r)},ivec3:function(t,e,r){t.uniform3iv(e,r)},ivec4:function(t,e,r){t.uniform4iv(e,r)},bool:function(t,e,r){t.uniform1iv(e,r)},bvec2:function(t,e,r){t.uniform2iv(e,r)},bvec3:function(t,e,r){t.uniform3iv(e,r)},bvec4:function(t,e,r){t.uniform4iv(e,r)},sampler2D:function(t,e,r){t.uniform1iv(e,r)}};function s(t,e){return function(r){this.data[t].value=r;var s=this.data[t].location;1===e.size?i[e.type](this.gl,s,r):n[e.type](this.gl,s,r)}}function o(t,e){for(var r=e,i=0;i<t.length-1;i++){var n=r[t[i]]||{data:{}};r[t[i]]=n,r=n}return r}t.exports=function(t,e){var i={data:{}};i.gl=t;for(var n=Object.keys(e),a=0;a<n.length;a++){var h=n[a],u=h.split("."),l=u[u.length-1],c=o(u,i),f=e[h];c.data[l]=f,c.gl=t,Object.defineProperty(c,l,{get:r(l),set:s(l,f)})}return i}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=c(r(42)),s=r(7),o=c(r(18)),a=c(r(125)),h=c(r(126)),u=c(r(97)),l=r(19);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this)),i=o.default.TRANSFORM_MODE===s.TRANSFORM_MODE.STATIC?a.default:h.default;return r.tempDisplayObjectParent=null,r.transform=new i,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new u.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new l.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new l.Rectangle),t=this._localBoundsRect);var i=this.getBounds(!1,t);return this.parent=r,this.transform=e,i},e.prototype.toGlobal=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,i){return e&&(t=e.toGlobal(t,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},i(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(n.default);e.default=f,f.prototype.displayObjectUpdateTransform=f.prototype.updateTransform},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=r(19),s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.position=new n.ObservablePoint(r.onChange,r,0,0),r.scale=new n.ObservablePoint(r.onChange,r,1,1),r.pivot=new n.ObservablePoint(r.onChange,r,0,0),r.skew=new n.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},i(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(r(99)).default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=r(19),s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.position=new n.Point(0,0),r.scale=new n.Point(1,1),r.skew=new n.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new n.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},i(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(r(99)).default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,n||(n=document.createElement("a")),n.href=t;var r=!(t=i.default.parse(n.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"};var i=function(t){return t&&t.__esModule?t:{default:t}}(r(128)),n=void 0},function(t,e,r){"use strict";var i=r(197),n=r(198);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){return n.isString(t)&&(t=_(t)),t instanceof s?t.format():s.prototype.format.call(t)},e.Url=s;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=r(199);function _(t,e,r){if(t&&n.isObject(t)&&t instanceof s)return t;var i=new s;return i.parse(t,e,r),i}s.prototype.parse=function(t,e,r){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var s=t.indexOf("?"),a=-1!==s&&s<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var _=t=u.join(a);if(_=_.trim(),!r&&1===t.split("#").length){var b=h.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=o.exec(_);if(x){var T=(x=x[0]).toLowerCase();this.protocol=T,_=_.substr(x.length)}if(r||x||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===_.substr(0,2);!w||x&&y[x]||(_=_.substr(2),this.slashes=!0)}if(!y[x]&&(w||x&&!v[x])){for(var E,S,P=-1,C=0;C<f.length;C++)-1!==(A=_.indexOf(f[C]))&&(-1===P||A<P)&&(P=A);for(-1!==(S=-1===P?_.lastIndexOf("@"):_.lastIndexOf("@",P))&&(E=_.slice(0,S),_=_.slice(S+1),this.auth=decodeURIComponent(E)),P=-1,C=0;C<c.length;C++){var A;-1!==(A=_.indexOf(c[C]))&&(-1===P||A<P)&&(P=A)}-1===P&&(P=_.length),this.host=_.slice(0,P),_=_.slice(P),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var O=this.hostname.split(/\./),I=(C=0,O.length);C<I;C++){var D=O[C];if(D&&!D.match(p)){for(var R="",k=0,F=D.length;k<F;k++)D.charCodeAt(k)>127?R+="x":R+=D[k];if(!R.match(p)){var L=O.slice(0,C),N=O.slice(C+1),B=D.match(d);B&&(L.push(B[1]),N.unshift(B[2])),N.length&&(_="/"+N.join(".")+_),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=i.toASCII(this.hostname));var j=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+j,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!m[T])for(C=0,I=l.length;C<I;C++){var z=l[C];if(-1!==_.indexOf(z)){var G=encodeURIComponent(z);G===z&&(G=escape(z)),_=_.split(z).join(G)}}var U=_.indexOf("#");-1!==U&&(this.hash=_.substr(U),_=_.slice(0,U));var X=_.indexOf("?");if(-1!==X?(this.search=_.substr(X),this.query=_.substr(X+1),e&&(this.query=g.parse(this.query)),_=_.slice(0,X)):e&&(this.search="",this.query={}),_&&(this.pathname=_),v[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var H=this.search||"";this.path=j+H}return this.href=this.format(),this},s.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",s=!1,o="";this.host?s=t+this.host:this.hostname&&(s=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(o=g.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==s?(s="//"+(s||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):s||(s=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),e+s+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+i},s.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},s.prototype.resolveObject=function(t){if(n.isString(t)){var e=new s;e.parse(t,!1,!0),t=e}for(var r=new s,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];"protocol"!==l&&(r[l]=t[l])}return v[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!v[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var p=c[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||y[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||_||r.host&&t.pathname,T=x,w=r.pathname&&r.pathname.split("/")||[],E=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!v[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),x=x&&(""===d[0]||""===w[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=d;else if(d.length)w||(w=[]),w.pop(),w=w.concat(d),r.search=t.search,r.query=t.query;else if(!n.isNullOrUndefined(t.search))return E&&(r.hostname=r.host=w.shift(),(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.host=r.hostname=M.shift())),r.search=t.search,r.query=t.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=w.slice(-1)[0],P=(r.host||t.host||w.length>1)&&("."===S||".."===S)||""===S,C=0,A=w.length;A>=0;A--)"."===(S=w[A])?w.splice(A,1):".."===S?(w.splice(A,1),C++):C&&(w.splice(A,1),C--);if(!x&&!T)for(;C--;C)w.unshift("..");!x||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),P&&"/"!==w.join("/").substr(-1)&&w.push("");var M,O=""===w[0]||w[0]&&"/"===w[0].charAt(0);return E&&(r.hostname=r.host=O?"":w.length?w.shift():"",(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.host=r.hostname=M.shift())),(x=x||r.host&&w.length)&&!O&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},s.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=u(r(46)),s=r(13),o=r(103),a=r(7),h=u(r(127));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(r,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw new Error("No video source element specified.");(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,i));return n.width=r.videoWidth,n.height=r.videoHeight,n._autoUpdate=!0,n._isAutoUpdating=!1,n.autoPlay=!0,n.update=n.update.bind(n),n._onCanPlay=n._onCanPlay.bind(n),r.addEventListener("play",n._onPlayStart.bind(n)),r.addEventListener("pause",n._onPlayStop.bind(n)),n.hasLoaded=!1,n.__loaded=!1,n._isSourceReady()?n._onCanPlay():(r.addEventListener("canplay",n._onCanPlay),r.addEventListener("canplaythrough",n._onCanPlay)),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(o.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(o.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&o.shared.remove(this.update,this),this.source&&this.source._pixiId&&(n.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function(t,r){t._pixiId||(t._pixiId="video_"+(0,s.uid)());var i=s.BaseTextureCache[t._pixiId];return i||(i=new e(t,r),n.default.addToCache(i,t._pixiId)),i},e.fromUrl=function(t,r,i){var n=document.createElement("video");n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","");var s=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===i&&0!==s.indexOf("data:")?n.crossOrigin=(0,h.default)(s):i&&(n.crossOrigin="string"==typeof i?i:"anonymous"),Array.isArray(t))for(var o=0;o<t.length;++o)n.appendChild(c(t[o].src||t[o],t[o].mime));else n.appendChild(c(s,t.mime));return n.load(),e.fromVideo(n,r)},i(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(o.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(o.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(n.default);function c(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=e,r}e.default=l,l.fromUrls=l.fromUrl},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(114)),n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,r){var n=e.width,s=e.height;if(r){var o=t.width/2/n,a=t.height/2/s,h=t.x/n+o,u=t.y/s+a;r=i.default.add(r,i.default.NW),this.x0=h+o*i.default.uX(r),this.y0=u+a*i.default.uY(r),r=i.default.add(r,2),this.x1=h+o*i.default.uX(r),this.y1=u+a*i.default.uY(r),r=i.default.add(r,2),this.x2=h+o*i.default.uX(r),this.y2=u+a*i.default.uY(r),r=i.default.add(r,2),this.x3=h+o*i.default.uX(r),this.y3=u+a*i.default.uY(r)}else this.x0=t.x/n,this.y0=t.y/s,this.x1=(t.x+t.width)/n,this.y1=t.y/s,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/s,this.x3=t.x/n,this.y3=(t.y+t.height)/s;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=r(13),s=r(19),o=r(7),a=c(r(18)),h=c(r(59)),u=c(r(104)),l=c(r(42));function c(t){return t&&t.__esModule?t:{default:t}}var f=new s.Matrix,p=function(t){function e(r,i,u,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return(0,n.sayHello)(r),"number"==typeof i&&(i=Object.assign({width:i,height:u||a.default.RENDER_OPTIONS.height},l)),i=Object.assign({},a.default.RENDER_OPTIONS,i),c.options=i,c.type=o.RENDERER_TYPE.UNKNOWN,c.screen=new s.Rectangle(0,0,i.width,i.height),c.view=i.view||document.createElement("canvas"),c.resolution=i.resolution||a.default.RESOLUTION,c.transparent=i.transparent,c.autoResize=i.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=i.preserveDrawingBuffer,c.clearBeforeRender=i.clearBeforeRender,c.roundPixels=i.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString="#000000",c.backgroundColor=i.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new h.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,r,i){i=i||t.getLocalBounds();var n=u.default.create(0|i.width,0|i.height,e,r);return f.tx=-i.x,f.ty=-i.y,this.render(t,n,!1,f,!0),n},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=o.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},i(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,n.hex2string)(t),(0,n.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(l.default);e.default=p},function(t,e,r){"use strict";e.__esModule=!0;var i=s(r(46)),n=s(r(18));function s(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments[2],o=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,null,s));return a.resolution=o||n.default.RESOLUTION,a.width=Math.ceil(r),a.height=Math.ceil(i),a.realWidth=a.width*a.resolution,a.realHeight=a.height*a.resolution,a.scaleMode=void 0!==s?s:n.default.SCALE_MODE,a.hasLoaded=!0,a._glRenderTargets={},a._canvasRenderTarget=null,a.valid=!1,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(i.default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){return t&&t.__esModule?t:{default:t}}(r(18)),s=function(){function t(e,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||n.default.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},i(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();e.default=s},function(t,e,r){"use strict";function i(t){var e=document.createElement("canvas");e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}e.__esModule=!0,e.default=function(){if("undefined"==typeof document)return!1;var t=i("#ff00ff"),e=i("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var n=r.getContext("2d");n.globalCompositeOperation="multiply",n.drawImage(t,0,0),n.drawImage(e,2,0);var s=n.getImageData(2,0,1,1);if(!s)return!1;var o=s.data;return 255===o[0]&&0===o[1]&&0===o[2]}},function(t,e,r){"use strict";e.__esModule=!0;var i=o(r(137)),n=r(19),s=(r(33),o(r(138)));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=new n.Matrix,s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return r.renderable=!1,s.maskSprite=r,s.maskMatrix=i,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var i=this.maskSprite,n=this.maskSprite.texture;n.valid&&(n.transform||(n.transform=new s.default(n,0)),n.transform.update(),this.uniforms.mask=n,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(n.transform.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=n.transform.uClampFrame,t.applyFilter(this,e,r))},e}(i.default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=h(r(209)),s=r(13),o=r(7),a=h(r(18));function h(t){return t&&t.__esModule?t:{default:t}}var u={},l=function(){function t(e,r,i){for(var h in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this._blendMode=o.BLEND_MODES.NORMAL,this.uniformData=i||(0,n.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[h]=this.uniformData[h].value,this.uniformData[h].type&&(this.uniformData[h].type=this.uniformData[h].type.toLowerCase());this.glShaders={},u[this.vertexSrc+this.fragmentSrc]||(u[this.vertexSrc+this.fragmentSrc]=(0,s.uid)()),this.glShaderKey=u[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=a.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,r,i,n){t.applyFilter(this,e,r,i)},i(t,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();e.default=l},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){return t&&t.__esModule?t:{default:t}}(r(94)),s=new n.default,o=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._texture=e,this.mapCoord=new n.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===r?.5:r}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],s=t[i+1];e[i]=n*r.a+s*r.c+r.tx,e[i+1]=n*r.b+s*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(s.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(s));var o=e.baseTexture,a=this.uClampFrame,h=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(e._frame.x+h+u)/o.width,a[1]=(e._frame.y+h+u)/o.height,a[2]=(e._frame.x+e._frame.width-h+u)/o.width,a[3]=(e._frame.y+e._frame.height-h+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,!0},i(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var i=s(r(26)),n=s(r(106));function s(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var s=0;s<4;s++)this.interleaved[4*s]=this.vertices[2*s],this.interleaved[4*s+1]=this.vertices[2*s+1],this.interleaved[4*s+2]=this.uvs[2*s],this.interleaved[4*s+3]=this.uvs[2*s+1];this.indices=(0,n.default)(1),this.vertexBuffer=i.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new i.default.VertexArrayObject(e,r)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=r(7),s=r(13),o={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:n.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,wordWrap:!1,wordWrapWidth:100,leading:0},a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.styleID=0,this.reset(),l(this,e,e)}return t.prototype.clone=function(){var e={};return l(e,this,o),new t(e)},t.prototype.reset=function(){l(this,o,o)},t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var i=e[r].trim();/([\"\'])[^\'\"]+\1/.test(i)||(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},i(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=u(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=u(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=u(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();function h(t){return"number"==typeof t?(0,s.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function u(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=h(t[e]);return t}return h(t)}function l(t,e,r){for(var i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(e,r,i,n,s,o,a,h,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.text=e,this.style=r,this.width=i,this.height=n,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=h,this.fontProperties=u}return t.measureText=function(e,r,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;i=i||r.wordWrap;var s=r.toFontString(),o=t.measureFont(s),a=n.getContext("2d");a.font=s;for(var h=(i?t.wordWrap(e,r,n):e).split(/(?:\r\n|\r|\n)/),u=new Array(h.length),l=0,c=0;c<h.length;c++){var f=a.measureText(h[c]).width+(h[c].length-1)*r.letterSpacing;u[c]=f,l=Math.max(l,f)}var p=l+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);var d=r.lineHeight||o.fontSize+r.strokeThickness,m=Math.max(d,o.fontSize+r.strokeThickness)+(h.length-1)*(d+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new t(e,r,p,m,h,u,d+r.leading,l,o)},t.wordWrap=function(e,r){for(var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas).getContext("2d"),n="",s=0,o="",a={},h=r.letterSpacing,u=r.wordWrapWidth+r.letterSpacing,l=t.getFromCache(" ",h,a,i),c=e.split(" "),f=0;f<c.length;f++){var p=c[f],d=t.getFromCache(p,h,a,i);if(d>u)if(r.breakWords)for(var m=(n.length>0?" "+p:p).split(""),y=0;y<m.length;y++){var v=m[y],g=t.getFromCache(v,h,a,i);g+s>u&&(o+=t.addLine(n),n="",s=0),n+=v,s+=g}else n.length>0&&(o+=t.addLine(n),n="",s=0),o+=t.addLine(p),n="",s=0;else d+s>u&&(o+=t.addLine(n),n="",s=0),n.length>0?n+=" "+p:n+=p,s+=d+l}return o+t.addLine(n,!1)},t.addLine=function(t){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?t:t+"\n"},t.getFromCache=function(t,e,r,i){var n=r[t];if(void 0===n){var s=t.length*e;n=i.measureText(t).width+s,r[t]=n}return n},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={},i=t._canvas,n=t._context;n.font=e;var s=Math.ceil(n.measureText("|MÉq").width),o=Math.ceil(n.measureText("M").width),a=2*o;o=1.4*o|0,i.width=s,i.height=a,n.fillStyle="#f00",n.fillRect(0,0,s,a),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText("|MÉq",0,o);var h=n.getImageData(0,0,s,a).data,u=h.length,l=4*s,c=0,f=0,p=!1;for(c=0;c<o;++c){for(var d=0;d<l;d+=4)if(255!==h[f+d]){p=!0;break}if(p)break;f+=l}for(r.ascent=o-c,f=u-l,p=!1,c=a;c>o;--c){for(var m=0;m<l;m+=4)if(255!==h[f+m]){p=!0;break}if(p)break;f-=l}return r.descent=c-o,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t}();e.default=i;var n=document.createElement("canvas");n.width=n.height=10,i._canvas=n,i._context=n.getContext("2d"),i._fonts={}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(e,r,i,n,s,o,a,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lineWidth=e,this.nativeLines=a,this.lineColor=r,this.lineAlpha=i,this._lineTint=r,this.fillColor=n,this.fillAlpha=s,this._fillTint=n,this.fill=o,this.holes=[],this.shape=h,this.type=h.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=r(144),s=u(r(59)),o=r(103),a=u(r(18)),h=r(7);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,r,i,h,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:r||a.default.RENDER_OPTIONS.height,forceCanvas:!!h,sharedTicker:!!u},i)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,n.autoDetectRenderer)(e),this.stage=new s.default,this._ticker=null,this.ticker=e.sharedTicker?o.shared:new o.Ticker,e.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}this.stage.destroy(),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},i(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,h.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();e.default=l},function(t,e,r){"use strict";e.__esModule=!0,e.autoDetectRenderer=function(t,e,r,o){var a=t&&t.forceCanvas;return void 0!==o&&(a=o),!a&&i.isWebGLSupported()?new s.default(t,e,r):new n.default(t,e,r)};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(13)),n=o(r(60)),s=o(r(70));function o(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0,e.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,e,r){"use strict";e.__esModule=!0,e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.AnimatedSprite=void 0;var i=r(242);Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return a(i).default}});var n=r(243);Object.defineProperty(e,"TilingSprite",{enumerable:!0,get:function(){return a(n).default}});var s=r(244);Object.defineProperty(e,"TilingSpriteRenderer",{enumerable:!0,get:function(){return a(s).default}});var o=r(245);function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"BitmapText",{enumerable:!0,get:function(){return a(o).default}}),r(246),r(247),r(248)},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),s=h(r(148)),o=h(r(149)),a=h(r(150));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(r,i,a,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h=h||5;var u=(0,s.default)(h,!0),l=(0,o.default)(h),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,u,l));return c.resolution=a||n.settings.RESOLUTION,c._quality=0,c.quality=i||4,c.strength=r||8,c.firstRun=!0,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r,i){if(this.firstRun){var n=t.renderer.gl,h=(0,a.default)(n);this.vertexSrc=(0,s.default)(h,!0),this.fragmentSrc=(0,o.default)(h),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{for(var u=t.getRenderTarget(!0),l=e,c=u,f=0;f<this.passes-1;f++){t.applyFilter(this,l,c,!0);var p=c;c=l,l=p}t.applyFilter(this,l,r,i),t.returnRenderTarget(u)}},i(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(n.Filter);e.default=u},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=Math.ceil(t/2),n=i,s="",o=void 0;o=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var h=o.replace("%index%",a);s+=h=h.replace("%sampleIndex%",a-(r-1)+".0"),s+="\n"}return(n=n.replace("%blur%",s)).replace("%size%",t)};var i=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=i[t],r=e.length,s=n,o="",a=void 0,h=0;h<t;h++){var u="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",h);a=h,h>=r&&(a=t-h-1),o+=u=u.replace("%value%",e[a]),o+="\n"}return(s=s.replace("%blur%",o)).replace("%size%",t)};var i={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},n=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;r>e;)r-=2;return r}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),s=h(r(148)),o=h(r(149)),a=h(r(150));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(r,i,a,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h=h||5;var u=(0,s.default)(h,!1),l=(0,o.default)(h),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,u,l));return c.resolution=a||n.settings.RESOLUTION,c._quality=0,c.quality=i||4,c.strength=r||8,c.firstRun=!0,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r,i){if(this.firstRun){var n=t.renderer.gl,h=(0,a.default)(n);this.vertexSrc=(0,s.default)(h,!1),this.fragmentSrc=(0,o.default)(h),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{for(var u=t.getRenderTarget(!0),l=e,c=u,f=0;f<this.passes-1;f++){t.applyFilter(this,l,c,!0);var p=c;c=l,l=p}t.applyFilter(this,l,r,i),t.returnRenderTarget(u)}},i(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(n.Filter);e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.global=new n.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},i(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},i(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();e.default=n,n.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,e,r){"use strict";e.__esModule=!0,e.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(t,e,r){"use strict";e.__esModule=!0,e.parse=a,e.default=function(){return function(t,e){if(t.data&&t.type===s.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var r=t.isDataUrl?"":i.dirname(t.url);t.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/")),(r=r.replace(this.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/");var o=r+t.data.getElementsByTagName("page")[0].getAttribute("file");if(n.utils.TextureCache[o])a(t,n.utils.TextureCache[o]),e();else{var h={crossOrigin:t.crossOrigin,loadType:s.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t};this.add(t.name+"_image",o,h,function(r){a(t,r.texture),e()})}}else e();else e()}};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(33)),n=r(9),s=r(63),o=r(146);function a(t,e){t.bitmapFont=o.BitmapText.registerFont(t.data,e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(e,r,i){void 0===r&&(r=!1),n(this,t),this._fn=e,this._once=r,this._thisArg=i,this._next=this._prev=this._owner=null}return i(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){n(this,t),this._head=this._tail=void 0}return i(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new s(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new s(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=s,e.default=a,t.exports=e.default},function(t,e,r){"use strict";t.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),n={},s=14;s--;)n[r.key[s]]=i[s]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,function(t,e,i){e&&(n[r.q.name][e]=i)}),n}},function(t,e,r){"use strict";function i(){}function n(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}e.__esModule=!0,e.eachSeries=function(t,e,r,i){var n=0,s=t.length;!function o(a){a||n===s?r&&r(a):i?setTimeout(function(){e(t[n++],o)},1):e(t[n++],o)}()},e.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,s={_tasks:[],concurrency:e,saturated:i,unsaturated:i,buffer:e/4,empty:i,drain:i,error:i,started:!1,paused:!1,push:function(t,e){o(t,!1,e)},kill:function(){r=0,s.drain=i,s.started=!1,s._tasks=[]},unshift:function(t,e){o(t,!0,e)},process:function(){for(;!s.paused&&r<s.concurrency&&s._tasks.length;){var e=s._tasks.shift();0===s._tasks.length&&s.empty(),(r+=1)===s.concurrency&&s.saturated(),t(e.data,n(a(e)))}},length:function(){return s._tasks.length},running:function(){return r},idle:function(){return s._tasks.length+r===0},pause:function(){!0!==s.paused&&(s.paused=!0)},resume:function(){if(!1!==s.paused){s.paused=!1;for(var t=1;t<=s.concurrency;t++)s.process()}}};function o(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(s.started=!0,null==t&&s.idle())setTimeout(function(){return s.drain()},1);else{var n={data:t,callback:"function"==typeof r?r:i};e?s._tasks.unshift(n):s._tasks.push(n),setTimeout(function(){return s.process()},1)}}function a(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&s.error(arguments[0],t.data),r<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()}}return s}},function(t,e,r){"use strict";e.__esModule=!0,e.encodeBinary=function(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],s=[0,0,0,0],o=0;o<n.length;++o)r<t.length?n[o]=255&t.charCodeAt(r++):n[o]=0;switch(s[0]=n[0]>>2,s[1]=(3&n[0])<<4|n[1]>>4,s[2]=(15&n[1])<<2|n[2]>>6,s[3]=63&n[2],r-(t.length-1)){case 2:s[3]=64,s[2]=64;break;case 1:s[3]=64}for(var a=0;a<s.length;++a)e+=i.charAt(s[a])}return e};var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){var r=t.name+"_image";if(t.data&&t.type===i.Resource.TYPE.JSON&&t.data.frames&&!this.resources[r]){var n={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},a=o(t,this.baseUrl);this.add(r,a,n,function(r){if(r.error)e(r.error);else{var i=new s.Spritesheet(r.texture.baseTexture,t.data,t.url);i.parse(function(){t.spritesheet=i,t.textures=i.textures,e()})}})}else e()}},e.getResourcePath=o;var i=r(63),n=function(t){return t&&t.__esModule?t:{default:t}}(r(128)),s=r(9);function o(t,e){return t.isDataUrl?t.data.meta.image:n.default.resolve(t.url.replace(e,""),t.data.meta.image)}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){t.data&&t.type===i.Resource.TYPE.IMAGE&&(t.texture=n.default.fromLoader(t.data,t.url,t.name)),e()}};var i=r(63),n=function(t){return t&&t.__esModule?t:{default:t}}(r(41))},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(64)),n=function(t){function e(r,n,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return o._ready=!0,o.verticesX=n||10,o.verticesY=s||10,o.drawMode=i.default.DRAW_MODES.TRIANGLES,o.refresh(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,r=[],i=[],n=[],s=this.verticesX-1,o=this.verticesY-1,a=t.width/s,h=t.height/o,u=0;u<e;u++){var l=u%this.verticesX,c=u/this.verticesX|0;r.push(l*a,c*h),i.push(l/s,c/o)}for(var f=s*o,p=0;p<f;p++){var d=p%s,m=p/s|0,y=m*this.verticesX+d,v=m*this.verticesX+d+1,g=(m+1)*this.verticesX+d,_=(m+1)*this.verticesX+d+1;n.push(y,v,g),n.push(v,_,g)}this.vertices=new Float32Array(r),this.uvs=new Float32Array(i),this.colors=new Float32Array([]),this.indices=new Uint16Array(n),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){i.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(i.default);e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();e.default=i},function(t,e,r){var i;
/*! Hammer.JS - v2.0.8 - 2016-04-23
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(n,s,o,a){"use strict";function h(t,e,r){return setTimeout(p(t,r),e)}function u(t,e,r){return!!Array.isArray(t)&&(l(t,r[e],r),!0)}function l(t,e,r){var i;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==a)for(i=0;i<t.length;)e.call(r,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(r,t[i],i,t)}function c(t,e,r){var i="DEPRECATED METHOD: "+e+"\n"+r+" AT \n";return function(){var e=new Error("get-stack-trace"),r=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=n.console&&(n.console.warn||n.console.log);return s&&s.call(n.console,i,r),t.apply(this,arguments)}}function f(t,e,r){var i,n=e.prototype;(i=t.prototype=Object.create(n)).constructor=t,i._super=n,r&&rt(i,r)}function p(t,e){return function(){return t.apply(e,arguments)}}function d(t,e){return typeof t==st?t.apply(e&&e[0]||a,e):t}function m(t,e){return t===a?e:t}function y(t,e,r){l(b(e),function(e){t.addEventListener(e,r,!1)})}function v(t,e,r){l(b(e),function(e){t.removeEventListener(e,r,!1)})}function g(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function _(t,e){return t.indexOf(e)>-1}function b(t){return t.trim().split(/\s+/g)}function x(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var i=0;i<t.length;){if(r&&t[i][r]==e||!r&&t[i]===e)return i;i++}return-1}function T(t){return Array.prototype.slice.call(t,0)}function w(t,e,r){for(var i=[],n=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];x(n,o)<0&&i.push(t[s]),n[s]=o,s++}return r&&(i=e?i.sort(function(t,r){return t[e]>r[e]}):i.sort()),i}function E(t,e){for(var r,i,n=e[0].toUpperCase()+e.slice(1),s=0;s<it.length;){if((i=(r=it[s])?r+n:e)in t)return i;s++}return a}function S(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||n}function P(t,e){var r=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){d(t.options.enable,[t])&&r.handler(e)},this.init()}function C(t,e,r){var i=r.pointers.length,n=r.changedPointers.length,s=e&gt&&i-n==0,o=e&(_t|bt)&&i-n==0;r.isFirst=!!s,r.isFinal=!!o,s&&(t.session={}),r.eventType=e,function(t,e){var r=t.session,i=e.pointers,n=i.length;r.firstInput||(r.firstInput=M(e)),n>1&&!r.firstMultiple?r.firstMultiple=M(e):1===n&&(r.firstMultiple=!1);var s=r.firstInput,o=r.firstMultiple,a=o?o.center:s.center,h=e.center=O(i);e.timeStamp=ht(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=k(a,h),e.distance=R(a,h),function(t,e){var r=e.center,i=t.offsetDelta||{},n=t.prevDelta||{},s=t.prevInput||{};e.eventType!==gt&&s.eventType!==_t||(n=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},i=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=n.x+(r.x-i.x),e.deltaY=n.y+(r.y-i.y)}(r,e),e.offsetDirection=D(e.deltaX,e.deltaY);var u=I(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=at(u.x)>at(u.y)?u.x:u.y,e.scale=o?function(t,e){return R(e[0],e[1],Ot)/R(t[0],t[1],Ot)}(o.pointers,i):1,e.rotation=o?function(t,e){return k(e[1],e[0],Ot)+k(t[1],t[0],Ot)}(o.pointers,i):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,A(r,e);var l=t.element;g(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function A(t,e){var r,i,n,s,o=t.lastInterval||e,h=e.timeStamp-o.timeStamp;if(e.eventType!=bt&&(h>vt||o.velocity===a)){var u=e.deltaX-o.deltaX,l=e.deltaY-o.deltaY,c=I(h,u,l);i=c.x,n=c.y,r=at(c.x)>at(c.y)?c.x:c.y,s=D(u,l),t.lastInterval=e}else r=o.velocity,i=o.velocityX,n=o.velocityY,s=o.direction;e.velocity=r,e.velocityX=i,e.velocityY=n,e.direction=s}function M(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:ot(t.pointers[r].clientX),clientY:ot(t.pointers[r].clientY)},r++;return{timeStamp:ht(),pointers:e,center:O(e),deltaX:t.deltaX,deltaY:t.deltaY}}function O(t){var e=t.length;if(1===e)return{x:ot(t[0].clientX),y:ot(t[0].clientY)};for(var r=0,i=0,n=0;e>n;)r+=t[n].clientX,i+=t[n].clientY,n++;return{x:ot(r/e),y:ot(i/e)}}function I(t,e,r){return{x:e/t||0,y:r/t||0}}function D(t,e){return t===e?xt:at(t)>=at(e)?0>t?Tt:wt:0>e?Et:St}function R(t,e,r){r||(r=Mt);var i=e[r[0]]-t[r[0]],n=e[r[1]]-t[r[1]];return Math.sqrt(i*i+n*n)}function k(t,e,r){r||(r=Mt);var i=e[r[0]]-t[r[0]],n=e[r[1]]-t[r[1]];return 180*Math.atan2(n,i)/Math.PI}function F(){this.evEl=Dt,this.evWin=Rt,this.pressed=!1,P.apply(this,arguments)}function L(){this.evEl=Lt,this.evWin=Nt,P.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=jt,this.evWin=Vt,this.started=!1,P.apply(this,arguments)}function B(){this.evTarget=Gt,this.targetIds={},P.apply(this,arguments)}function j(){P.apply(this,arguments);var t=p(this.handler,this);this.touch=new B(this.manager,t),this.mouse=new F(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function V(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var r={x:e.clientX,y:e.clientY};this.lastTouches.push(r);var i=this.lastTouches;setTimeout(function(){var t=i.indexOf(r);t>-1&&i.splice(t,1)},Ut)}}function z(t,e){this.manager=t,this.set(e)}function G(t){this.options=rt({},this.defaults,t||{}),this.id=ct++,this.manager=null,this.options.enable=m(this.options.enable,!0),this.state=Jt,this.simultaneous={},this.requireFail=[]}function U(t){return t&ie?"cancel":t&ee?"end":t&te?"move":t&Qt?"start":""}function X(t){return t==St?"down":t==Et?"up":t==Tt?"left":t==wt?"right":""}function H(t,e){var r=e.manager;return r?r.get(t):t}function W(){G.apply(this,arguments)}function Y(){W.apply(this,arguments),this.pX=null,this.pY=null}function q(){W.apply(this,arguments)}function $(){G.apply(this,arguments),this._timer=null,this._input=null}function K(){W.apply(this,arguments)}function Z(){W.apply(this,arguments)}function J(){G.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Q(t,e){return(e=e||{}).recognizers=m(e.recognizers,Q.defaults.preset),new tt(t,e)}function tt(t,e){this.options=rt({},Q.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function(t){return new(t.options.inputClass||(pt?L:dt?B:ft?j:F))(t,C)}(this),this.touchAction=new z(this,this.options.touchAction),et(this,!0),l(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function et(t,e){var r,i=t.element;i.style&&(l(t.options.cssProps,function(n,s){r=E(i.style,s),e?(t.oldCssProps[r]=i.style[r],i.style[r]=n):i.style[r]=t.oldCssProps[r]||""}),e||(t.oldCssProps={}))}var rt,it=["","webkit","Moz","MS","ms","o"],nt=s.createElement("div"),st="function",ot=Math.round,at=Math.abs,ht=Date.now;rt="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(i!==a&&null!==i)for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}return e}:Object.assign;var ut=c(function(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;)(!r||r&&t[i[n]]===a)&&(t[i[n]]=e[i[n]]),n++;return t},"extend","Use `assign`."),lt=c(function(t,e){return ut(t,e,!0)},"merge","Use `assign`."),ct=1,ft="ontouchstart"in n,pt=E(n,"PointerEvent")!==a,dt=ft&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),mt="touch",yt="mouse",vt=25,gt=1,_t=4,bt=8,xt=1,Tt=2,wt=4,Et=8,St=16,Pt=Tt|wt,Ct=Et|St,At=Pt|Ct,Mt=["x","y"],Ot=["clientX","clientY"];P.prototype={handler:function(){},init:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(S(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(S(this.element),this.evWin,this.domHandler)}};var It={mousedown:gt,mousemove:2,mouseup:_t},Dt="mousedown",Rt="mousemove mouseup";f(F,P,{handler:function(t){var e=It[t.type];e&gt&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=_t),this.pressed&&(e&_t&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:yt,srcEvent:t}))}});var kt={pointerdown:gt,pointermove:2,pointerup:_t,pointercancel:bt,pointerout:bt},Ft={2:mt,3:"pen",4:yt,5:"kinect"},Lt="pointerdown",Nt="pointermove pointerup pointercancel";n.MSPointerEvent&&!n.PointerEvent&&(Lt="MSPointerDown",Nt="MSPointerMove MSPointerUp MSPointerCancel"),f(L,P,{handler:function(t){var e=this.store,r=!1,i=t.type.toLowerCase().replace("ms",""),n=kt[i],s=Ft[t.pointerType]||t.pointerType,o=s==mt,a=x(e,t.pointerId,"pointerId");n&gt&&(0===t.button||o)?0>a&&(e.push(t),a=e.length-1):n&(_t|bt)&&(r=!0),0>a||(e[a]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),r&&e.splice(a,1))}});var Bt={touchstart:gt,touchmove:2,touchend:_t,touchcancel:bt},jt="touchstart",Vt="touchstart touchmove touchend touchcancel";f(N,P,{handler:function(t){var e=Bt[t.type];if(e===gt&&(this.started=!0),this.started){var r=function(t,e){var r=T(t.touches),i=T(t.changedTouches);return e&(_t|bt)&&(r=w(r.concat(i),"identifier",!0)),[r,i]}.call(this,t,e);e&(_t|bt)&&r[0].length-r[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:r[0],changedPointers:r[1],pointerType:mt,srcEvent:t})}}});var zt={touchstart:gt,touchmove:2,touchend:_t,touchcancel:bt},Gt="touchstart touchmove touchend touchcancel";f(B,P,{handler:function(t){var e=zt[t.type],r=function(t,e){var r=T(t.touches),i=this.targetIds;if(e&(2|gt)&&1===r.length)return i[r[0].identifier]=!0,[r,r];var n,s,o=T(t.changedTouches),a=[],h=this.target;if(s=r.filter(function(t){return g(t.target,h)}),e===gt)for(n=0;n<s.length;)i[s[n].identifier]=!0,n++;for(n=0;n<o.length;)i[o[n].identifier]&&a.push(o[n]),e&(_t|bt)&&delete i[o[n].identifier],n++;return a.length?[w(s.concat(a),"identifier",!0),a]:void 0}.call(this,t,e);r&&this.callback(this.manager,e,{pointers:r[0],changedPointers:r[1],pointerType:mt,srcEvent:t})}});var Ut=2500;f(j,P,{handler:function(t,e,r){var i=r.pointerType==mt,n=r.pointerType==yt;if(!(n&&r.sourceCapabilities&&r.sourceCapabilities.firesTouchEvents)){if(i)(function(t,e){t&gt?(this.primaryTouch=e.changedPointers[0].identifier,V.call(this,e)):t&(_t|bt)&&V.call(this,e)}).call(this,e,r);else if(n&&function(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var n=this.lastTouches[i],s=Math.abs(e-n.x),o=Math.abs(r-n.y);if(25>=s&&25>=o)return!0}return!1}.call(this,r))return;this.callback(t,e,r)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Xt=E(nt.style,"touchAction"),Ht=Xt!==a,Wt="compute",Yt="manipulation",qt="none",$t="pan-x",Kt="pan-y",Zt=function(){if(!Ht)return!1;var t={},e=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){t[r]=!e||n.CSS.supports("touch-action",r)}),t}();z.prototype={set:function(t){t==Wt&&(t=this.compute()),Ht&&this.manager.element.style&&Zt[t]&&(this.manager.element.style[Xt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return l(this.manager.recognizers,function(e){d(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(_(t,qt))return qt;var e=_(t,$t),r=_(t,Kt);return e&&r?qt:e||r?e?$t:Kt:_(t,Yt)?Yt:"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,r=t.offsetDirection;if(!this.manager.session.prevented){var i=this.actions,n=_(i,qt)&&!Zt[qt],s=_(i,Kt)&&!Zt[Kt],o=_(i,$t)&&!Zt[$t];if(n){var a=1===t.pointers.length,h=t.distance<2,u=t.deltaTime<250;if(a&&h&&u)return}return o&&s?void 0:n||s&&r&Pt||o&&r&Ct?this.preventSrc(e):void 0}e.preventDefault()},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Jt=1,Qt=2,te=4,ee=8,re=ee,ie=16;G.prototype={defaults:{},set:function(t){return rt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(u(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=H(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return u(t,"dropRecognizeWith",this)?this:(t=H(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(u(t,"requireFailure",this))return this;var e=this.requireFail;return-1===x(e,t=H(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(u(t,"dropRequireFailure",this))return this;t=H(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){r.manager.emit(e,t)}var r=this,i=this.state;ee>i&&e(r.options.event+U(i)),e(r.options.event),t.additionalEvent&&e(t.additionalEvent),i>=ee&&e(r.options.event+U(i))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=32)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Jt)))return!1;t++}return!0},recognize:function(t){var e=rt({},t);return d(this.options.enable,[this,e])?(this.state&(re|ie|32)&&(this.state=Jt),this.state=this.process(e),void(this.state&(Qt|te|ee|ie)&&this.tryEmit(e))):(this.reset(),void(this.state=32))},process:function(t){},getTouchAction:function(){},reset:function(){}},f(W,G,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,r=t.eventType,i=e&(Qt|te),n=this.attrTest(t);return i&&(r&bt||!n)?e|ie:i||n?r&_t?e|ee:e&Qt?e|te:Qt:32}}),f(Y,W,{defaults:{event:"pan",threshold:10,pointers:1,direction:At},getTouchAction:function(){var t=this.options.direction,e=[];return t&Pt&&e.push(Kt),t&Ct&&e.push($t),e},directionTest:function(t){var e=this.options,r=!0,i=t.distance,n=t.direction,s=t.deltaX,o=t.deltaY;return n&e.direction||(e.direction&Pt?(n=0===s?xt:0>s?Tt:wt,r=s!=this.pX,i=Math.abs(t.deltaX)):(n=0===o?xt:0>o?Et:St,r=o!=this.pY,i=Math.abs(t.deltaY))),t.direction=n,r&&i>e.threshold&&n&e.direction},attrTest:function(t){return W.prototype.attrTest.call(this,t)&&(this.state&Qt||!(this.state&Qt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=X(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),f(q,W,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[qt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Qt)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),f($,G,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,r=t.pointers.length===e.pointers,i=t.distance<e.threshold,n=t.deltaTime>e.time;if(this._input=t,!i||!r||t.eventType&(_t|bt)&&!n)this.reset();else if(t.eventType&gt)this.reset(),this._timer=h(function(){this.state=re,this.tryEmit()},e.time,this);else if(t.eventType&_t)return re;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===re&&(t&&t.eventType&_t?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=ht(),this.manager.emit(this.options.event,this._input)))}}),f(K,W,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[qt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Qt)}}),f(Z,W,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Pt|Ct,pointers:1},getTouchAction:function(){return Y.prototype.getTouchAction.call(this)},attrTest:function(t){var e,r=this.options.direction;return r&(Pt|Ct)?e=t.overallVelocity:r&Pt?e=t.overallVelocityX:r&Ct&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&r&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&at(e)>this.options.velocity&&t.eventType&_t},emit:function(t){var e=X(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),f(J,G,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Yt]},process:function(t){var e=this.options,r=t.pointers.length===e.pointers,i=t.distance<e.threshold,n=t.deltaTime<e.time;if(this.reset(),t.eventType&gt&&0===this.count)return this.failTimeout();if(i&&n&&r){if(t.eventType!=_t)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||R(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&s?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=h(function(){this.state=re,this.tryEmit()},e.interval,this),Qt):re}return 32},failTimeout:function(){return this._timer=h(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==re&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Q.VERSION="2.0.8",Q.defaults={domEvents:!1,touchAction:Wt,enable:!0,inputTarget:null,inputClass:null,preset:[[K,{enable:!1}],[q,{enable:!1},["rotate"]],[Z,{direction:Pt}],[Y,{direction:Pt},["swipe"]],[J],[J,{event:"doubletap",taps:2},["tap"]],[$]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},tt.prototype={set:function(t){return rt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var r,i=this.recognizers,n=e.curRecognizer;(!n||n&&n.state&re)&&(n=e.curRecognizer=null);for(var s=0;s<i.length;)r=i[s],2===e.stopped||n&&r!=n&&!r.canRecognizeWith(n)?r.reset():r.recognize(t),!n&&r.state&(Qt|te|ee)&&(n=e.curRecognizer=r),s++}},get:function(t){if(t instanceof G)return t;for(var e=this.recognizers,r=0;r<e.length;r++)if(e[r].options.event==t)return e[r];return null},add:function(t){if(u(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(u(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,r=x(e,t);-1!==r&&(e.splice(r,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var r=this.handlers;return l(b(t),function(t){r[t]=r[t]||[],r[t].push(e)}),this}},off:function(t,e){if(t!==a){var r=this.handlers;return l(b(t),function(t){e?r[t]&&r[t].splice(x(r[t],e),1):delete r[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var r=s.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}(t,e);var r=this.handlers[t]&&this.handlers[t].slice();if(r&&r.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<r.length;)r[i](e),i++}},destroy:function(){this.element&&et(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},rt(Q,{INPUT_START:gt,INPUT_MOVE:2,INPUT_END:_t,INPUT_CANCEL:bt,STATE_POSSIBLE:Jt,STATE_BEGAN:Qt,STATE_CHANGED:te,STATE_ENDED:ee,STATE_RECOGNIZED:re,STATE_CANCELLED:ie,STATE_FAILED:32,DIRECTION_NONE:xt,DIRECTION_LEFT:Tt,DIRECTION_RIGHT:wt,DIRECTION_UP:Et,DIRECTION_DOWN:St,DIRECTION_HORIZONTAL:Pt,DIRECTION_VERTICAL:Ct,DIRECTION_ALL:At,Manager:tt,Input:P,TouchAction:z,TouchInput:B,MouseInput:F,PointerEventInput:L,TouchMouseInput:j,SingleTouchInput:N,Recognizer:G,AttrRecognizer:W,Tap:J,Pan:Y,Swipe:Z,Pinch:q,Rotate:K,Press:$,on:y,off:v,each:l,merge:lt,extend:ut,assign:rt,inherit:f,bindFn:p,prefixed:E}),(void 0!==n?n:"undefined"!=typeof self?self:{}).Hammer=Q,void 0===(i=function(){return Q}.call(e,r,e,t))||(t.exports=i)}(window,document)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(282);!function(t){t.Video="video",t.Image="image",t.Theme="theme"}(e.MasherClipType||(e.MasherClipType={})),(e.MasherAudioType||(e.MasherAudioType={})).Audio="audio",function(t){t.LINEAR="LINEAR",t.CIRCLE="CIRCLE"}(e.BACKGROUND_CONFIG||(e.BACKGROUND_CONFIG={})),e.DEFAULT_TRANSITION_GROUP={enable:!1,startTime:0,enTime:0,duration:0,transId:"",transitions:[]},e.DEFAULT_TRANSITION={id:"",config:{},fromSlide:null,toSlide:null,transId:"",overlays:[]},e.DEFAULT_SLIDE={id:i(),length:0,thumb:"https://getuikit.com/v2/docs/images/placeholder_600x400.svg",startTime:0,endTime:0,clips:[],effects:[],overlays:[],transition:{enter:e.DEFAULT_TRANSITION_GROUP,present:e.DEFAULT_TRANSITION_GROUP,leave:e.DEFAULT_TRANSITION_GROUP}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(286),n=r(287),s=r(289),o=r(290),a=r(291);class h{constructor(){this.loadTramsitions()}static getInstance(){return h.instance||(h.instance=new h),h.instance}loadTramsitions(){const t=new a.FadeOutTransition,e=new o.FadeInTransition,r=new s.SlideDownTransition,i=new n.SlideUpTransition;this.tramsitions=[t,e,i,r]}factory(t,e){const r=this.getTrasitionById(t);if(!r)throw new Error(`transition ${t} does not exits.`);return r.createTimeLine(e)}getAll(){return this.tramsitions}getCategories(){return Object.keys(this.groupByCategories())}groupByCategories(){return i.groupBy(this.tramsitions,t=>t.meta.cat)}getTrasitionById(t){return this.tramsitions.find(e=>e.meta.transId===t)}hasCategory(t){return!!this.getTrasitionById(t)}hasTransition(t){return!!this.getTrasitionById(t)}}e.TransitionFactoryService=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i={name:"Text",catId:"text",desc:""},n={name:"Default",catId:"dafault",desc:""},s={name:"After effect",catId:"after-effect",desc:""};e.GLOBAL_DEFAULT_CONFIG={color:"red",blending:"",opacity:""},function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Center=2]="Center",t[t.Top=3]="Top",t[t.Midle=4]="Midle",t[t.Bottom=5]="Bottom",t.Front="FRONT",t.Back="BACK",t.Forward="FORWARD",t.Backward="BACKWARD"}(e.EffectArrage||(e.EffectArrage={})),e.EFFECT_CATEGORIES_MAP={text:i,default:n,bodymovin:s},e.EFFECT_CATEGORIES=[n,i,s]},function(t,e,r){"use strict";var i=r(313),n=r(316),s=[].slice,o=["keyword","gray","hex"],a={};Object.keys(n).forEach(function(t){a[s.call(n[t].labels).sort().join("")]=t});var h={};function u(t,e){if(!(this instanceof u))return new u(t,e);if(e&&e in o&&(e=null),e&&!(e in n))throw new Error("Unknown model: "+e);var r,l;if(t)if(t instanceof u)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var c=i.get(t);if(null===c)throw new Error("Unable to parse color from string: "+t);this.model=c.model,l=n[this.model].channels,this.color=c.value.slice(0,l),this.valpha="number"==typeof c.value[l]?c.value[l]:1}else if(t.length){this.model=e||"rgb",l=n[this.model].channels;var p=s.call(t,0,l);this.color=f(p,l),this.valpha="number"==typeof t[l]?t[l]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var d=Object.keys(t);"alpha"in t&&(d.splice(d.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var m=d.sort().join("");if(!(m in a))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=a[m];var y=n[this.model].labels,v=[];for(r=0;r<y.length;r++)v.push(t[y[r]]);this.color=f(v)}else this.model="rgb",this.color=[0,0,0],this.valpha=1;if(h[this.model])for(l=n[this.model].channels,r=0;r<l;r++){var g=h[this.model][r];g&&(this.color[r]=g(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function l(t,e,r){return(t=Array.isArray(t)?t:[t]).forEach(function(t){(h[t]||(h[t]=[]))[e]=r}),t=t[0],function(i){var n;return arguments.length?(r&&(i=r(i)),(n=this[t]()).color[e]=i,n):(n=this[t]().color[e],r&&(n=r(n)),n)}}function c(t){return function(e){return Math.max(0,Math.min(t,e))}}function f(t,e){for(var r=0;r<e;r++)"number"!=typeof t[r]&&(t[r]=0);return t}u.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in i.to?this:this.rgb(),r=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return i.to[e.model](r)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),r=1===e.valpha?e.color:e.color.concat(this.valpha);return i.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=n[this.model].channels,r=n[this.model].labels,i=0;i<e;i++)t[r[i]]=this.color[i];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new u(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new u(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:l("rgb",0,c(255)),green:l("rgb",1,c(255)),blue:l("rgb",2,c(255)),hue:l(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:l("hsl",1,c(100)),lightness:l("hsl",2,c(100)),saturationv:l("hsv",1,c(100)),value:l("hsv",2,c(100)),chroma:l("hcg",1,c(100)),gray:l("hcg",2,c(100)),white:l("hwb",1,c(100)),wblack:l("hwb",2,c(100)),cyan:l("cmyk",0,c(100)),magenta:l("cmyk",1,c(100)),yellow:l("cmyk",2,c(100)),black:l("cmyk",3,c(100)),x:l("xyz",0,c(100)),y:l("xyz",1,c(100)),z:l("xyz",2,c(100)),l:l("lab",0,c(100)),a:l("lab",1),b:l("lab",2),keyword:function(t){return arguments.length?new u(t):n[this.model].keyword(this.color)},hex:function(t){return arguments.length?new u(t):i.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],r=0;r<t.length;r++){var i=t[r]/255;e[r]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return u.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),r=e.color[0];return r=(r=(r+t)%360)<0?360+r:r,e.color[0]=r,e},mix:function(t,e){var r=t.rgb(),i=this.rgb(),n=void 0===e?.5:e,s=2*n-1,o=r.alpha()-i.alpha(),a=((s*o==-1?s:(s+o)/(1+s*o))+1)/2,h=1-a;return u.rgb(a*r.red()+h*i.red(),a*r.green()+h*i.green(),a*r.blue()+h*i.blue(),r.alpha()*n+i.alpha()*(1-n))}},Object.keys(n).forEach(function(t){if(-1===o.indexOf(t)){var e=n[t].channels;u.prototype[t]=function(){if(this.model===t)return new u(this);if(arguments.length)return new u(arguments,t);var r="number"==typeof arguments[e]?e:this.valpha;return new u(function(t){return Array.isArray(t)?t:[t]}(n[this.model][t].raw(this.color)).concat(r),t)},u[t]=function(r){return"number"==typeof r&&(r=f(s.call(arguments),e)),new u(r,t)}}}),t.exports=u},function(t,e){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,r){var i=r(170),n={};for(var s in i)i.hasOwnProperty(s)&&(n[i[s]]=s);var o=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in o)if(o.hasOwnProperty(a)){if(!("channels"in o[a]))throw new Error("missing channels property: "+a);if(!("labels"in o[a]))throw new Error("missing channel labels property: "+a);if(o[a].labels.length!==o[a].channels)throw new Error("channel and label counts mismatch: "+a);var h=o[a].channels,u=o[a].labels;delete o[a].channels,delete o[a].labels,Object.defineProperty(o[a],"channels",{value:h}),Object.defineProperty(o[a],"labels",{value:u})}function l(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}o.rgb.hsl=function(t){var e,r,i=t[0]/255,n=t[1]/255,s=t[2]/255,o=Math.min(i,n,s),a=Math.max(i,n,s),h=a-o;return a===o?e=0:i===a?e=(n-s)/h:n===a?e=2+(s-i)/h:s===a&&(e=4+(i-n)/h),(e=Math.min(60*e,360))<0&&(e+=360),r=(o+a)/2,[e,100*(a===o?0:r<=.5?h/(a+o):h/(2-a-o)),100*r]},o.rgb.hsv=function(t){var e,r,i,n,s,o=t[0]/255,a=t[1]/255,h=t[2]/255,u=Math.max(o,a,h),l=u-Math.min(o,a,h),c=function(t){return(u-t)/6/l+.5};return 0===l?n=s=0:(s=l/u,e=c(o),r=c(a),i=c(h),o===u?n=i-r:a===u?n=1/3+e-i:h===u&&(n=2/3+r-e),n<0?n+=1:n>1&&(n-=1)),[360*n,100*s,100*u]},o.rgb.hwb=function(t){var e=t[0],r=t[1],i=t[2];return[o.rgb.hsl(t)[0],1/255*Math.min(e,Math.min(r,i))*100,100*(i=1-1/255*Math.max(e,Math.max(r,i)))]},o.rgb.cmyk=function(t){var e,r=t[0]/255,i=t[1]/255,n=t[2]/255;return[100*((1-r-(e=Math.min(1-r,1-i,1-n)))/(1-e)||0),100*((1-i-e)/(1-e)||0),100*((1-n-e)/(1-e)||0),100*e]},o.rgb.keyword=function(t){var e=n[t];if(e)return e;var r,s=1/0;for(var o in i)if(i.hasOwnProperty(o)){var a=l(t,i[o]);a<s&&(s=a,r=o)}return r},o.keyword.rgb=function(t){return i[t]},o.rgb.xyz=function(t){var e=t[0]/255,r=t[1]/255,i=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*r+.0722*i),100*(.0193*e+.1192*r+.9505*i)]},o.rgb.lab=function(t){var e=o.rgb.xyz(t),r=e[0],i=e[1],n=e[2];return i/=100,n/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(r-i),200*(i-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},o.hsl.rgb=function(t){var e,r,i,n,s,o=t[0]/360,a=t[1]/100,h=t[2]/100;if(0===a)return[s=255*h,s,s];e=2*h-(r=h<.5?h*(1+a):h+a-h*a),n=[0,0,0];for(var u=0;u<3;u++)(i=o+1/3*-(u-1))<0&&i++,i>1&&i--,s=6*i<1?e+6*(r-e)*i:2*i<1?r:3*i<2?e+(r-e)*(2/3-i)*6:e,n[u]=255*s;return n},o.hsl.hsv=function(t){var e=t[0],r=t[1]/100,i=t[2]/100,n=r,s=Math.max(i,.01);return r*=(i*=2)<=1?i:2-i,n*=s<=1?s:2-s,[e,100*(0===i?2*n/(s+n):2*r/(i+r)),(i+r)/2*100]},o.hsv.rgb=function(t){var e=t[0]/60,r=t[1]/100,i=t[2]/100,n=Math.floor(e)%6,s=e-Math.floor(e),o=255*i*(1-r),a=255*i*(1-r*s),h=255*i*(1-r*(1-s));switch(i*=255,n){case 0:return[i,h,o];case 1:return[a,i,o];case 2:return[o,i,h];case 3:return[o,a,i];case 4:return[h,o,i];case 5:return[i,o,a]}},o.hsv.hsl=function(t){var e,r,i,n=t[0],s=t[1]/100,o=t[2]/100,a=Math.max(o,.01);return i=(2-s)*o,r=s*a,[n,100*(r=(r/=(e=(2-s)*a)<=1?e:2-e)||0),100*(i/=2)]},o.hwb.rgb=function(t){var e,r,i,n,s,o,a,h=t[0]/360,u=t[1]/100,l=t[2]/100,c=u+l;switch(c>1&&(u/=c,l/=c),r=1-l,i=6*h-(e=Math.floor(6*h)),0!=(1&e)&&(i=1-i),n=u+i*(r-u),e){default:case 6:case 0:s=r,o=n,a=u;break;case 1:s=n,o=r,a=u;break;case 2:s=u,o=r,a=n;break;case 3:s=u,o=n,a=r;break;case 4:s=n,o=u,a=r;break;case 5:s=r,o=u,a=n}return[255*s,255*o,255*a]},o.cmyk.rgb=function(t){var e=t[0]/100,r=t[1]/100,i=t[2]/100,n=t[3]/100;return[255*(1-Math.min(1,e*(1-n)+n)),255*(1-Math.min(1,r*(1-n)+n)),255*(1-Math.min(1,i*(1-n)+n))]},o.xyz.rgb=function(t){var e,r,i,n=t[0]/100,s=t[1]/100,o=t[2]/100;return r=-.9689*n+1.8758*s+.0415*o,i=.0557*n+-.204*s+1.057*o,e=(e=3.2406*n+-1.5372*s+-.4986*o)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(e=Math.min(Math.max(0,e),1)),255*(r=Math.min(Math.max(0,r),1)),255*(i=Math.min(Math.max(0,i),1))]},o.xyz.lab=function(t){var e=t[0],r=t[1],i=t[2];return r/=100,i/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(e-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},o.lab.xyz=function(t){var e,r,i,n=t[0],s=t[1],o=t[2];e=s/500+(r=(n+16)/116),i=r-o/200;var a=Math.pow(r,3),h=Math.pow(e,3),u=Math.pow(i,3);return r=a>.008856?a:(r-16/116)/7.787,e=h>.008856?h:(e-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,[e*=95.047,r*=100,i*=108.883]},o.lab.lch=function(t){var e,r=t[0],i=t[1],n=t[2];return(e=360*Math.atan2(n,i)/2/Math.PI)<0&&(e+=360),[r,Math.sqrt(i*i+n*n),e]},o.lch.lab=function(t){var e,r=t[0],i=t[1];return e=t[2]/360*2*Math.PI,[r,i*Math.cos(e),i*Math.sin(e)]},o.rgb.ansi16=function(t){var e=t[0],r=t[1],i=t[2],n=1 in arguments?arguments[1]:o.rgb.hsv(t)[2];if(0===(n=Math.round(n/50)))return 30;var s=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return 2===n&&(s+=60),s},o.hsv.ansi16=function(t){return o.rgb.ansi16(o.hsv.rgb(t),t[2])},o.rgb.ansi256=function(t){var e=t[0],r=t[1],i=t[2];return e===r&&r===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(i/255*5)},o.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var r=.5*(1+~~(t>50));return[(1&e)*r*255,(e>>1&1)*r*255,(e>>2&1)*r*255]},o.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var r;return t-=16,[Math.floor(t/36)/5*255,Math.floor((r=t%36)/6)/5*255,r%6/5*255]},o.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},o.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var r=e[0];3===e[0].length&&(r=r.split("").map(function(t){return t+t}).join(""));var i=parseInt(r,16);return[i>>16&255,i>>8&255,255&i]},o.rgb.hcg=function(t){var e,r=t[0]/255,i=t[1]/255,n=t[2]/255,s=Math.max(Math.max(r,i),n),o=Math.min(Math.min(r,i),n),a=s-o;return e=a<=0?0:s===r?(i-n)/a%6:s===i?2+(n-r)/a:4+(r-i)/a+4,e/=6,[360*(e%=1),100*a,100*(a<1?o/(1-a):0)]},o.hsl.hcg=function(t){var e,r=t[1]/100,i=t[2]/100,n=0;return(e=i<.5?2*r*i:2*r*(1-i))<1&&(n=(i-.5*e)/(1-e)),[t[0],100*e,100*n]},o.hsv.hcg=function(t){var e=t[1]/100,r=t[2]/100,i=e*r,n=0;return i<1&&(n=(r-i)/(1-i)),[t[0],100*i,100*n]},o.hcg.rgb=function(t){var e=t[0]/360,r=t[1]/100,i=t[2]/100;if(0===r)return[255*i,255*i,255*i];var n,s=[0,0,0],o=e%1*6,a=o%1,h=1-a;switch(Math.floor(o)){case 0:s[0]=1,s[1]=a,s[2]=0;break;case 1:s[0]=h,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=a;break;case 3:s[0]=0,s[1]=h,s[2]=1;break;case 4:s[0]=a,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=h}return n=(1-r)*i,[255*(r*s[0]+n),255*(r*s[1]+n),255*(r*s[2]+n)]},o.hcg.hsv=function(t){var e=t[1]/100,r=e+t[2]/100*(1-e),i=0;return r>0&&(i=e/r),[t[0],100*i,100*r]},o.hcg.hsl=function(t){var e=t[1]/100,r=t[2]/100*(1-e)+.5*e,i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[t[0],100*i,100*r]},o.hcg.hwb=function(t){var e=t[1]/100,r=e+t[2]/100*(1-e);return[t[0],100*(r-e),100*(1-r)]},o.hwb.hcg=function(t){var e=t[1]/100,r=1-t[2]/100,i=r-e,n=0;return i<1&&(n=(r-i)/(1-i)),[t[0],100*i,100*n]},o.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},o.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},o.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},o.gray.hsl=o.gray.hsv=function(t){return[0,0,t[0]]},o.gray.hwb=function(t){return[0,100,t[0]]},o.gray.cmyk=function(t){return[0,0,0,t[0]]},o.gray.lab=function(t){return[t[0],0,0]},o.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r},o.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(173),n=r(323);window.Player=i.Player,window.ResourceService=n.ResourceService,n.ResourceService.getInstance().loadFonts(["Oxygen"],function(){console.log("Load font success!")})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(174);r(276),r(165),r(165),r(277),r(278),r(279);const n=r(280),s=r(321),o=r(111);e.Player=class{constructor(t,e){this.hostEl=t,this.duration=0,this.loop=-1,this.looped=0,this.slidePlayers=[],this.audioPlayers=[],this.editor=e,this.actionService=o.ActionService.getInstance(),this.assignEvent(),this.constructView(),this.initApp(),t&&this.attachView(t),this.editor&&this.initTransformTool()}assignEvent(){this.actionService.redirectDelay$.subscribe(t=>{this.onRedirect(t)}),this.actionService.playerControl$.subscribe(t=>{switch(t){case o.PLAYER_CONTROL.STOP:this.stop()}})}onRedirect(t){t&&console.log("onRedirect event")}attachView(t){this.hostEl=t,this.hostEl.innerHTML="",this.hostEl.appendChild(this.container)}play(t){this.updateLastTick(),this.started||this.reset(),this.started=!0,this.paused=!1,"function"==typeof this.onPlay&&this.onPlay()}pause(){this.paused=!0}reset(){this.currentTime=0,this.lastTick=Date.now(),this.startTime=Date.now(),this.updateTick(),this.slidePlayers.forEach(t=>t.reset())}stop(){this.reset(),this.pause()}update(t){this.paused||this.updateTick(),this.started&&this.currentTime>this.duration+1/24&&(this.reset(),this.loop>-1&&(this.looped>=this.loop&&this.pause(),this.looped++),"function"==typeof this.onEnded&&this.onEnded()),this.hasSlide()&&this.slidePlayers.forEach(e=>e.update(t,this.currentTime,this.paused)),this.hasAudioSlide()&&this.audioPlayers.forEach(e=>{e.update(t,this.currentTime,this.paused)})}setCurrentTime(t){this.currentTime=t,"function"==typeof this.onTick&&this.onTick(this.currentTime)}playSlide(t){const e=this.getSlidePlayerById(t);this.setCurrentTime(e.startTime)}render(){}resetPlayer(){this.slidePlayers.forEach(t=>t.destroy()),this.audioPlayers.forEach(t=>t.destroy()),this.slidePlayers=[],this.audioPlayers=[]}updateSlides(t){const e=t.videoChanel.slides;for(let t of e)t.config||(t.config={}),t.config.height=this.config.height,t.config.width=this.config.width,this.hasOwnSlide(t.id)||this.initSlide(t),this.updateSlide(t);this.reset(),this.updateSlideVisible()}updateAudioSlides(t){const e=t.slides;for(const t of e)this.hasOwnSlide(t.id)||this.initAudioSlide(t),this.updateAudioSlide(t)}selectEffect(t){if(this.slidePlayers.forEach(t=>t.unselectEffect()),t){const e=this.getSlidePlayerById(t.slideId);e&&e.selectEffect(t.id)}}updateSlideVisible(){this.slidePlayers.forEach(t=>t.updateVisible(this.currentTime))}destroy(){console.log("Player","destroy"),this.destroyed=!0,this.onTick=null,this.onPlay=null,this.onEnded=null,this.stop(),this.actionService.destroy(),this.slidePlayers.forEach(t=>t.destroy()),this.audioPlayers.forEach(t=>t.destroy()),this.app.destroy()}constructView(){this.container=document.createElement("div"),this.container.classList.add("player-container"),this.appEl=document.createElement("div"),this.appEl.classList.add("player-app-container"),this.container.appendChild(this.appEl)}initTransformTool(){this.transformTool=new i.TransformTool({debug:!1,canvas:this.app.view,scaleByRatio:!0,lockReg:!1,border:!0}),this.app.stage.addChild(this.transformTool)}initApp(){this.config={height:720,width:1280},this.app=new i.Application(this.config.width,this.config.height,{backgroundColor:4342338}),this.app.stage=new i.display.Stage,this.app.stage.on("click",()=>{this.onEffectSelect({id:null})}),this.app.stage.group.enableSort=!0,this.app.ticker.add(this.update.bind(this)),this.appEl.appendChild(this.app.view),this.reset(),this.pause()}_onOverlaySelect(t){"function"==typeof this.onOverlaySelect&&this.onOverlaySelect(t)}updateSlide(t){this.getSlidePlayerById(t.id).updateSlide(t)}updateAudioSlide(t){this.getAudioSlidePlayerById(t.id).updateSlide(t)}initSlide(t){const e=this.createContainer(),r=new n.SlidePlayer({id:t.id,startTime:this.duration,clips:t.clips,editor:this.transformTool,container:e,config:t.config});if(r.onDurationChange=this.updateChanelDuration.bind(this),r.onPlay=this.onSlidePlay.bind(this,r),r.onEnded=this.onSlideEnded.bind(this,r),r.onEffectClick=this.onSlideEffectSelect.bind(this,r),r.onEffectTransform=this.onSlideEffectTransform.bind(this,r),r.onEffectSize=this.onSlideEffectSize.bind(this,r),this.hasSlide()){const t=this.getLastSlidePlayer();r.startTime=t.endTime,t.nextSlide=r,r.prevSlide=t}this.slidePlayers.push(r)}initAudioSlide(t){console.log("initAudioSlide",t);const e=new s.AudioSlidePlayer({id:t.id,startTime:this.duration,clips:t.audios});if(e.onDurationChange=this.updateAudioChanelDuration.bind(this),e.onPlay=this.onSlidePlay.bind(this,e),e.onEnded=this.onSlideEnded.bind(this,e),this.hasAudioSlide()){const t=this.getLastAudioSlidePlayer();console.log("lastAudioSlidePlayer",t),e.startTime=t.endTime,t.nextSlide=e,e.prevSlide=t}this.audioPlayers.push(e)}hasOwnSlide(t){return!!this.slidePlayers.find(e=>e.id===t)}hasSlide(){return this.slidePlayers&&this.slidePlayers.length>0}hasAudioSlide(){return this.audioPlayers&&this.audioPlayers.length>0}getSlidePlayerById(t){return this.slidePlayers.find(e=>e.id===t)}getAudioSlidePlayerById(t){return this.audioPlayers.find(e=>e.id===t)}getLastSlidePlayer(){return this.slidePlayers[this.slidePlayers.length-1]}getLastAudioSlidePlayer(){return this.audioPlayers[this.audioPlayers.length-1]}updateTick(){if(!this.paused){const t=Date.now();this.currentTime+=(t-this.lastTick)/1e3,this.updateLastTick()}"function"==typeof this.onTick&&this.onTick(this.currentTime)}updateLastTick(t){t=t||Date.now(),this.lastTick=t}onSlideEffectSelect(t,e){console.log("call onEffectSelect"),"function"==typeof this.onEffectSelect&&this.onEffectSelect(e)}onSlideEffectTransform(t,e,r){"function"==typeof this.onEffectUpdate&&this.onEffectUpdate(t,e,{transform:r})}onSlideEffectSize(t,e,r){"function"==typeof this.onEffectUpdate&&(this.onEffectUpdate(t,e,{transform:r}),console.log(r))}onSlidePlay(t){}onSlideEnded(t){}updateChanelDuration(t,e){const r=this.slidePlayers.reduce((t,e)=>t+e.duration,0);this.duration=Math.max(r,this.duration),this.updateSlideVisible(),"function"==typeof this.onDurationChange&&this.onDurationChange(this.duration)}updateAudioChanelDuration(t,e){const r=this.audioPlayers.reduce((t,e)=>t+e.duration,0);this.duration=Math.max(r,this.duration),console.log("updateAudioChanelDuration",this.duration),"function"==typeof this.onDurationChange&&this.onDurationChange(this.duration)}createContainer(){const t=new i.Container;return this.app.stage.addChild(t),t}}},function(t,e,r){"use strict";(function(t){e.__esModule=!0,e.loader=e.prepare=e.particles=e.mesh=e.loaders=e.interaction=e.filters=e.extras=e.extract=e.accessibility=void 0;var i=r(175);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var n=r(9);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var s=function(t){return t&&t.__esModule?t:{default:t}}(r(236)),o=m(r(237)),a=m(r(239)),h=m(r(146)),u=m(r(249)),l=m(r(256)),c=m(r(258)),f=m(r(262)),p=m(r(267)),d=m(r(272));function m(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}n.utils.mixins.performMixins();var y=c.shared||null;e.accessibility=o,e.extract=a,e.extras=h,e.filters=u,e.interaction=l,e.loaders=c,e.mesh=f,e.particles=p,e.prepare=d,e.loader=y,"function"==typeof s.default&&(0,s.default)(e),t.PIXI=e}).call(this,r(58))},function(t,e,r){"use strict";r(176),r(178),r(179),r(180),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,e,r){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}}(r(177));Object.assign||(Object.assign=i.default)},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,o,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),h=1;h<arguments.length;h++){for(var u in r=Object(arguments[h]))n.call(r,u)&&(a[u]=r[u]);if(i){o=i(r);for(var l=0;l<o.length;l++)s.call(r,o[l])&&(a[o[l]]=r[o[l]])}}return a}},function(t,e,r){"use strict";(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var r=Date.now(),i=["ms","moz","webkit","o"],n=0;n<i.length&&!t.requestAnimationFrame;++n){var s=i[n];t.requestAnimationFrame=t[s+"RequestAnimationFrame"],t.cancelAnimationFrame=t[s+"CancelAnimationFrame"]||t[s+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+r-e;return i<0&&(i=0),r=e,setTimeout(function(){r=Date.now(),t(performance.now())},i)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,r(58))},function(t,e,r){"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1})},function(t,e,r){"use strict";Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t})},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(95)),n=r(7),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.radius=i,this.type=n.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,n=this.y-e;return(i*=i)+(n*=n)<=r},t.prototype.getBounds=function(){return new i.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(95)),n=r(7),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.width=i,this.height=s,this.type=n.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return(r*=r)+(i*=i)<=1},t.prototype.getBounds=function(){return new i.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(93)),n=r(7),s=function(){function t(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof i.default){for(var o=[],a=0,h=r.length;a<h;a++)o.push(r[a].x,r[a].y);r=o}this.closed=!0,this.points=r,this.type=n.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,s=i-1;n<i;s=n++){var o=this.points[2*n],a=this.points[2*n+1],h=this.points[2*s],u=this.points[2*s+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-o)+o&&(r=!r)}return r},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i=r(7),n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.width=n,this.height=s,this.radius=o,this.type=i.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=e-(this.y+this.radius),n=this.radius*this.radius;if(r*r+i*i<=n)return!0;if((r=t-(this.x+this.width-this.radius))*r+i*i<=n)return!0;if(r*r+(i=e-(this.y+this.height-this.radius))*i<=n)return!0;if((r=t-(this.x+this.radius))*r+i*i<=n)return!0}return!1},t}();e.default=n},function(t,e){t.exports=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}},function(t,e){var r=new ArrayBuffer(0),i=function(t,e,i,n){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=n||t.STATIC_DRAW,this.data=r,i&&this.upload(i),this._updateID=0};i.prototype.upload=function(t,e,r){r||this.bind();var i=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?i.bufferSubData(this.type,e,t):i.bufferData(this.type,t,this.drawType),this.data=t},i.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},i.createVertexBuffer=function(t,e,r){return new i(t,t.ARRAY_BUFFER,e,r)},i.createIndexBuffer=function(t,e,r){return new i(t,t.ELEMENT_ARRAY_BUFFER,e,r)},i.create=function(t,e,r,n){return new i(t,e,r,n)},i.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=i},function(t,e,r){var i=r(116),n=function(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100};n.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new i(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},n.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},n.prototype.clear=function(t,e,r,i){this.bind();var n=this.gl;n.clearColor(t,e,r,i),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)},n.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},n.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},n.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},n.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},n.createRGBA=function(t,e,r,s){var o=i.fromData(t,null,e,r);o.enableNearestScaling(),o.enableWrapClamp();var a=new n(t,e,r);return a.enableTexture(o),a.unbind(),a},n.createFloat32=function(t,e,r,s){var o=new i.fromData(t,s,e,r);o.enableNearestScaling(),o.enableWrapClamp();var a=new n(t,e,r);return a.enableTexture(o),a.unbind(),a},t.exports=n},function(t,e,r){var i=r(117),n=r(118),s=r(120),o=r(122),a=r(123),h=function(t,e,r,h,u){this.gl=t,h&&(e=o(e,h),r=o(r,h)),this.program=i(t,e,r,u),this.attributes=n(t,this.program),this.uniformData=s(t,this.program),this.uniforms=a(t,this.uniformData)};h.prototype.bind=function(){return this.gl.useProgram(this.program),this},h.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=h},function(t,e,r){var i=r(115);function n(t,e){if(this.nativeVaoExtension=null,n.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}n.prototype.constructor=n,t.exports=n,n.FORCE_NATIVE=!1,n.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},n.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},n.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var n=this.attributes[r];e!==n.buffer&&(n.buffer.bind(),e=n.buffer),t.vertexAttribPointer(n.attribute.location,n.attribute.size,n.type||t.FLOAT,n.normalized||!1,n.stride||0,n.start||0)}return i(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},n.prototype.addAttribute=function(t,e,r,i,n,s){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:i||!1,stride:n||0,start:s||0}),this.dirty=!0,this},n.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},n.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},n.prototype.draw=function(t,e,r){var i=this.gl;return this.indexBuffer?i.drawElements(t,e||this.indexBuffer.data.length,i.UNSIGNED_SHORT,2*(r||0)):i.drawArrays(t,r,e||this.getSize()),this},n.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},n.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e,r){t.exports={compileProgram:r(117),defaultValue:r(121),extractAttributes:r(118),extractUniforms:r(120),generateUniformAccessObject:r(123),setPrecision:r(122),mapSize:r(119),mapType:r(96)}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){return i.default.tablet||i.default.phone?4:t};var i=function(t){return t&&t.__esModule?t:{default:t}}(r(98))},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(t,e,r){"use strict";e.__esModule=!0,e.default={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},function(t,e,r){"use strict";function i(t,e){if(t&&e)for(var r=Object.keys(e),i=0;i<r.length;++i){var n=r[i];Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}}e.__esModule=!0,e.mixin=i,e.delayMixin=function(t,e){n.push(t,e)},e.performMixins=function(){for(var t=0;t<n.length;t+=2)i(n[t],n[t+1]);n.length=0};var n=[]},function(t,e,r){"use strict";t.exports=function(t,e,r){var i,n=t.length;if(!(e>=n||0===r)){var s=n-(r=e+r>n?n-e:r);for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[i.BLEND_MODES.NORMAL_NPM]=i.BLEND_MODES.NORMAL,t[i.BLEND_MODES.ADD_NPM]=i.BLEND_MODES.ADD,t[i.BLEND_MODES.SCREEN_NPM]=i.BLEND_MODES.SCREEN,e[i.BLEND_MODES.NORMAL]=i.BLEND_MODES.NORMAL_NPM,e[i.BLEND_MODES.ADD]=i.BLEND_MODES.ADD_NPM,e[i.BLEND_MODES.SCREEN]=i.BLEND_MODES.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n};var i=r(7)},function(t,e,r){(function(t,i){var n;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(s){"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var o="object"==typeof i&&i;o.global!==o&&o.window!==o&&o.self;var a,h=2147483647,u=36,l=1,c=26,f=38,p=700,d=72,m=128,y="-",v=/^xn--/,g=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=u-l,T=Math.floor,w=String.fromCharCode;function E(t){throw new RangeError(b[t])}function S(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function P(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),i+S((t=t.replace(_,".")).split("."),e).join(".")}function C(t){for(var e,r,i=[],n=0,s=t.length;n<s;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<s?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function A(t){return S(t,function(t){var e="";return t>65535&&(e+=w((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+w(t)}).join("")}function M(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:u}function O(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function I(t,e,r){var i=0;for(t=r?T(t/p):t>>1,t+=T(t/e);t>x*c>>1;i+=u)t=T(t/x);return T(i+(x+1)*t/(t+f))}function D(t){var e,r,i,n,s,o,a,f,p,v,g=[],_=t.length,b=0,x=m,w=d;for((r=t.lastIndexOf(y))<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&E("not-basic"),g.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<_;){for(s=b,o=1,a=u;n>=_&&E("invalid-input"),((f=M(t.charCodeAt(n++)))>=u||f>T((h-b)/o))&&E("overflow"),b+=f*o,!(f<(p=a<=w?l:a>=w+c?c:a-w));a+=u)o>T(h/(v=u-p))&&E("overflow"),o*=v;w=I(b-s,e=g.length+1,0==s),T(b/e)>h-x&&E("overflow"),x+=T(b/e),b%=e,g.splice(b++,0,x)}return A(g)}function R(t){var e,r,i,n,s,o,a,f,p,v,g,_,b,x,S,P=[];for(_=(t=C(t)).length,e=m,r=0,s=d,o=0;o<_;++o)(g=t[o])<128&&P.push(w(g));for(i=n=P.length,n&&P.push(y);i<_;){for(a=h,o=0;o<_;++o)(g=t[o])>=e&&g<a&&(a=g);for(a-e>T((h-r)/(b=i+1))&&E("overflow"),r+=(a-e)*b,e=a,o=0;o<_;++o)if((g=t[o])<e&&++r>h&&E("overflow"),g==e){for(f=r,p=u;!(f<(v=p<=s?l:p>=s+c?c:p-s));p+=u)S=f-v,x=u-v,P.push(w(O(v+S%x,0))),f=T(S/x);P.push(w(O(f,0))),s=I(r,b,i==n),r=0,++i}++r,++e}return P.join("")}a={version:"1.4.1",ucs2:{decode:C,encode:A},decode:D,encode:R,toASCII:function(t){return P(t,function(t){return g.test(t)?"xn--"+R(t):t})},toUnicode:function(t){return P(t,function(t){return v.test(t)?D(t.slice(4).toLowerCase()):t})}},void 0===(n=function(){return a}.call(e,r,e,t))||(t.exports=n)}()}).call(this,r(129)(t),r(58))},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";e.decode=e.parse=r(200),e.encode=e.stringify=r(201)},function(t,e,r){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,s){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var h=1e3;s&&"number"==typeof s.maxKeys&&(h=s.maxKeys);var u=t.length;h>0&&u>h&&(u=h);for(var l=0;l<u;++l){var c,f,p,d,m=t[l].replace(a,"%20"),y=m.indexOf(r);y>=0?(c=m.substr(0,y),f=m.substr(y+1)):(c=m,f=""),p=decodeURIComponent(c),d=decodeURIComponent(f),i(o,p)?n(o[p])?o[p].push(d):o[p]=[o[p],d]:o[p]=d}return o};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?s(o(t),function(o){var a=encodeURIComponent(i(o))+r;return n(t[o])?s(t[o],function(t){return a+encodeURIComponent(i(t))}).join(e):a+encodeURIComponent(i(t[o]))}).join(e):a?encodeURIComponent(i(a))+r+encodeURIComponent(i(t)):""};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function s(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var o=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=a(r(18)),s=r(7),o=a(r(203));function a(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._head=new o.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/n.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new o.default(t,e,r))},t.prototype.addOnce=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new o.default(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*n.default.TARGET_FPMS*this.speed;for(var r=this._head,i=r.next;i;)i=i.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},i(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,n.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fn=e,this.context=r,this.priority=i,this.once=n,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.previous;return this.next=t?null:e,this.previous=null,e},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var i=a(r(60)),n=r(7),s=r(19),o=a(r(105));function a(t){return t&&t.__esModule?t:{default:t}}var h=new s.Matrix,u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,i=e._frame.width,a=e._frame.height,u=t.transform.worldTransform,l=0,c=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(r.setBlendMode(t.blendMode),e.valid)){r.context.globalAlpha=t.worldAlpha;var f=e.baseTexture.scaleMode===n.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==f&&(r.context[r.smoothProperty]=f),e.trim?(l=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,c=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(l=(.5-t.anchor.x)*e.orig.width,c=(.5-t.anchor.y)*e.orig.height),e.rotate&&(u.copy(h),u=h,s.GroupD8.matrixAppendRotationInv(u,e.rotate,l,c),l=0,c=0),l-=i/2,c-=a/2,r.roundPixels?(r.context.setTransform(u.a,u.b,u.c,u.d,u.tx*r.resolution|0,u.ty*r.resolution|0),l|=0,c|=0):r.context.setTransform(u.a,u.b,u.c,u.d,u.tx*r.resolution,u.ty*r.resolution);var p=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=o.default.getTintedTexture(t,t.tint)),r.context.drawImage(t.tintedTexture,0,0,i*p,a*p,l*r.resolution,c*r.resolution,i*r.resolution,a*r.resolution)):r.context.drawImage(e.baseTexture.source,e._frame.x*p,e._frame.y*p,i*p,a*p,l*r.resolution,c*r.resolution,i*r.resolution,a*r.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();e.default=u,i.default.registerPlugin("sprite",u)},function(t,e,r){"use strict";e.__esModule=!0;var i=r(7),n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var r=t.alpha,i=t.transform.worldTransform,n=e.resolution;e.context.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n,i.ty*n),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=r},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var n=0;n<r;n++){var s=t.graphicsData[n],o=s.shape;if(s.type===i.SHAPES.POLY){var a=o.points;e.moveTo(a[0],a[1]);for(var h=1;h<a.length/2;h++)e.lineTo(a[2*h],a[2*h+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(s.type===i.SHAPES.RECT)e.rect(o.x,o.y,o.width,o.height),e.closePath();else if(s.type===i.SHAPES.CIRC)e.arc(o.x,o.y,o.radius,0,2*Math.PI),e.closePath();else if(s.type===i.SHAPES.ELIP){var u=2*o.width,l=2*o.height,c=o.x-u/2,f=o.y-l/2,p=u/2*.5522848,d=l/2*.5522848,m=c+u,y=f+l,v=c+u/2,g=f+l/2;e.moveTo(c,g),e.bezierCurveTo(c,g-d,v-p,f,v,f),e.bezierCurveTo(v+p,f,m,g-d,m,g),e.bezierCurveTo(m,g+d,v+p,y,v,y),e.bezierCurveTo(v-p,y,c,g+d,c,g),e.closePath()}else if(s.type===i.SHAPES.RREC){var _=o.x,b=o.y,x=o.width,T=o.height,w=o.radius,E=Math.min(x,T)/2|0;w=w>E?E:w,e.moveTo(_,b+w),e.lineTo(_,b+T-w),e.quadraticCurveTo(_,b+T,_+w,b+T),e.lineTo(_+x-w,b+T),e.quadraticCurveTo(_+x,b+T,_+x,b+T-w),e.lineTo(_+x,b+w),e.quadraticCurveTo(_+x,b,_+x-w,b),e.lineTo(_+w,b),e.quadraticCurveTo(_,b,_,b+w),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,n.default)()?(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="multiply",t[i.BLEND_MODES.SCREEN]="screen",t[i.BLEND_MODES.OVERLAY]="overlay",t[i.BLEND_MODES.DARKEN]="darken",t[i.BLEND_MODES.LIGHTEN]="lighten",t[i.BLEND_MODES.COLOR_DODGE]="color-dodge",t[i.BLEND_MODES.COLOR_BURN]="color-burn",t[i.BLEND_MODES.HARD_LIGHT]="hard-light",t[i.BLEND_MODES.SOFT_LIGHT]="soft-light",t[i.BLEND_MODES.DIFFERENCE]="difference",t[i.BLEND_MODES.EXCLUSION]="exclusion",t[i.BLEND_MODES.HUE]="hue",t[i.BLEND_MODES.SATURATION]="saturate",t[i.BLEND_MODES.COLOR]="color",t[i.BLEND_MODES.LUMINOSITY]="luminosity"):(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="source-over",t[i.BLEND_MODES.SCREEN]="source-over",t[i.BLEND_MODES.OVERLAY]="source-over",t[i.BLEND_MODES.DARKEN]="source-over",t[i.BLEND_MODES.LIGHTEN]="source-over",t[i.BLEND_MODES.COLOR_DODGE]="source-over",t[i.BLEND_MODES.COLOR_BURN]="source-over",t[i.BLEND_MODES.HARD_LIGHT]="source-over",t[i.BLEND_MODES.SOFT_LIGHT]="source-over",t[i.BLEND_MODES.DIFFERENCE]="source-over",t[i.BLEND_MODES.EXCLUSION]="source-over",t[i.BLEND_MODES.HUE]="source-over",t[i.BLEND_MODES.SATURATION]="source-over",t[i.BLEND_MODES.COLOR]="source-over",t[i.BLEND_MODES.LUMINOSITY]="source-over"),t[i.BLEND_MODES.NORMAL_NPM]=t[i.BLEND_MODES.NORMAL],t[i.BLEND_MODES.ADD_NPM]=t[i.BLEND_MODES.ADD],t[i.BLEND_MODES.SCREEN_NPM]=t[i.BLEND_MODES.SCREEN],t};var i=r(7),n=function(t){return t&&t.__esModule?t:{default:t}}(r(135))},function(t,e,r){"use strict";e.__esModule=!0;var i=p(r(69)),n=p(r(70)),s=p(r(106)),o=p(r(220)),a=p(r(221)),h=p(r(222)),u=p(r(18)),l=r(13),c=p(r(26)),f=p(r(102));function p(t){return t&&t.__esModule?t:{default:t}}var d=0,m=0,y=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));i.vertSize=5,i.vertByteSize=4*i.vertSize,i.size=u.default.SPRITE_BATCH_SIZE,i.buffers=[];for(var n=1;n<=f.default.nextPow2(i.size);n*=2)i.buffers.push(new h.default(4*n*i.vertByteSize));i.indices=(0,s.default)(i.size),i.shader=null,i.currentIndex=0,i.groups=[];for(var o=0;o<i.size;o++)i.groups[o]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return i.sprites=[],i.vertexBuffers=[],i.vaos=[],i.vaoMax=2,i.vertexCount=0,i.renderer.on("prerender",i.onPrerender,i),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),u.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,a.default)(this.MAX_TEXTURES,t)),this.shader=(0,o.default)(t,this.MAX_TEXTURES),this.indexBuffer=c.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,r=0;r<this.vaoMax;r++){var i=this.vertexBuffers[r]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),n=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(i,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(i,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(i,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&n.addAttribute(i,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=n}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,r=f.default.nextPow2(this.currentIndex),i=f.default.log2(r),n=this.buffers[i],s=this.sprites,o=this.groups,a=n.float32View,h=n.uint32View,p=this.boundTextures,y=this.renderer.boundTextures,v=this.renderer.textureGC.count,g=0,_=void 0,b=void 0,x=1,T=0,w=o[0],E=void 0,S=void 0,P=l.premultiplyBlendMode[s[0]._texture.baseTexture.premultipliedAlpha?1:0][s[0].blendMode];w.textureCount=0,w.start=0,w.blend=P,d++;var C=void 0;for(C=0;C<e;++C){var A=y[C];A._enabled!==d?(p[C]=A,A._virtalBoundId=C,A._enabled=d):p[C]=this.renderer.emptyTextures[C]}for(d++,C=0;C<this.currentIndex;++C){var M=s[C];_=M._texture.baseTexture;var O=l.premultiplyBlendMode[Number(_.premultipliedAlpha)][M.blendMode];if(P!==O&&(P=O,b=null,T=e,d++),b!==_&&(b=_,_._enabled!==d)){if(T===e&&(d++,w.size=C-w.start,T=0,(w=o[x++]).blend=P,w.textureCount=0,w.start=C),_.touched=v,-1===_._virtalBoundId)for(var I=0;I<e;++I){var D=(I+m)%e,R=p[D];if(R._enabled!==d){m++,R._virtalBoundId=-1,_._virtalBoundId=D,p[D]=_;break}}_._enabled=d,w.textureCount++,w.ids[T]=_._virtalBoundId,w.textures[T++]=_}if(E=M.vertexData,S=M._texture._uvs.uvsUint32,this.renderer.roundPixels){var k=this.renderer.resolution;a[g]=(E[0]*k|0)/k,a[g+1]=(E[1]*k|0)/k,a[g+5]=(E[2]*k|0)/k,a[g+6]=(E[3]*k|0)/k,a[g+10]=(E[4]*k|0)/k,a[g+11]=(E[5]*k|0)/k,a[g+15]=(E[6]*k|0)/k,a[g+16]=(E[7]*k|0)/k}else a[g]=E[0],a[g+1]=E[1],a[g+5]=E[2],a[g+6]=E[3],a[g+10]=E[4],a[g+11]=E[5],a[g+15]=E[6],a[g+16]=E[7];h[g+2]=S[0],h[g+7]=S[1],h[g+12]=S[2],h[g+17]=S[3];var F=Math.min(M.worldAlpha,1),L=F<1&&_.premultipliedAlpha?(0,l.premultiplyTint)(M._tintRGB,F):M._tintRGB+(255*F<<24);h[g+3]=h[g+8]=h[g+13]=h[g+18]=L,a[g+4]=a[g+9]=a[g+14]=a[g+19]=_._virtalBoundId,g+=20}if(w.size=C-w.start,u.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(n.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var N=this.shader.attributes,B=this.vertexBuffers[this.vertexCount]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),j=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(B,N.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(B,N.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(B,N.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);N.aTextureId&&j.addAttribute(B,N.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=j}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(n.vertices,0,!1),this.vertexCount++}for(C=0;C<e;++C)y[C]._virtalBoundId=-1;for(C=0;C<x;++C){for(var V=o[C],z=V.textureCount,G=0;G<z;G++)b=V.textures[G],y[V.ids[G]]!==b&&this.renderer.bindTexture(b,V.ids[G],!0),b._virtalBoundId=-1;this.renderer.state.setBlendMode(V.blend),t.drawElements(t.TRIANGLES,6*V.size,t.UNSIGNED_SHORT,6*V.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),u.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},e}(i.default);e.default=y,n.default.registerPlugin("sprite",y)},function(t,e,r){"use strict";e.__esModule=!0;var i=s(r(61)),n=s(r(136));function s(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.scissor=!1,i.scissorData=null,i.scissorRenderTarget=null,i.enableScissor=!0,i.alphaMaskPool=[],i.alphaMaskIndex=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,i=Math.atan2(r.b,r.a);(i=Math.round(i*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new n.default(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,i=e.getBounds();i.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var n=this.renderer.resolution;this.renderer.gl.scissor(i.x*n,(r.root?r.size.height-i.y-i.height:i.y)*n,i.width*n,i.height*n),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(i.default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var i=n(t),s=n(e);return Object.assign(i,s)};var i=function(t){return t&&t.__esModule?t:{default:t}}(r(26)).default.shader.defaultValue;function n(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},n=void 0,s=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<s.length;o++){var a=s[o].trim();if(a.indexOf("uniform")>-1){var h=a.split(" "),u=h[1],l=h[2],c=1;l.indexOf("[")>-1&&(l=(n=l.split(/\[|]/))[0],c*=Number(n[1])),l.match(e)||(r[l]={value:i(u,c),name:l,type:u})}}return r}},function(t,e){var r,i,n=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var h,u=[],l=!1,c=-1;function f(){l&&h&&(l=!1,h.length?u=h.concat(u):c=-1,u.length&&p())}function p(){if(!l){var t=a(f);l=!0;for(var e=u.length;e;){for(h=u,u=[];++c<e;)h&&h[c].run();c=-1,e=u.length}h=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new d(t,e)),1!==u.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(61)),n=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.stencilMaskStack=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){i.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(i.default);e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var i=l(r(61)),n=l(r(71)),s=l(r(139)),o=r(19),a=l(r(62)),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(213)),u=l(r(102));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=function t(){c(this,t),this.renderTarget=null,this.sourceFrame=new o.Rectangle,this.destinationFrame=new o.Rectangle,this.filters=[],this.target=null,this.resolution=1},p=function(t){function e(r){c(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.gl=i.renderer.gl,i.quad=new s.default(i.gl,r.state.attribState),i.shaderCache={},i.pool={},i.filterData=null,i.managedFilters=[],i.renderer.on("prerender",i.onPrerender,i),i._screenWidth=r.view.width,i._screenHeight=r.view.height,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushFilter=function(t,e){var r=this.renderer,i=this.filterData;if(!i){i=this.renderer._activeRenderTarget.filterStack;var n=new f;n.sourceFrame=n.destinationFrame=this.renderer._activeRenderTarget.size,n.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=i={index:0,stack:[n]},this.filterData=i}var s=i.stack[++i.index],o=i.stack[0].destinationFrame;s||(s=i.stack[i.index]=new f);var a=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===r.screen.width&&t.filterArea.height===r.screen.height,h=e[0].resolution,u=0|e[0].padding,l=a?r.screen:t.filterArea||t.getBounds(!0),c=s.sourceFrame,p=s.destinationFrame;c.x=(l.x*h|0)/h,c.y=(l.y*h|0)/h,c.width=(l.width*h|0)/h,c.height=(l.height*h|0)/h,a||(i.stack[0].renderTarget.transform||e[0].autoFit&&c.fit(o),c.pad(u)),p.width=c.width,p.height=c.height;var d=this.getPotRenderTarget(r.gl,c.width,c.height,h);s.target=t,s.filters=e,s.resolution=h,s.renderTarget=d,d.setFrame(p,c),r.bindRenderTarget(d),d.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var i=r.filters;if(1===i.length)i[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var n=r.renderTarget,s=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);s.setFrame(r.destinationFrame,r.sourceFrame),s.clear();var o=0;for(o=0;o<i.length-1;++o){i[o].apply(this,n,s,!0,r);var a=n;n=s,s=a}i[o].apply(this,n,e.renderTarget,!1,r),this.freePotRenderTarget(n),this.freePotRenderTarget(s)}t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,r,i){var n=this.renderer,s=n.gl,o=t.glShaders[n.CONTEXT_UID];o||(t.glShaderKey?(o=this.shaderCache[t.glShaderKey])||(o=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[n.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=o,this.managedFilters.push(t)):(o=t.glShaders[n.CONTEXT_UID]=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),n.bindVao(null),this.quad.initVao(o)),n.bindVao(this.quad.vao),n.bindRenderTarget(r),i&&(s.disable(s.SCISSOR_TEST),n.clear(),s.enable(s.SCISSOR_TEST)),r===n.maskManager.scissorRenderTarget&&n.maskManager.pushScissorMask(null,n.maskManager.scissorData),n.bindShader(o);var h=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=h,this.syncUniforms(o,t),n.state.setBlendMode(t.blendMode),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),s.bindTexture(s.TEXTURE_2D,h._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var r=e.uniformData,i=e.uniforms,n=1,s=void 0;if(t.uniforms.filterArea){s=this.filterData.stack[this.filterData.index];var o=t.uniforms.filterArea;o[0]=s.renderTarget.size.width,o[1]=s.renderTarget.size.height,o[2]=s.sourceFrame.x,o[3]=s.sourceFrame.y,t.uniforms.filterArea=o}if(t.uniforms.filterClamp){s=s||this.filterData.stack[this.filterData.index];var a=t.uniforms.filterClamp;a[0]=0,a[1]=0,a[2]=(s.sourceFrame.width-1)/s.renderTarget.size.width,a[3]=(s.sourceFrame.height-1)/s.renderTarget.size.height,t.uniforms.filterClamp=a}for(var h in r){var u=r[h].type;if("sampler2d"===u&&0!==i[h]){if(i[h].baseTexture)t.uniforms[h]=this.renderer.bindTexture(i[h].baseTexture,n);else{t.uniforms[h]=n;var l=this.renderer.gl;this.renderer.boundTextures[n]=this.renderer.emptyTextures[n],l.activeTexture(l.TEXTURE0+n),i[h].texture.bind()}n++}else if("mat3"===u)void 0!==i[h].a?t.uniforms[h]=i[h].toArray(!0):t.uniforms[h]=i[h];else if("vec2"===u)if(void 0!==i[h].x){var c=t.uniforms[h]||new Float32Array(2);c[0]=i[h].x,c[1]=i[h].y,t.uniforms[h]=c}else t.uniforms[h]=i[h];else"float"===u?t.uniforms.data[h].value!==r[h]&&(t.uniforms[h]=i[h]):t.uniforms[h]=i[h]}},e.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],i=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return i.setFrame(r.destinationFrame,r.sourceFrame),i},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return h.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return h.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return h.calculateSpriteMatrix(t,r.sourceFrame,r.renderTarget.size,e)},e.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.renderer,r=this.managedFilters;e.off("prerender",this.onPrerender,this);for(var i=0;i<r.length;i++)t||r[i].glShaders[e.CONTEXT_UID].destroy(),delete r[i].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,r,i){var s="screen";r*=i,(e*=i)===this._screenWidth&&r===this._screenHeight||(s=(65535&(e=u.default.nextPow2(e)))<<16|65535&(r=u.default.nextPow2(r))),this.pool[s]||(this.pool[s]=[]);var o=this.pool[s].pop();if(!o){var a=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new n.default(t,e,r,null,1),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=i,o.defaultFrame.width=o.size.width=e/i,o.defaultFrame.height=o.size.height=r/i,o},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){var e=t.size.width*t.resolution,r=t.size.height*t.resolution,i="screen";e===this._screenWidth&&r===this._screenHeight||(i=(65535&e)<<16|65535&r),this.pool[i].push(t)},e.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},e}(i.default);e.default=p},function(t,e,r){"use strict";e.__esModule=!0,e.calculateScreenSpaceMatrix=function(t,e,r){var i=t.identity();return i.translate(e.x/r.width,e.y/r.height),i.scale(r.width,r.height),i},e.calculateNormalizedScreenSpaceMatrix=function(t,e,r){var i=t.identity();i.translate(e.x/r.width,e.y/r.height);var n=r.width/e.width,s=r.height/e.height;return i.scale(n,s),i},e.calculateSpriteMatrix=function(t,e,r,n){var s=n._texture.orig,o=t.set(r.width,0,0,r.height,e.x,e.y),a=n.worldTransform.copy(i.Matrix.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(n.anchor.x,n.anchor.y),o};var i=r(19)},function(t,e,r){"use strict";e.__esModule=!0;var i=r(26),n=r(7),s=function(t){return t&&t.__esModule?t:{default:t}}(r(71)),o=r(13),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var r=this.gl,o=!!t._glRenderTargets;if(!t.hasLoaded)return null;var a=this.renderer.boundTextures;if(void 0===e){e=0;for(var h=0;h<a.length;++h)if(a[h]===t){e=h;break}}a[e]=t,r.activeTexture(r.TEXTURE0+e);var u=t._glTextures[this.renderer.CONTEXT_UID];if(u)o?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):u.upload(t.source);else{if(o){var l=new s.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);l.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=l,u=l.texture}else(u=new i.GLTexture(this.gl,null,null,null,null)).bind(e),u.premultiplyAlpha=!0,u.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=u,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&u.enableMipmap(),t.wrapMode===n.WRAP_MODES.CLAMP?u.enableWrapClamp():t.wrapMode===n.WRAP_MODES.REPEAT?u.enableWrapRepeat():u.enableWrapMirrorRepeat()):u.enableWrapClamp(),t.scaleMode===n.SCALE_MODES.NEAREST?u.enableNearestScaling():u.enableLinearScaling()}return u},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var r=this.renderer.CONTEXT_UID,i=t._glTextures,n=t._glRenderTargets;if(i[r]&&(this.renderer.unbindTexture(t),i[r].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete i[r],!e)){var s=this._managedTextures.indexOf(t);-1!==s&&(0,o.removeItems)(this._managedTextures,s,1)}n&&n[r]&&(n[r].destroy(),delete n[r])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var i=r(7),n=function(t){return t&&t.__esModule?t:{default:t}}(r(18)),s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=n.default.GC_MAX_IDLE,this.checkCountMax=n.default.GC_MAX_CHECK_COUNT,this.mode=n.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==i.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n._glRenderTargets&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){for(var s=0,o=0;o<e.length;o++)null!==e[o]&&(e[s++]=e[o]);e.length=s}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(217)),n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,i.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[i.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[i.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[i.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[i.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e};var i=r(7)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[i.DRAW_MODES.POINTS]=t.POINTS,e[i.DRAW_MODES.LINES]=t.LINES,e[i.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[i.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[i.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[i.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[i.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var i=r(7)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=n;r=(r=r.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"}(e));for(var s=new i.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",r),o=[],a=0;a<e;a++)o[a]=a;return s.bind(),s.uniforms.uSamplers=o,s};var i=function(t){return t&&t.__esModule?t:{default:t}}(r(62));r(33);var n=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var o=document.createElement("canvas");o.width=1,o.height=1,e=i.default.createContext(o)}for(var a=e.createShader(e.FRAGMENT_SHADER);;){var h=n.replace(/%forloop%/gi,s(t));if(e.shaderSource(a,h),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS))break;t=t/2|0}return r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t};var i=function(t){return t&&t.__esModule?t:{default:t}}(r(26)),n=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function s(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=p(r(101)),s=p(r(41)),o=r(19),a=r(13),h=r(7),u=p(r(18)),l=p(r(140)),c=p(r(141)),f=p(r(224));function p(t){return t&&t.__esModule?t:{default:t}}var d={texture:!0,children:!1,baseTexture:!0},m=function(t){function e(r,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=n||document.createElement("canvas")).width=3,n.height=3;var a=s.default.fromCanvas(n,u.default.SCALE_MODE,"text");a.orig=new o.Rectangle,a.trim=new o.Rectangle;var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,a));return s.default.addToCache(h._texture,h._texture.baseTexture.textureCacheIds[0]),h.canvas=n,h.context=h.canvas.getContext("2d"),h.resolution=u.default.RESOLUTION,h._text=null,h._style=null,h._styleListener=null,h._font="",h.text=r,h.style=i,h.localStyleID=-1,h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r=this.context,i=c.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),n=i.width,s=i.height,o=i.lines,a=i.lineHeight,h=i.lineWidths,u=i.maxLineWidth,l=i.fontProperties;this.canvas.width=Math.ceil((Math.max(1,n)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,s)+2*e.padding)*this.resolution),r.scale(this.resolution,this.resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.strokeStyle=e.stroke,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;var f=void 0,p=void 0;if(e.dropShadow){r.fillStyle=e.dropShadowColor,r.globalAlpha=e.dropShadowAlpha,r.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(r.shadowColor=e.dropShadowColor);for(var d=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,m=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,y=0;y<o.length;y++)f=e.strokeThickness/2,p=e.strokeThickness/2+y*a+l.ascent,"right"===e.align?f+=u-h[y]:"center"===e.align&&(f+=(u-h[y])/2),e.fill&&(this.drawLetterSpacing(o[y],f+d+e.padding,p+m+e.padding),e.stroke&&e.strokeThickness&&(r.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(o[y],f+d+e.padding,p+m+e.padding,!0),r.strokeStyle=e.stroke))}r.shadowBlur=0,r.globalAlpha=1,r.fillStyle=this._generateFillStyle(e,o);for(var v=0;v<o.length;v++)f=e.strokeThickness/2,p=e.strokeThickness/2+v*a+l.ascent,"right"===e.align?f+=u-h[v]:"center"===e.align&&(f+=(u-h[v])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[v],f+e.padding,p+e.padding,!0),e.fill&&this.drawLetterSpacing(o[v],f+e.padding,p+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=this._style.letterSpacing;if(0!==n)for(var s=String.prototype.split.call(t,""),o=e,a=0,h="";a<t.length;)h=s[a++],i?this.context.strokeText(h,o,r):this.context.fillText(h,o,r),o+=this.context.measureText(h).width+n;else i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,f.default)(t);t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0)}var r=this._texture,i=this._style,n=i.trim?0:i.padding,s=r.baseTexture;s.hasLoaded=!0,s.resolution=this.resolution,s.realWidth=t.width,s.realHeight=t.height,s.width=t.width/this.resolution,s.height=t.height/this.resolution,r.trim.width=r._frame.width=t.width/this.resolution,r.trim.height=r._frame.height=t.height/this.resolution,r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),s.emit("update",s),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var r=void 0,i=void 0,n=void 0,s=void 0,o=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,u=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=u.length+1,f=1;f<c;++f)l.push(f/c);if(u.unshift(t.fill[0]),l.unshift(0),u.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===h.TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(o/2,0,o/2,a),i=(u.length+1)*e.length,n=0;for(var p=0;p<e.length;p++){n+=1;for(var d=0;d<u.length;d++)s="number"==typeof l[d]?l[d]/e.length+p/e.length:n/i,r.addColorStop(s,u[d]),n++}}else{r=this.context.createLinearGradient(0,a/2,o,a/2),i=u.length+1,n=1;for(var m=0;m<u.length;m++)s="number"==typeof l[m]?l[m]:n/i,r.addColorStop(s,u[m]),n++}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},d,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},i(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,a.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,a.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof l.default?this._style=t:this._style=new l.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null===t||void 0===t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(n.default);e.default=m},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.width,r=t.height,i=t.getContext("2d"),n=i.getImageData(0,0,e,r).data,s=n.length,o={top:null,left:null,right:null,bottom:null},a=void 0,h=void 0,u=void 0;for(a=0;a<s;a+=4)0!==n[a+3]&&(h=a/4%e,u=~~(a/4/e),null===o.top&&(o.top=u),null===o.left?o.left=h:h<o.left&&(o.left=h),null===o.right?o.right=h+1:o.right<h&&(o.right=h+1),null===o.bottom?o.bottom=u:o.bottom<u&&(o.bottom=u));return e=o.right-o.left,{height:r=o.bottom-o.top+1,width:e,data:i.getImageData(o.left,o.top,e,r)}}},function(t,e,r){"use strict";e.__esModule=!0;var i=d(r(59)),n=d(r(104)),s=d(r(41)),o=d(r(142)),a=d(r(101)),h=r(19),u=r(13),l=r(7),c=d(r(97)),f=d(r(226)),p=d(r(60));function d(t){return t&&t.__esModule?t:{default:t}}var m=void 0,y=new h.Matrix,v=new h.Point,g=new Float32Array(4),_=new Float32Array(4),b=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i.fillAlpha=1,i.lineWidth=0,i.nativeLines=r,i.lineColor=0,i.graphicsData=[],i.tint=16777215,i._prevTint=16777215,i.blendMode=l.BLEND_MODES.NORMAL,i.currentPath=null,i._webGL={},i.isMask=!1,i.boundsPadding=0,i._localBounds=new c.default,i.dirty=0,i.fastRectDirty=-1,i.clearDirty=0,i.boundsDirty=-1,i.cachedSpriteDirty=!1,i._spriteRect=null,i._fastRect=!1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this.currentPath)if(this.currentPath.shape.points.length){var i=new h.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},e.prototype.moveTo=function(t,e){var r=new h.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this},e.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty++,this},e.prototype.quadraticCurveTo=function(t,e,r,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n=this.currentPath.shape.points,s=0,o=0;0===n.length&&this.moveTo(0,0);for(var a=n[n.length-2],h=n[n.length-1],u=1;u<=20;++u){var l=u/20;s=a+(t-a)*l,o=h+(e-h)*l,n.push(s+(t+(r-t)*l-s)*l,o+(e+(i-e)*l-o)*l)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,e,r,i,n,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=this.currentPath.shape.points,a=o[o.length-2],h=o[o.length-1];return o.length-=2,(0,f.default)(a,h,t,e,r,i,n,s,o),this.dirty++,this},e.prototype.arcTo=function(t,e,r,i,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var s=this.currentPath.shape.points,o=s[s.length-2],a=s[s.length-1]-e,h=o-t,u=i-e,l=r-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)s[s.length-2]===t&&s[s.length-1]===e||s.push(t,e);else{var f=a*a+h*h,p=u*u+l*l,d=a*u+h*l,m=n*Math.sqrt(f)/c,y=n*Math.sqrt(p)/c,v=m*d/f,g=y*d/p,_=m*l+y*h,b=m*u+y*a,x=h*(y+v),T=a*(y+v),w=l*(m+g),E=u*(m+g),S=Math.atan2(T-b,x-_),P=Math.atan2(E-b,w-_);this.arc(_+t,b+e,n,S,P,h*u>l*a)}return this.dirty++,this},e.prototype.arc=function(t,e,r,i,n){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i===n)return this;!s&&n<=i?n+=l.PI_2:s&&i<=n&&(i+=l.PI_2);var o=n-i,a=40*Math.ceil(Math.abs(o)/l.PI_2);if(0===o)return this;var h=t+Math.cos(i)*r,u=e+Math.sin(i)*r,c=this.currentPath?this.currentPath.shape.points:null;c?c[c.length-2]===h&&c[c.length-1]===u||c.push(h,u):(this.moveTo(h,u),c=this.currentPath.shape.points);for(var f=o/(2*a),p=2*f,d=Math.cos(f),m=Math.sin(f),y=a-1,v=y%1/y,g=0;g<=y;++g){var _=f+i+p*(g+v*g),b=Math.cos(_),x=-Math.sin(_);c.push((d*b+m*x)*r+t,(d*-x+m*b)*r+e)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,r,i){return this.drawShape(new h.Rectangle(t,e,r,i)),this},e.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new h.RoundedRectangle(t,e,r,i,n)),this},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new h.Circle(t,e,r)),this},e.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new h.Ellipse(t,e,r,i)),this},e.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof h.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var i=0;i<e.length;++i)e[i]=arguments[i]}var n=new h.Polygon(e);return n.closed=r,this.drawShape(n),this},e.prototype.drawStar=function(t,e,r,i,n){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;n=n||i/2;for(var o=-1*Math.PI/2+s,a=2*r,h=l.PI_2/a,u=[],c=0;c<a;c++){var f=c%2?n:i,p=c*h+o;u.push(t+f*Math.cos(p),e+f*Math.sin(p))}return this.drawPolygon(u)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===l.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new a.default(new s.default(s.default.WHITE)));var r=this._spriteRect;if(16777215===this.tint)r.tint=this.graphicsData[0].fillColor;else{var i=g,n=_;(0,u.hex2rgb)(this.graphicsData[0].fillColor,i),(0,u.hex2rgb)(this.tint,n),i[0]*=n[0],i[1]*=n[1],i[2]*=n[2],r.tint=(0,u.rgb2hex)(i)}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r._texture._frame.width=e.width,r._texture._frame.height=e.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-e.x/e.width,-e.y/e.height),r._onAnchorUpdate(),r._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,v);for(var e=this.graphicsData,r=0;r<e.length;++r){var i=e[r];if(i.fill&&i.shape&&i.shape.contains(v.x,v.y)){if(i.holes)for(var n=0;n<i.holes.length;n++)if(i.holes[n].contains(v.x,v.y))return!1;return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,r=1/0,i=-1/0;if(this.graphicsData.length)for(var n=0,s=0,o=0,a=0,h=0,u=0;u<this.graphicsData.length;u++){var c=this.graphicsData[u],f=c.type,p=c.lineWidth;if(n=c.shape,f===l.SHAPES.RECT||f===l.SHAPES.RREC)s=n.x-p/2,o=n.y-p/2,a=n.width+p,h=n.height+p,t=s<t?s:t,e=s+a>e?s+a:e,r=o<r?o:r,i=o+h>i?o+h:i;else if(f===l.SHAPES.CIRC)s=n.x,o=n.y,a=n.radius+p/2,h=n.radius+p/2,t=s-a<t?s-a:t,e=s+a>e?s+a:e,r=o-h<r?o-h:r,i=o+h>i?o+h:i;else if(f===l.SHAPES.ELIP)s=n.x,o=n.y,a=n.width+p/2,h=n.height+p/2,t=s-a<t?s-a:t,e=s+a>e?s+a:e,r=o-h<r?o-h:r,i=o+h>i?o+h:i;else for(var d=n.points,m=0,y=0,v=0,g=0,_=0,b=0,x=0,T=0,w=0;w+2<d.length;w+=2)s=d[w],o=d[w+1],m=d[w+2],y=d[w+3],v=Math.abs(m-s),g=Math.abs(y-o),h=p,(a=Math.sqrt(v*v+g*g))<1e-9||(b=(h/a*v+g)/2,T=(y+o)/2,t=(x=(m+s)/2)-(_=(h/a*g+v)/2)<t?x-_:t,e=x+_>e?x+_:e,r=T-b<r?T-b:r,i=T+b>i?T+b:i)}else t=0,e=0,r=0,i=0;var E=this.boundsPadding;this._localBounds.minX=t-E,this._localBounds.maxX=e+E,this._localBounds.minY=r-E,this._localBounds.maxY=i+E},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new o.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t);return this.graphicsData.push(e),e.type===l.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),i=n.default.create(r.width,r.height,t,e);m||(m=new p.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(y),y.invert(),y.tx-=r.x,y.ty-=r.y,m.render(this,i,!0,y);var o=s.default.fromCanvas(i.baseTexture._canvasRenderTarget.canvas,t,"graphics");return o.baseTexture.resolution=e,o.baseTexture.update(),o},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(var i in this._webgl)for(var n=0;n<this._webgl[i].data.length;++n)this._webgl[i].data[n].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},e}(i.default);e.default=b,b._SPRITE_TEXTURE=null},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r,i,n,s,o,a){var h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],u=0,l=0,c=0,f=0,p=0;h.push(t,e);for(var d=1,m=0;d<=20;++d)c=(l=(u=1-(m=d/20))*u)*u,p=(f=m*m)*m,h.push(c*t+3*l*m*r+3*u*f*n+p*o,c*e+3*l*m*i+3*u*f*s+p*a);return h}},function(t,e,r){"use strict";e.__esModule=!0;var i=r(13),n=r(7),s=p(r(69)),o=p(r(70)),a=p(r(228)),h=p(r(229)),u=p(r(230)),l=p(r(231)),c=p(r(232)),f=p(r(233));function p(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.graphicsDataPool=[],i.primitiveShader=null,i.gl=r.gl,i.CONTEXT_UID=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new h.default(this.gl)},e.prototype.destroy=function(){s.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,r=e.gl,n=void 0,s=t._webGL[this.CONTEXT_UID];s&&t.dirty===s.dirty||(this.updateGraphics(t),s=t._webGL[this.CONTEXT_UID]);var o=this.primitiveShader;e.bindShader(o),e.state.setBlendMode(t.blendMode);for(var a=0,h=s.data.length;a<h;a++){var u=(n=s.data[a]).shader;e.bindShader(u),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.tint=(0,i.hex2rgb)(t.tint),u.uniforms.alpha=t.worldAlpha,e.bindVao(n.vao),n.nativeLines?r.drawArrays(r.LINES,0,n.points.length/6):n.vao.draw(r.TRIANGLE_STRIP,n.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[this.CONTEXT_UID];if(r||(r=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),r.dirty=t.dirty,t.clearDirty!==r.clearDirty){r.clearDirty=t.clearDirty;for(var i=0;i<r.data.length;i++)this.graphicsDataPool.push(r.data[i]);r.data.length=0,r.lastIndex=0}for(var s=void 0,o=void 0,a=r.lastIndex;a<t.graphicsData.length;a++){var h=t.graphicsData[a];s=this.getWebGLData(r,0),h.nativeLines&&h.lineWidth&&(o=this.getWebGLData(r,0,!0),r.lastIndex++),h.type===n.SHAPES.POLY&&(0,u.default)(h,s,o),h.type===n.SHAPES.RECT?(0,l.default)(h,s,o):h.type===n.SHAPES.CIRC||h.type===n.SHAPES.ELIP?(0,f.default)(h,s,o):h.type===n.SHAPES.RREC&&(0,c.default)(h,s,o),r.lastIndex++}this.renderer.bindVao(null);for(var p=0;p<r.data.length;p++)(s=r.data[p]).dirty&&s.upload()},e.prototype.getWebGLData=function(t,e,r){var i=t.data[t.data.length-1];return(!i||i.nativeLines!==r||i.points.length>32e4)&&((i=this.graphicsDataPool.pop()||new a.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=r,i.reset(e),t.data.push(i)),i.dirty=!0,i},e}(s.default);e.default=d,o.default.registerPlugin("graphics",d)},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(26)),n=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=i.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new i.default.VertexArrayObject(e,n).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(r(62)).default);e.default=i},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){t.points=t.shape.points.slice();var o=t.points;if(t.fill&&o.length>=6){for(var a=[],h=t.holes,u=0;u<h.length;u++){var l=h[u];a.push(o.length/2),o=o.concat(l.points)}var c=e.points,f=e.indices,p=o.length/2,d=(0,n.hex2rgb)(t.fillColor),m=t.fillAlpha,y=d[0]*m,v=d[1]*m,g=d[2]*m,_=(0,s.default)(o,a,2);if(!_)return;for(var b=c.length/6,x=0;x<_.length;x+=3)f.push(_[x]+b),f.push(_[x]+b),f.push(_[x+1]+b),f.push(_[x+2]+b),f.push(_[x+2]+b);for(var T=0;T<p;T++)c.push(o[2*T],o[2*T+1],y,v,g,m)}t.lineWidth>0&&(0,i.default)(t,e,r)};var i=o(r(72)),n=r(13),s=o(r(100));function o(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var s=t.shape,o=s.x,a=s.y,h=s.width,u=s.height;if(t.fill){var l=(0,n.hex2rgb)(t.fillColor),c=t.fillAlpha,f=l[0]*c,p=l[1]*c,d=l[2]*c,m=e.points,y=e.indices,v=m.length/6;m.push(o,a),m.push(f,p,d,c),m.push(o+h,a),m.push(f,p,d,c),m.push(o,a+u),m.push(f,p,d,c),m.push(o+h,a+u),m.push(f,p,d,c),y.push(v,v,v+1,v+2,v+3,v+3)}if(t.lineWidth){var g=t.points;t.points=[o,a,o+h,a,o+h,a+u,o,a+u,o,a],(0,i.default)(t,e,r),t.points=g}};var i=function(t){return t&&t.__esModule?t:{default:t}}(r(72)),n=r(13)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var o=t.shape,a=o.x,u=o.y,l=o.width,c=o.height,f=o.radius,p=[];if(p.push(a,u+f),h(a,u+c-f,a,u+c,a+f,u+c,p),h(a+l-f,u+c,a+l,u+c,a+l,u+c-f,p),h(a+l,u+f,a+l,u,a+l-f,u,p),h(a+f,u,a,u,a,u+f+1e-10,p),t.fill){for(var d=(0,s.hex2rgb)(t.fillColor),m=t.fillAlpha,y=d[0]*m,v=d[1]*m,g=d[2]*m,_=e.points,b=e.indices,x=_.length/6,T=(0,i.default)(p,null,2),w=0,E=T.length;w<E;w+=3)b.push(T[w]+x),b.push(T[w]+x),b.push(T[w+1]+x),b.push(T[w+2]+x),b.push(T[w+2]+x);for(var S=0,P=p.length;S<P;S++)_.push(p[S],p[++S],y,v,g,m)}if(t.lineWidth){var C=t.points;t.points=p,(0,n.default)(t,e,r),t.points=C}};var i=o(r(100)),n=o(r(72)),s=r(13);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){return t+(e-t)*r}function h(t,e,r,i,n,s){for(var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],h=0,u=0,l=0,c=0,f=0,p=0,d=0,m=0;d<=20;++d)h=a(t,r,m=d/20),u=a(e,i,m),l=a(r,n,m),c=a(i,s,m),f=a(h,l,m),p=a(u,c,m),o.push(f,p);return o}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var o=t.shape,a=o.x,h=o.y,u=void 0,l=void 0;if(t.type===n.SHAPES.CIRC?(u=o.radius,l=o.radius):(u=o.width,l=o.height),0!==u&&0!==l){var c=Math.floor(30*Math.sqrt(o.radius))||Math.floor(15*Math.sqrt(o.width+o.height)),f=2*Math.PI/c;if(t.fill){var p=(0,s.hex2rgb)(t.fillColor),d=t.fillAlpha,m=p[0]*d,y=p[1]*d,v=p[2]*d,g=e.points,_=e.indices,b=g.length/6;_.push(b);for(var x=0;x<c+1;x++)g.push(a,h,m,y,v,d),g.push(a+Math.sin(f*x)*u,h+Math.cos(f*x)*l,m,y,v,d),_.push(b++,b++);_.push(b-1)}if(t.lineWidth){var T=t.points;t.points=[];for(var w=0;w<c+1;w++)t.points.push(a+Math.sin(f*w)*u,h+Math.cos(f*w)*l);(0,i.default)(t,e,r),t.points=T}}};var i=function(t){return t&&t.__esModule?t:{default:t}}(r(72)),n=r(7),s=r(13)},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(60)),n=r(7),s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,i=t.worldAlpha,s=t.transform.worldTransform,o=e.resolution;this._prevTint!==this.tint&&(this.dirty=!0),r.setTransform(s.a*o,s.b*o,s.c*o,s.d*o,s.tx*o,s.ty*o),t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var h=t.graphicsData[a],u=h.shape,l=h._fillTint,c=h._lineTint;if(r.lineWidth=h.lineWidth,h.type===n.SHAPES.POLY){r.beginPath(),this.renderPolygon(u.points,u.closed,r);for(var f=0;f<h.holes.length;f++)this.renderPolygon(h.holes[f].points,!0,r);h.fill&&(r.globalAlpha=h.fillAlpha*i,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),h.lineWidth&&(r.globalAlpha=h.lineAlpha*i,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(h.type===n.SHAPES.RECT)(h.fillColor||0===h.fillColor)&&(r.globalAlpha=h.fillAlpha*i,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fillRect(u.x,u.y,u.width,u.height)),h.lineWidth&&(r.globalAlpha=h.lineAlpha*i,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.strokeRect(u.x,u.y,u.width,u.height));else if(h.type===n.SHAPES.CIRC)r.beginPath(),r.arc(u.x,u.y,u.radius,0,2*Math.PI),r.closePath(),h.fill&&(r.globalAlpha=h.fillAlpha*i,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),h.lineWidth&&(r.globalAlpha=h.lineAlpha*i,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke());else if(h.type===n.SHAPES.ELIP){var p=2*u.width,d=2*u.height,m=u.x-p/2,y=u.y-d/2;r.beginPath();var v=p/2*.5522848,g=d/2*.5522848,_=m+p,b=y+d,x=m+p/2,T=y+d/2;r.moveTo(m,T),r.bezierCurveTo(m,T-g,x-v,y,x,y),r.bezierCurveTo(x+v,y,_,T-g,_,T),r.bezierCurveTo(_,T+g,x+v,b,x,b),r.bezierCurveTo(x-v,b,m,T+g,m,T),r.closePath(),h.fill&&(r.globalAlpha=h.fillAlpha*i,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),h.lineWidth&&(r.globalAlpha=h.lineAlpha*i,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(h.type===n.SHAPES.RREC){var w=u.x,E=u.y,S=u.width,P=u.height,C=u.radius,A=Math.min(S,P)/2|0;C=C>A?A:C,r.beginPath(),r.moveTo(w,E+C),r.lineTo(w,E+P-C),r.quadraticCurveTo(w,E+P,w+C,E+P),r.lineTo(w+S-C,E+P),r.quadraticCurveTo(w+S,E+P,w+S,E+P-C),r.lineTo(w+S,E+C),r.quadraticCurveTo(w+S,E,w+S-C,E),r.lineTo(w+C,E),r.quadraticCurveTo(w,E,w,E+C),r.closePath(),(h.fillColor||0===h.fillColor)&&(r.globalAlpha=h.fillAlpha*i,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),h.lineWidth&&(r.globalAlpha=h.lineAlpha*i,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,i=(255&t.tint)/255,n=0;n<t.graphicsData.length;++n){var s=t.graphicsData[n],o=0|s.fillColor,a=0|s.lineColor;s._fillTint=((o>>16&255)/255*e*255<<16)+((o>>8&255)/255*r*255<<8)+(255&o)/255*i*255,s._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*i*255}},t.prototype.renderPolygon=function(t,e,r){r.moveTo(t[0],t[1]);for(var i=1;i<t.length/2;++i)r.lineTo(t[2*i],t[2*i+1]);e&&r.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=s,i.default.registerPlugin("graphics",s)},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=r(9),s=r(13),o=function(){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseTexture=e,this.textures={},this.data=r,this.resolution=this._updateResolution(i||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return i(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=(0,s.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,i=t.BATCH_SIZE,s=this.baseTexture.sourceScale;r-e<i&&r<this._frameKeys.length;){var o=this._frameKeys[r],a=this._frames[o],h=a.frame;if(h){var u,l=null,c=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,f=new n.Rectangle(0,0,Math.floor(c.w*s)/this.resolution,Math.floor(c.h*s)/this.resolution);u=a.rotated?new n.Rectangle(Math.floor(h.x*s)/this.resolution,Math.floor(h.y*s)/this.resolution,Math.floor(h.h*s)/this.resolution,Math.floor(h.w*s)/this.resolution):new n.Rectangle(Math.floor(h.x*s)/this.resolution,Math.floor(h.y*s)/this.resolution,Math.floor(h.w*s)/this.resolution,Math.floor(h.h*s)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(l=new n.Rectangle(Math.floor(a.spriteSourceSize.x*s)/this.resolution,Math.floor(a.spriteSourceSize.y*s)/this.resolution,Math.floor(h.w*s)/this.resolution,Math.floor(h.h*s)/this.resolution)),this.textures[o]=new n.Texture(this.baseTexture,u,f,l,a.rotated?2:0),n.Texture.addToCache(this.textures[o],o)}r++}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():e._parseComplete()},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.mesh,r=t.particles,i=t.extras,s=t.filters,o=t.prepare,a=t.loaders,h=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return n("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function(){return n("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function(){return n("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function(){return n("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function(){return n("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),r.ParticleContainer}},MovieClip:{get:function(){return n("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),i.AnimatedSprite}},TilingSprite:{get:function(){return n("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),i.TilingSprite}},BitmapText:{get:function(){return n("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),i.BitmapText}},blendModes:{get:function(){return n("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function(){return n("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function(){return n("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function(){return n("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function(){return n("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function(){return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function(){return n("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function(){return n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function(e){n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function(e){n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function(e){n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function(e){n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function(e){n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function(e){n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return n("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var u=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],l=function(e){var r=u[e];Object.defineProperty(t[r.parent],"DEFAULT",{get:function(){return n("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]},set:function(e){n("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]=e}})},c=0;c<u.length;c++)l(c);Object.defineProperties(t.settings,{PRECISION:{get:function(){return n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function(e){n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=e}}}),i.AnimatedSprite&&Object.defineProperties(i,{MovieClip:{get:function(){return n("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),i.AnimatedSprite}}}),i&&Object.defineProperties(i,{TextureTransform:{get:function(){return n("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),t.TextureMatrix}}}),t.DisplayObject.prototype.generateTexture=function(t,e,r){return n("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,r)},t.Graphics.prototype.generateTexture=function(t,e){return n("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},t.GroupD8.isSwapWidthHeight=function(e){return n("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),t.GroupD8.isVertical(e)},t.RenderTexture.prototype.render=function(t,e,r,i){this.legacyRenderer.render(t,this,r,e,!i),n("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function(t){return n("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return n("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return n("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return n("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,n("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},i.BitmapText&&(i.BitmapText.prototype.setText=function(t){this.text=t,n("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}),t.Text.prototype.setText=function(t){this.text=t,n("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function(e){return n("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return n("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return n("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return n("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,n("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function(e){return n("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return n("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(e=e||{})instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){n("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){n("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),r=-1;this._fontSize=26;for(var i=0;i<e.length;++i)if(e[i].match(/(px|pt|em|%)/)){r=i,this._fontSize=e[i];break}this._fontWeight="normal";for(var s=0;s<r;++s)if(e[s].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[s];break}if(r>-1&&r<e.length-1){this._fontFamily="";for(var o=r+1;o<e.length;++o)this._fontFamily+=e[o]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,n("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function(e,r){t.Texture.addToCache(e,r),n("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function(e){return n("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(s,{AbstractFilter:{get:function(){return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return n("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}},VoidFilter:{get:function(){return n("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),s.AlphaFilter}}}),t.utils.uuid=function(){return n("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return n("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var f=!0;if(Object.defineProperty(t.utils,"_saidHello",{set:function(t){t&&(n("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),f=t},get:function(){return f}}),o.BasePrepare&&(o.BasePrepare.prototype.register=function(t,e){return n("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this}),o.canvas&&Object.defineProperty(o.canvas,"UPLOADS_PER_FRAME",{set:function(){n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),o.webgl&&Object.defineProperty(o.webgl,"UPLOADS_PER_FRAME",{set:function(){n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),a.Loader){var p=a.Resource,d=a.Loader;Object.defineProperties(p.prototype,{isJson:{get:function(){return n("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===p.TYPE.JSON}},isXml:{get:function(){return n("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===p.TYPE.XML}},isImage:{get:function(){return n("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===p.TYPE.IMAGE}},isAudio:{get:function(){return n("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===p.TYPE.AUDIO}},isVideo:{get:function(){return n("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===p.TYPE.VIDEO}}}),Object.defineProperties(d.prototype,{before:{get:function(){return n("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return n("The after() method is deprecated, please use use()."),this.use}}})}h.interactiveTarget&&Object.defineProperty(h.interactiveTarget,"defaultCursor",{set:function(t){n("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return n("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),h.InteractionManager&&(Object.defineProperty(h.InteractionManager,"defaultCursorStyle",{set:function(t){n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(h.InteractionManager,"currentCursorStyle",{set:function(t){n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))};var i={};function n(t){if(!i[t]){var e=(new Error).stack;void 0===e?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e))),i[t]=!0}}},function(t,e,r){"use strict";e.__esModule=!0;var i=r(145);Object.defineProperty(e,"accessibleTarget",{enumerable:!0,get:function(){return s(i).default}});var n=r(238);function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AccessibilityManager",{enumerable:!0,get:function(){return s(n).default}})},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),n=o(r(98)),s=o(r(145));function o(t){return t&&t.__esModule?t:{default:t}}i.utils.mixins.delayMixin(i.DisplayObject.prototype,s.default);var a=100,h=0,u=0,l=2,c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!n.default.tablet&&!n.default.phone||navigator.isCocoonJS||this.createTouchHook();var r=document.createElement("div");r.style.width=a+"px",r.style.height=a+"px",r.style.position="absolute",r.style.top=h+"px",r.style.left=u+"px",r.style.zIndex=l,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=e.length-1;r>=0;r--)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,n=this.div;n.style.left=t.left+"px",n.style.top=t.top+"px",n.style.width=this.renderer.width+"px",n.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var o=this.children[s];if(o.renderId!==this.renderId)o._accessibleActive=!1,i.utils.removeItems(this.children,s,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,s--,0===this.children.length&&this.deactivate();else{n=o._accessibleDiv;var a=o.hitArea,h=o.worldTransform;o.hitArea?(n.style.left=(h.tx+a.x*h.a)*e+"px",n.style.top=(h.ty+a.y*h.d)*r+"px",n.style.width=a.width*h.a*e+"px",n.style.height=a.height*h.d*r+"px"):(a=o.getBounds(),this.capHitArea(a),n.style.left=a.x*e+"px",n.style.top=a.y*r+"px",n.style.width=a.width*e+"px",n.style.height=a.height*r+"px")}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=a+"px",e.style.height=a+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=l,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleTitle||t.accessibleHint||(e.title="displayObject "+this.tabIndex),t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(){this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();e.default=c,i.WebGLRenderer.registerPlugin("accessibility",c),i.CanvasRenderer.registerPlugin("accessibility",c)},function(t,e,r){"use strict";e.__esModule=!0;var i=r(240);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return s(i).default}});var n=r(241);function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return s(n).default}})},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),n=new i.Rectangle,s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,s=void 0,o=void 0,a=!1,h=void 0,u=!1;t&&(t instanceof i.RenderTexture?h=t:(h=this.renderer.generateTexture(t),u=!0)),h?(s=(r=h.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,o=h.frame,a=!1):(s=(r=this.renderer.rootRenderTarget).resolution,a=!0,(o=n).width=r.size.width,o.height=r.size.height);var l=o.width*s,c=o.height*s,f=new i.CanvasRenderTarget(l,c);if(r){e.bindRenderTarget(r);var p=new Uint8Array(4*l*c),d=e.gl;d.readPixels(o.x*s,o.y*s,l,c,d.RGBA,d.UNSIGNED_BYTE,p);var m=f.context.getImageData(0,0,l,c);m.data.set(p),f.context.putImageData(m,0,0),a&&(f.context.scale(1,-1),f.context.drawImage(f.canvas,0,-c))}return u&&h.destroy(!0),f.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,s=void 0,o=void 0,a=void 0,h=!1;t&&(t instanceof i.RenderTexture?a=t:(a=this.renderer.generateTexture(t),h=!0)),a?(s=(r=a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,o=a.frame):(s=(r=this.renderer.rootRenderTarget).resolution,(o=n).width=r.size.width,o.height=r.size.height);var u=o.width*s,l=o.height*s,c=new Uint8Array(4*u*l);if(r){e.bindRenderTarget(r);var f=e.gl;f.readPixels(o.x*s,o.y*s,u,l,f.RGBA,f.UNSIGNED_BYTE,c)}return h&&a.destroy(!0),c},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=s,i.WebGLRenderer.registerPlugin("extract",s)},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),n=new i.Rectangle,s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,s=void 0,o=void 0,a=void 0;t&&(a=t instanceof i.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,s=a.baseTexture._canvasRenderTarget.resolution,o=a.frame):(r=e.rootContext,(o=n).width=this.renderer.width,o.height=this.renderer.height);var h=o.width*s,u=o.height*s,l=new i.CanvasRenderTarget(h,u),c=r.getImageData(o.x*s,o.y*s,h,u);return l.context.putImageData(c,0,0),l.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,s=void 0,o=void 0,a=void 0;return t&&(a=t instanceof i.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,s=a.baseTexture._canvasRenderTarget.resolution,o=a.frame):(r=e.rootContext,(o=n).width=e.width,o.height=e.height),r.getImageData(0,0,o.width*s,o.height*s).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=s,i.CanvasRenderer.registerPlugin("extract",s)},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),s=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r[0]instanceof n.Texture?r[0]:r[0].texture));return s._textures=null,s._durations=null,s.textures=r,s._autoUpdate=!1!==i,s.animationSpeed=1,s.loop=!0,s.onComplete=null,s.onFrameChange=null,s.onLoop=null,s._currentTime=0,s.playing=!1,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&n.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&n.ticker.shared.add(this.update,this,n.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var r=[],i=0;i<t.length;++i)r.push(n.Texture.fromFrame(t[i]));return new e(r)},e.fromImages=function(t){for(var r=[],i=0;i<t.length;++i)r.push(n.Texture.fromImage(t[i]));return new e(r)},i(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof n.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(n.Sprite);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),s=function(t){return t&&t.__esModule?t:{default:t}}(r(105)),o=new n.Point,a=function(t){function e(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return o.tileTransform=new n.TransformStatic,o._width=i,o._height=s,o._canvasPattern=null,o.uvTransform=r.transform||new n.TextureMatrix(r),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,i=this.worldTransform,o=t.resolution,a=e.baseTexture,h=a.resolution,u=this.tilePosition.x/this.tileScale.x%e._frame.width*h,l=this.tilePosition.y/this.tileScale.y%e._frame.height*h;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var c=new n.CanvasRenderTarget(e._frame.width,e._frame.height,h);16777215!==this.tint?(this.tintedTexture=s.default.getTintedTexture(this,this.tint),c.context.drawImage(this.tintedTexture,0,0)):c.context.drawImage(a.source,-e._frame.x*h,-e._frame.y*h),this.cachedTint=this.tint,this._canvasPattern=c.context.createPattern(c.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/h,this.tileScale.y/h);var f=this.anchor.x*-this._width,p=this.anchor.y*-this._height;this.uvRespectAnchor?(r.translate(u,l),r.fillRect(-u+f,-l+p,this._width/this.tileScale.x*h,this._height/this.tileScale.y*h)):(r.translate(u+f,l+p),r.fillRect(-u,-l,this._width/this.tileScale.x*h,this._height/this.tileScale.y*h))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),e||(this._localBoundsRect||(this._localBoundsRect=new n.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,o);var e=this._width,r=this._height,i=-e*this.anchor._x;if(o.x>=i&&o.x<i+e){var n=-r*this.anchor._y;if(o.y>=n&&o.y<n+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,r,i){return new e(n.Texture.from(t),r,i)},e.fromFrame=function(t,r,i){var s=n.utils.TextureCache[t];if(!s)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(s,r,i)},e.fromImage=function(t,r,i,s,o){return new e(n.Texture.fromImage(t,s,o),r,i)},i(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(n.Sprite);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),n=r(7);r(33);var s=new i.Matrix,o=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.shader=null,i.simpleShader=null,i.quad=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new i.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new i.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new i.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,r=this.quad;e.bindVao(r.vao);var o=r.vertices;o[0]=o[6]=t._width*-t.anchor.x,o[1]=o[3]=t._height*-t.anchor.y,o[2]=o[4]=t._width*(1-t.anchor.x),o[5]=o[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((o=r.uvs)[0]=o[6]=-t.anchor.x,o[1]=o[3]=-t.anchor.y,o[2]=o[4]=1-t.anchor.x,o[5]=o[7]=1-t.anchor.y),r.upload();var a=t._texture,h=a.baseTexture,u=t.tileTransform.localTransform,l=t.uvTransform,c=h.isPowerOfTwo&&a.frame.width===h.width&&a.frame.height===h.height;c&&(h._glTextures[e.CONTEXT_UID]?c=h.wrapMode!==n.WRAP_MODES.CLAMP:h.wrapMode===n.WRAP_MODES.CLAMP&&(h.wrapMode=n.WRAP_MODES.REPEAT));var f=c?this.simpleShader:this.shader;e.bindShader(f);var p=a.width,d=a.height,m=t._width,y=t._height;s.set(u.a*p/m,u.b*p/y,u.c*d/m,u.d*d/y,u.tx/m,u.ty/y),s.invert(),c?s.prepend(l.mapCoord):(f.uniforms.uMapCoord=l.mapCoord.toArray(!0),f.uniforms.uClampFrame=l.uClampFrame,f.uniforms.uClampOffset=l.uClampOffset),f.uniforms.uTransform=s.toArray(!0),f.uniforms.uColor=i.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,f.uniforms.uColor,h.premultipliedAlpha),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=e.bindTexture(a),e.setBlendMode(i.utils.correctBlendMode(t.blendMode,h.premultipliedAlpha)),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(i.ObjectRenderer);e.default=o,i.WebGLRenderer.registerPlugin("tilingSprite",o)},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),s=h(r(113)),o=r(13),a=h(r(18));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n._textWidth=0,n._textHeight=0,n._glyphs=[],n._font={tint:void 0!==i.tint?i.tint:16777215,align:i.align||"left",name:null,size:0},n.font=i.font,n._text=r,n._maxWidth=0,n._maxLineHeight=0,n._anchor=new s.default(function(){n.dirty=!0},n,0,0),n.dirty=!1,n.updateText(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],r=this._font.size/t.size,i=new n.Point,s=[],o=[],a=null,h=0,u=0,l=0,c=-1,f=0,p=0,d=0,m=0;m<this.text.length;m++){var y=this.text.charCodeAt(m);if(/(\s)/.test(this.text.charAt(m))&&(c=m,f=h),/(?:\r\n|\r|\n)/.test(this.text.charAt(m)))o.push(h),u=Math.max(u,h),l++,i.x=0,i.y+=t.lineHeight,a=null;else if(-1!==c&&this._maxWidth>0&&i.x*r>this._maxWidth)n.utils.removeItems(s,c-p,m-c),m=c,c=-1,++p,o.push(f),u=Math.max(u,f),l++,i.x=0,i.y+=t.lineHeight,a=null;else{var v=t.chars[y];v&&(a&&v.kerning[a]&&(i.x+=v.kerning[a]),s.push({texture:v.texture,line:l,charCode:y,position:new n.Point(i.x+v.xOffset,i.y+v.yOffset)}),h=i.x+(v.texture.width+v.xOffset),i.x+=v.xAdvance,d=Math.max(d,v.yOffset+v.texture.height),a=y)}}o.push(h),u=Math.max(u,h);for(var g=[],_=0;_<=l;_++){var b=0;"right"===this._font.align?b=u-o[_]:"center"===this._font.align&&(b=(u-o[_])/2),g.push(b)}for(var x=s.length,T=this.tint,w=0;w<x;w++){var E=this._glyphs[w];E?E.texture=s[w].texture:(E=new n.Sprite(s[w].texture),this._glyphs.push(E)),E.position.x=(s[w].position.x+g[s[w].line])*r,E.position.y=s[w].position.y*r,E.scale.x=E.scale.y=r,E.tint=T,E.parent||this.addChild(E)}for(var S=x;S<this._glyphs.length;++S)this.removeChild(this._glyphs[S]);if(this._textWidth=u*r,this._textHeight=(i.y+t.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var P=0;P<x;P++)this._glyphs[P].x-=this._textWidth*this.anchor.x,this._glyphs[P].y-=this._textHeight*this.anchor.y;this._maxLineHeight=d*r},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,r){var i={},s=t.getElementsByTagName("info")[0],h=t.getElementsByTagName("common")[0],u=t.getElementsByTagName("page")[0].getAttribute("file"),l=(0,o.getResolutionOfUrl)(u,a.default.RESOLUTION);i.font=s.getAttribute("face"),i.size=parseInt(s.getAttribute("size"),10),i.lineHeight=parseInt(h.getAttribute("lineHeight"),10)/l,i.chars={};for(var c=t.getElementsByTagName("char"),f=0;f<c.length;f++){var p=c[f],d=parseInt(p.getAttribute("id"),10),m=new n.Rectangle(parseInt(p.getAttribute("x"),10)/l+r.frame.x/l,parseInt(p.getAttribute("y"),10)/l+r.frame.y/l,parseInt(p.getAttribute("width"),10)/l,parseInt(p.getAttribute("height"),10)/l);i.chars[d]={xOffset:parseInt(p.getAttribute("xoffset"),10)/l,yOffset:parseInt(p.getAttribute("yoffset"),10)/l,xAdvance:parseInt(p.getAttribute("xadvance"),10)/l,kerning:{},texture:new n.Texture(r.baseTexture,m)}}for(var y=t.getElementsByTagName("kerning"),v=0;v<y.length;v++){var g=y[v],_=parseInt(g.getAttribute("first"),10)/l,b=parseInt(g.getAttribute("second"),10)/l,x=parseInt(g.getAttribute("amount"),10)/l;i.chars[b]&&(i.chars[b].kerning[_]=x)}return e.fonts[i.font]=i,i},i(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(n.Container);e.default=u,u.fonts={}},function(t,e,r){"use strict";var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),n=a(r(41)),s=a(r(46)),o=r(13);function a(t){return t&&t.__esModule?t:{default:t}}var h=i.DisplayObject,u=new i.Matrix;h.prototype._cacheAsBitmap=!1,h.prototype._cacheData=!1;Object.defineProperties(h.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null}),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),h.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},h.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters){var a=this._filters[0].padding;r.pad(a)}var h=t._activeRenderTarget,l=t.filterManager.filterStack,c=i.RenderTexture.create(0|r.width,0|r.height),f="cacheAsBitmap_"+(0,o.uid)();this._cacheData.textureCacheId=f,s.default.addToCache(c.baseTexture,f),n.default.addToCache(c,f);var p=u;p.tx=-r.x,p.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,c,!0,p,!0),t.bindRenderTarget(h),t.filterManager.filterStack=l,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var d=new i.Sprite(c);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-r.x/r.width,d.anchor.y=-r.y/r.height,d.alpha=e,d._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)}},h.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},h.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var a=t.context,h=i.RenderTexture.create(0|e.width,0|e.height),l="cacheAsBitmap_"+(0,o.uid)();this._cacheData.textureCacheId=l,s.default.addToCache(h.baseTexture,l),n.default.addToCache(h,l);var c=u;this.transform.localTransform.copy(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,h,!0,c,!1),t.context=a,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var f=new i.Sprite(h);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-e.x/e.width,f.anchor.y=-e.y/e.height,f._bounds=this._bounds,f.alpha=r,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=f,this.containsPoint=f.containsPoint.bind(f)}},h.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},h.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},h.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,s.default.removeFromCache(this._cacheData.textureCacheId),n.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},h.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},function(t,e,r){"use strict";var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9));i.DisplayObject.prototype.name=null,i.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,r){"use strict";var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9));i.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,r){"use strict";e.__esModule=!0;var i=r(250);Object.defineProperty(e,"FXAAFilter",{enumerable:!0,get:function(){return c(i).default}});var n=r(251);Object.defineProperty(e,"NoiseFilter",{enumerable:!0,get:function(){return c(n).default}});var s=r(252);Object.defineProperty(e,"DisplacementFilter",{enumerable:!0,get:function(){return c(s).default}});var o=r(253);Object.defineProperty(e,"BlurFilter",{enumerable:!0,get:function(){return c(o).default}});var a=r(147);Object.defineProperty(e,"BlurXFilter",{enumerable:!0,get:function(){return c(a).default}});var h=r(151);Object.defineProperty(e,"BlurYFilter",{enumerable:!0,get:function(){return c(h).default}});var u=r(254);Object.defineProperty(e,"ColorMatrixFilter",{enumerable:!0,get:function(){return c(u).default}});var l=r(255);function c(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AlphaFilter",{enumerable:!0,get:function(){return c(l).default}})},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9));r(33);var n=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.Filter);e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9));r(33);var s=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return n.noise=r,n.seed=i,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(n.Filter);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9));r(33);var s=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=new n.Matrix;r.renderable=!1;var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return o.maskSprite=r,o.maskMatrix=s,o.uniforms.mapSampler=r._texture,o.uniforms.filterMatrix=s,o.uniforms.scale={x:1,y:1},null!==i&&void 0!==i||(i=20),o.scale=new n.Point(i,i),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,r)},i(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(n.Filter);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),s=a(r(147)),o=a(r(151));function a(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,i,a,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return u.blurXFilter=new s.default(r,i,a,h),u.blurYFilter=new o.default(r,i,a,h),u.padding=0,u.resolution=a||n.settings.RESOLUTION,u.quality=i||4,u.blur=r||8,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var i=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,i,!0),this.blurYFilter.apply(t,i,r,!1),t.returnRenderTarget(i)},i(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(n.Filter);e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9));r(33);var s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._loadMatrix=function(t){var e=t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=1/3,s=(0,Math.sqrt)(n),o=[r+(1-r)*n,n*(1-r)-s*i,n*(1-r)+s*i,0,0,n*(1-r)+s*i,r+n*(1-r),n*(1-r)-s*i,0,0,n*(1-r)-s*i,n*(1-r)+s*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(o,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,i,n){t=t||.2,e=e||.15;var s=((r=r||16770432)>>16&255)/255,o=(r>>8&255)/255,a=(255&r)/255,h=((i=i||3375104)>>16&255)/255,u=(i>>8&255)/255,l=(255&i)/255,c=[.3,.59,.11,0,0,s,o,a,t,0,h,u,l,e,0,s-h,o-u,a-l,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},i(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(n.Filter);e.default=s,s.prototype.grayscale=s.prototype.greyscale},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9));r(33);var s=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return i.alpha=r,i.glShaderKey="alpha",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(n.Filter);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i=r(152);Object.defineProperty(e,"InteractionData",{enumerable:!0,get:function(){return h(i).default}});var n=r(257);Object.defineProperty(e,"InteractionManager",{enumerable:!0,get:function(){return h(n).default}});var s=r(155);Object.defineProperty(e,"interactiveTarget",{enumerable:!0,get:function(){return h(s).default}});var o=r(154);Object.defineProperty(e,"InteractionTrackingData",{enumerable:!0,get:function(){return h(o).default}});var a=r(153);function h(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"InteractionEvent",{enumerable:!0,get:function(){return h(a).default}})},function(t,e,r){"use strict";e.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),s=l(r(152)),o=l(r(153)),a=l(r(154)),h=l(r(42)),u=l(r(155));function l(t){return t&&t.__esModule?t:{default:t}}n.utils.mixins.delayMixin(n.DisplayObject.prototype,u.default);var c=1,f={target:null,data:{global:null}},p=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i=i||{},a.renderer=r,a.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,a.interactionFrequency=i.interactionFrequency||10,a.mouse=new s.default,a.mouse.identifier=c,a.mouse.global.set(-999999),a.activeInteractionData={},a.activeInteractionData[c]=a.mouse,a.interactionDataPool=[],a.eventData=new o.default,a.interactionDOMElement=null,a.moveWhenInside=!1,a.eventsAdded=!1,a.mouseOverRenderer=!1,a.supportsTouchEvents="ontouchstart"in window,a.supportsPointerEvents=!!window.PointerEvent,a.onPointerUp=a.onPointerUp.bind(a),a.processPointerUp=a.processPointerUp.bind(a),a.onPointerCancel=a.onPointerCancel.bind(a),a.processPointerCancel=a.processPointerCancel.bind(a),a.onPointerDown=a.onPointerDown.bind(a),a.processPointerDown=a.processPointerDown.bind(a),a.onPointerMove=a.onPointerMove.bind(a),a.processPointerMove=a.processPointerMove.bind(a),a.onPointerOut=a.onPointerOut.bind(a),a.processPointerOverOut=a.processPointerOverOut.bind(a),a.onPointerOver=a.onPointerOver.bind(a),a.cursorStyles={default:"inherit",pointer:"pointer"},a.currentCursorMode=null,a.cursor=null,a._tempPoint=new n.Point,a.resolution=1,a.setTargetElement(a.renderer.view,a.renderer.resolution),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.hitTest=function(t,e){return f.target=null,f.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(f,e,null,!0),f.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(n.ticker.shared.add(this.update,this,n.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(n.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":i(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.mapPositionToPoint=function(t,e,r){var i;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*n,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},e.prototype.processInteractive=function(t,e,r,i,n){if(!e||!e.visible)return!1;var s=t.data.global,o=!1,a=n=e.interactive||n,h=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:(i=!1,h=!1)),a=!1):e._mask&&i&&(e._mask.containsPoint(s)||(i=!1,h=!1)),h&&e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;l>=0;l--){var c=u[l],f=this.processInteractive(t,c,r,i,a);if(f){if(!c.parent)continue;a=!1,f&&(t.target&&(i=!1),o=!0)}}return n&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(o=!0),e.interactive&&(o&&!t.target&&(t.target=e),r&&r(t,e,!!o))),o},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var r=e.length,i=0;i<r;i++){var n=e[i],s=this.getInteractionDataForPointerId(n),o=this.configureInteractionEventForDOMEvent(this.eventData,n,s);if(o.data.originalEvent=t,this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",o),"touch"===n.pointerType)this.emit("touchstart",o);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var i=t.data,n=t.data.identifier;if(r)if(e.trackedPointers[n]||(e.trackedPointers[n]=new a.default(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;s?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,s?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var i=this.normalizeToPointerData(t),n=i.length,s=t.target!==this.interactionDOMElement?"outside":"",o=0;o<n;o++){var a=i[o],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(u.data.originalEvent=t,this.processInteractive(u,this.renderer._lastObjectRendered,r,e||!s),this.emit(e?"pointercancel":"pointerup"+s,u),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+s:"mouseup"+s,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+s,u),this.releaseInteractionDataForPointerId(a.pointerId,h))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var i=t.data,n=t.data.identifier,s=e.trackedPointers[n],o="touch"===i.pointerType;if("mouse"===i.pointerType||"pen"===i.pointerType){var h=2===i.button,u=a.default.FLAGS,l=h?u.RIGHT_DOWN:u.LEFT_DOWN,c=void 0!==s&&s.flags&l;r?(this.dispatchEvent(e,h?"rightup":"mouseup",t),c&&this.dispatchEvent(e,h?"rightclick":"click",t)):c&&this.dispatchEvent(e,h?"rightupoutside":"mouseupoutside",t),s&&(h?s.rightDown=!1:s.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),o&&this.dispatchEvent(e,"touchend",t),s&&(this.dispatchEvent(e,"pointertap",t),o&&(this.dispatchEvent(e,"tap",t),s.over=!1))):s&&(this.dispatchEvent(e,"pointerupoutside",t),o&&this.dispatchEvent(e,"touchendoutside",t)),s&&s.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var r=e.length,i=0;i<r;i++){var n=e[i],s=this.getInteractionDataForPointerId(n),o=this.configureInteractionEventForDOMEvent(this.eventData,n,s);o.data.originalEvent=t;var a="touch"!==n.pointerType||this.moveWhenInside;this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",o),"touch"===n.pointerType&&this.emit("touchmove",o),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",o)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var i=t.data,n="touch"===i.pointerType,s="mouse"===i.pointerType||"pen"===i.pointerType;s&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),s&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var i=t.data,n=t.data.identifier,s="mouse"===i.pointerType||"pen"===i.pointerType,o=e.trackedPointers[n];r&&!o&&(o=e.trackedPointers[n]=new a.default(n)),void 0!==o&&(r&&this.mouseOverRenderer?(o.over||(o.over=!0,this.dispatchEvent(e,"pointerover",t),s&&this.dispatchEvent(e,"mouseover",t)),s&&null===this.cursor&&(this.cursor=e.cursor)):o.over&&(o.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),s&&this.dispatchEvent(e,"mouseout",t),o.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",i)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,r=void 0;return e===c||"mouse"===t.pointerType?r=this.mouse:this.activeInteractionData[e]?r=this.activeInteractionData[e]:((r=this.interactionDataPool.pop()||new s.default).identifier=e,this.activeInteractionData[e]=r),r.copyEvent(t),r},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(r.global.x=r.global.x/this.resolution,r.global.y=r.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,i=t.changedTouches.length;r<i;r++){var n=t.changedTouches[r];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),n.twist=0,n.tangentialPressure=0,void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=c),void 0===t.pressure&&(t.pressure=.5),t.twist=0,t.tangentialPressure=0,t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(h.default);e.default=p,n.WebGLRenderer.registerPlugin("interaction",p),n.CanvasRenderer.registerPlugin("interaction",p)},function(t,e,r){"use strict";e.__esModule=!0,e.shared=e.Resource=e.textureParser=e.getResourcePath=e.spritesheetParser=e.parseBitmapFontData=e.bitmapFontParser=e.Loader=void 0;var i=r(156);Object.defineProperty(e,"bitmapFontParser",{enumerable:!0,get:function(){return u(i).default}}),Object.defineProperty(e,"parseBitmapFontData",{enumerable:!0,get:function(){return i.parse}});var n=r(161);Object.defineProperty(e,"spritesheetParser",{enumerable:!0,get:function(){return u(n).default}}),Object.defineProperty(e,"getResourcePath",{enumerable:!0,get:function(){return n.getResourcePath}});var s=r(162);Object.defineProperty(e,"textureParser",{enumerable:!0,get:function(){return u(s).default}});var o=r(63);Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return o.Resource}});var a=u(r(143)),h=u(r(260));function u(t){return t&&t.__esModule?t:{default:t}}e.Loader=h.default;var l=new h.default;l.destroy=function(){},e.shared=l;var c=a.default.prototype;c._loader=null,Object.defineProperty(c,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?l:new h.default}return this._loader}}),c._parentDestroy=c.destroy,c.destroy=function(t){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t)}},function(t,e,r){"use strict";e.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),s=u(r(157)),o=u(r(158)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(159)),h=u(r(107));function u(t){return t&&t.__esModule?t:{default:t}}var l=/(#[\w-]+)?$/,c=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,r){return e._loadResource(t,r)},this._queue=a.queue(this._boundLoadResource,i),this._queue.pause(),this.resources={},this.onProgress=new s.default,this.onError=new s.default,this.onLoad=new s.default,this.onStart=new s.default,this.onComplete=new s.default}return t.prototype.add=function(t,e,r,n){if(Array.isArray(t)){for(var s=0;s<t.length;++s)this.add(t[s]);return this}if("object"===(void 0===t?"undefined":i(t))&&(n=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new h.default(t,e,r),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var o=r.parentResource,a=[],u=0;u<o.children.length;++u)o.children[u].isComplete||a.push(o.children[u]);var l=o.progressChunk*(a.length+1)/(a.length+2);o.children.push(this.resources[t]),o.progressChunk=l;for(var c=0;c<a.length;++c)a[c].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,o.default)(t,{strictMode:!0}),r=void 0;if(r=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=l.exec(r)[0];-1!==(r=r.substr(0,r.length-i.length)).indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=i}return r},t.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,a.eachSeries(this._beforeMiddleware,function(e,i){e.call(r,t,function(){i(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),a.eachSeries(this._afterMiddleware,function(r,i){r.call(e,t,i)},function(){t.onAfterMiddleware.dispatch(t),e.progress+=t.progressChunk,e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},n(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();e.default=c},function(t,e,r){"use strict";e.__esModule=!0;var i=u(r(63)),n=r(261),s=u(r(42)),o=u(r(162)),a=u(r(161)),h=u(r(156));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,i));s.default.call(n);for(var o=0;o<e._pixiMiddleware.length;++o)n.use(e._pixiMiddleware[o]());return n.onStart.add(function(t){return n.emit("start",t)}),n.onProgress.add(function(t,e){return n.emit("progress",t,e)}),n.onError.add(function(t,e,r){return n.emit("error",t,e,r)}),n.onLoad.add(function(t,e){return n.emit("load",t,e)}),n.onComplete.add(function(t,e){return n.emit("complete",t,e)}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(i.default);for(var c in e.default=l,s.default.prototype)l.prototype[c]=s.default.prototype[c];l._pixiMiddleware=[n.blobMiddlewareFactory,o.default,a.default,h.default];var f=i.default.Resource;f.setExtensionXhrType("fnt",f.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,r){"use strict";e.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===n.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=function(){var r=a.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=n.default.TYPE.IMAGE,t.data.onload=function(){a.revokeObjectURL(r),t.data.onload=null,e()},{v:void 0}}();if("object"===(void 0===r?"undefined":i(r)))return r.v}}else{var o=t.xhr.getResponseHeader("content-type");if(o&&0===o.indexOf("image"))return t.data=new Image,t.data.src="data:"+o+";base64,"+s.default.encodeBinary(t.xhr.responseText),t.type=n.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}};var n=o(r(107)),s=o(r(160));function o(t){return t&&t.__esModule?t:{default:t}}var a=window.URL||window.webkitURL},function(t,e,r){"use strict";e.__esModule=!0;var i=r(64);Object.defineProperty(e,"Mesh",{enumerable:!0,get:function(){return u(i).default}});var n=r(263);Object.defineProperty(e,"MeshRenderer",{enumerable:!0,get:function(){return u(n).default}});var s=r(264);Object.defineProperty(e,"CanvasMeshRenderer",{enumerable:!0,get:function(){return u(s).default}});var o=r(163);Object.defineProperty(e,"Plane",{enumerable:!0,get:function(){return u(o).default}});var a=r(265);Object.defineProperty(e,"NineSlicePlane",{enumerable:!0,get:function(){return u(a).default}});var h=r(266);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Rope",{enumerable:!0,get:function(){return u(h).default}})},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),n=o(r(26)),s=o(r(64));function o(t){return t&&t.__esModule?t:{default:t}}r(33);var a=i.Matrix.IDENTITY,h=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.shader=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new i.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},e.prototype.render=function(t){var e=this.renderer,r=e.gl,o=t._texture;if(o.valid){var h=t._glDatas[e.CONTEXT_UID];h||(e.bindVao(null),(h={shader:this.shader,vertexBuffer:n.default.GLBuffer.createVertexBuffer(r,t.vertices,r.STREAM_DRAW),uvBuffer:n.default.GLBuffer.createVertexBuffer(r,t.uvs,r.STREAM_DRAW),indexBuffer:n.default.GLBuffer.createIndexBuffer(r,t.indices,r.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty}).vao=new n.default.VertexArrayObject(r).addIndex(h.indexBuffer).addAttribute(h.vertexBuffer,h.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(h.uvBuffer,h.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=h),e.bindVao(h.vao),t.dirty!==h.dirty&&(h.dirty=t.dirty,h.uvBuffer.upload(t.uvs)),t.indexDirty!==h.indexDirty&&(h.indexDirty=t.indexDirty,h.indexBuffer.upload(t.indices)),h.vertexBuffer.upload(t.vertices),e.bindShader(h.shader),h.shader.uniforms.uSampler=e.bindTexture(o),e.state.setBlendMode(i.utils.correctBlendMode(t.blendMode,o.baseTexture.premultipliedAlpha)),h.shader.uniforms.uTransform&&(t.uploadUvTransform?h.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):h.shader.uniforms.uTransform=a.toArray(!0)),h.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),h.shader.uniforms.uColor=i.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,h.shader.uniforms.uColor,o.baseTexture.premultipliedAlpha);var u=t.drawMode===s.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;h.vao.draw(u,t.indices.length,0)}},e}(i.ObjectRenderer);e.default=h,i.WebGLRenderer.registerPlugin("mesh",h)},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),n=function(t){return t&&t.__esModule?t:{default:t}}(r(64)),s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,i=t.worldTransform,s=e.resolution;e.roundPixels?r.setTransform(i.a*s,i.b*s,i.c*s,i.d*s,i.tx*s|0,i.ty*s|0):r.setTransform(i.a*s,i.b*s,i.c*s,i.d*s,i.tx*s,i.ty*s),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===n.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,r=0;r<e-2;r++){var i=2*r;this._renderDrawTriangle(t,i,i+2,i+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,r=e.length,i=0;i<r;i+=3){var n=2*e[i],s=2*e[i+1],o=2*e[i+2];this._renderDrawTriangle(t,n,s,o)}},t.prototype._renderDrawTriangle=function(t,e,r,i){var n=this.renderer.context,s=t.uvs,o=t.vertices,a=t._texture;if(a.valid){var h=a.baseTexture,u=h.source,l=h.width,c=h.height,f=void 0,p=void 0,d=void 0,m=void 0,y=void 0,v=void 0;if(t.uploadUvTransform){var g=t._uvTransform.mapCoord;f=(s[e]*g.a+s[e+1]*g.c+g.tx)*h.width,p=(s[r]*g.a+s[r+1]*g.c+g.tx)*h.width,d=(s[i]*g.a+s[i+1]*g.c+g.tx)*h.width,m=(s[e]*g.b+s[e+1]*g.d+g.ty)*h.height,y=(s[r]*g.b+s[r+1]*g.d+g.ty)*h.height,v=(s[i]*g.b+s[i+1]*g.d+g.ty)*h.height}else f=s[e]*h.width,p=s[r]*h.width,d=s[i]*h.width,m=s[e+1]*h.height,y=s[r+1]*h.height,v=s[i+1]*h.height;var _=o[e],b=o[r],x=o[i],T=o[e+1],w=o[r+1],E=o[i+1],S=t.canvasPadding/this.renderer.resolution;if(S>0){var P=S/Math.abs(t.worldTransform.a),C=S/Math.abs(t.worldTransform.d),A=(_+b+x)/3,M=(T+w+E)/3,O=_-A,I=T-M,D=Math.sqrt(O*O+I*I);_=A+O/D*(D+P),T=M+I/D*(D+C),I=w-M,b=A+(O=b-A)/(D=Math.sqrt(O*O+I*I))*(D+P),w=M+I/D*(D+C),I=E-M,x=A+(O=x-A)/(D=Math.sqrt(O*O+I*I))*(D+P),E=M+I/D*(D+C)}n.save(),n.beginPath(),n.moveTo(_,T),n.lineTo(b,w),n.lineTo(x,E),n.closePath(),n.clip();var R=f*y+m*d+p*v-y*d-m*p-f*v,k=_*y+m*x+b*v-y*x-m*b-_*v,F=f*b+_*d+p*x-b*d-_*p-f*x,L=f*y*x+m*b*d+_*p*v-_*y*d-m*p*x-f*b*v,N=T*y+m*E+w*v-y*E-m*w-T*v,B=f*w+T*d+p*E-w*d-T*p-f*E,j=f*y*E+m*w*d+T*p*v-T*y*d-m*p*E-f*w*v;n.transform(k/R,N/R,F/R,B/R,L/R,j/R),n.drawImage(u,0,0,l*h.resolution,c*h.resolution,0,0,l,c),n.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,r=t.vertices,i=r.length/2;e.beginPath();for(var n=1;n<i-2;++n){var s=2*n,o=r[s],a=r[s+1],h=r[s+2],u=r[s+3],l=r[s+4],c=r[s+5];e.moveTo(o,a),e.lineTo(h,u),e.lineTo(l,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=s,i.CanvasRenderer.registerPlugin("mesh",s)},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=10,s=function(t){function e(r,i,s,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,4,4));return h._origWidth=r.orig.width,h._origHeight=r.orig.height,h._width=h._origWidth,h._height=h._origHeight,h.leftWidth=void 0!==i?i:n,h.rightWidth=void 0!==o?o:n,h.topHeight=void 0!==s?s:n,h.bottomHeight=void 0!==a?a:n,h.refresh(!0),h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices;t[9]=t[11]=t[13]=t[15]=this._topHeight,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices;t[2]=t[10]=t[18]=t[26]=this._leftWidth,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode);var r=this.worldTransform,i=t.resolution;t.roundPixels?e.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i|0,r.ty*i|0):e.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i);var n=this._texture.baseTexture,s=n.source,o=n.width*n.resolution,a=n.height*n.resolution;this.drawSegment(e,s,o,a,0,1,10,11),this.drawSegment(e,s,o,a,2,3,12,13),this.drawSegment(e,s,o,a,4,5,14,15),this.drawSegment(e,s,o,a,8,9,18,19),this.drawSegment(e,s,o,a,10,11,20,21),this.drawSegment(e,s,o,a,12,13,22,23),this.drawSegment(e,s,o,a,16,17,26,27),this.drawSegment(e,s,o,a,18,19,28,29),this.drawSegment(e,s,o,a,20,21,30,31)},e.prototype.drawSegment=function(t,e,r,i,n,s,o,a){var h=this.uvs,u=this.vertices,l=(h[o]-h[n])*r,c=(h[a]-h[s])*i,f=u[o]-u[n],p=u[a]-u[s];l<1&&(l=1),c<1&&(c=1),f<1&&(f=1),p<1&&(p=1),t.drawImage(e,h[n]*r,h[s]*i,l,c,u[n],u[s],f,p)},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,r=this._texture;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,n=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=n*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},i(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(r(163)).default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.points=i,n.vertices=new Float32Array(4*i.length),n.uvs=new Float32Array(4*i.length),n.colors=new Float32Array(2*i.length),n.indices=new Uint16Array(2*i.length),n.autoUpdate=!0,n.refresh(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,r=this.indices,i=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,i[0]=1,i[1]=1,r[0]=0,r[1]=1;for(var n=t.length,s=1;s<n;s++){var o=4*s,a=s/(n-1);e[o]=a,e[o+1]=0,e[o+2]=a,e[o+3]=1,i[o=2*s]=1,i[o+1]=1,r[o=2*s]=o,r[o+1]=o+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],r=void 0,i=0,n=0,s=this.vertices,o=t.length,a=0;a<o;a++){var h=t[a],u=4*a;n=-((r=a<t.length-1?t[a+1]:h).x-e.x),i=r.y-e.y;var l=10*(1-a/(o-1));l>1&&(l=1);var c=Math.sqrt(i*i+n*n),f=this._texture.height/2;i/=c,n/=c,i*=f,n*=f,s[u]=h.x+i,s[u+1]=h.y+n,s[u+2]=h.x-i,s[u+3]=h.y-n,e=h}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(function(t){return t&&t.__esModule?t:{default:t}}(r(64)).default);e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var i=r(268);Object.defineProperty(e,"ParticleContainer",{enumerable:!0,get:function(){return s(i).default}});var n=r(269);function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"ParticleRenderer",{enumerable:!0,get:function(){return s(n).default}})},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),s=r(13),o=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,i=arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return s>16384&&(s=16384),s>r&&(s=r),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=s,a._glBuffers={},a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=n.BLEND_MODES.NORMAL,a.autoResize=o,a.roundPixels=!0,a.baseTexture=null,a.setProperties(i),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,i=!0,n=0,s=0,o=0,a=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var h=0;h<this.children.length;++h){var u=this.children[h];if(u.visible){var l=u._texture.frame;if(e.globalAlpha=this.worldAlpha*u.alpha,u.rotation%(2*Math.PI)==0)i&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx*t.resolution,r.ty*t.resolution),i=!1),n=u.anchor.x*(-l.width*u.scale.x)+u.position.x+.5,s=u.anchor.y*(-l.height*u.scale.y)+u.position.y+.5,o=l.width*u.scale.x,a=l.height*u.scale.y;else{i||(i=!0),u.displayObjectUpdateTransform();var c=u.worldTransform;t.roundPixels?e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution|0,c.ty*t.resolution|0):e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution,c.ty*t.resolution),n=u.anchor.x*-l.width+.5,s=u.anchor.y*-l.height+.5,o=l.width,a=l.height}var f=u._texture.baseTexture.resolution;e.drawImage(u._texture.baseTexture.source,l.x*f,l.y*f,l.width*f,l.height*f,n*t.resolution,s*t.resolution,o*t.resolution,a*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},i(e,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,s.hex2rgb)(t,this.tintRgb)}}]),e}(n.Container);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),n=a(r(270)),s=a(r(271)),o=r(13);function a(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.shader=null,n.indexBuffer=null,n.properties=null,n.tempMatrix=new i.Matrix,n.CONTEXT_UID=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new n.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,r=t._maxSize,n=t._batchSize,s=this.renderer,o=e.length;if(0!==o){o>r&&(o=r);var a=t._glBuffers[s.CONTEXT_UID];a||(a=t._glBuffers[s.CONTEXT_UID]=this.generateBuffers(t));var h=e[0]._texture.baseTexture;this.renderer.setBlendMode(i.utils.correctBlendMode(t.blendMode,h.premultipliedAlpha));var u=s.gl,l=t.worldTransform.copy(this.tempMatrix);l.prepend(s._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=l.toArray(!0),this.shader.uniforms.uColor=i.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,h.premultipliedAlpha),this.shader.uniforms.uSampler=s.bindTexture(h);for(var c=!1,f=0,p=0;f<o;f+=n,p+=1){var d=o-f;if(d>n&&(d=n),p>=a.length){if(!t.autoResize)break;a.push(this._generateOneMoreBuffer(t))}var m=a[p];m.uploadDynamic(e,f,d);var y=t._bufferUpdateIDs[f]||0;(c=c||m._updateID<y)&&(m._updateID=t._updateID,m.uploadStatic(e,f,d)),s.bindVao(m.vao),m.vao.draw(u.TRIANGLES,6*d)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,r=[],i=t._maxSize,n=t._batchSize,o=t._properties,a=0;a<i;a+=n)r.push(new s.default(e,this.properties,o,n));return r},e.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,r=t._batchSize,i=t._properties;return new s.default(e,this.properties,i,r)},e.prototype.uploadVertices=function(t,e,r,i,n,s){for(var o=0,a=0,h=0,u=0,l=0;l<r;++l){var c=t[e+l],f=c._texture,p=c.scale.x,d=c.scale.y,m=f.trim,y=f.orig;m?(o=(a=m.x-c.anchor.x*y.width)+m.width,h=(u=m.y-c.anchor.y*y.height)+m.height):(o=y.width*(1-c.anchor.x),a=y.width*-c.anchor.x,h=y.height*(1-c.anchor.y),u=y.height*-c.anchor.y),i[s]=a*p,i[s+1]=u*d,i[s+n]=o*p,i[s+n+1]=u*d,i[s+2*n]=o*p,i[s+2*n+1]=h*d,i[s+3*n]=a*p,i[s+3*n+1]=h*d,s+=4*n}},e.prototype.uploadPosition=function(t,e,r,i,n,s){for(var o=0;o<r;o++){var a=t[e+o].position;i[s]=a.x,i[s+1]=a.y,i[s+n]=a.x,i[s+n+1]=a.y,i[s+2*n]=a.x,i[s+2*n+1]=a.y,i[s+3*n]=a.x,i[s+3*n+1]=a.y,s+=4*n}},e.prototype.uploadRotation=function(t,e,r,i,n,s){for(var o=0;o<r;o++){var a=t[e+o].rotation;i[s]=a,i[s+n]=a,i[s+2*n]=a,i[s+3*n]=a,s+=4*n}},e.prototype.uploadUvs=function(t,e,r,i,n,s){for(var o=0;o<r;++o){var a=t[e+o]._texture._uvs;a?(i[s]=a.x0,i[s+1]=a.y0,i[s+n]=a.x1,i[s+n+1]=a.y1,i[s+2*n]=a.x2,i[s+2*n+1]=a.y2,i[s+3*n]=a.x3,i[s+3*n+1]=a.y3,s+=4*n):(i[s]=0,i[s+1]=0,i[s+n]=0,i[s+n+1]=0,i[s+2*n]=0,i[s+2*n+1]=0,i[s+3*n]=0,i[s+3*n+1]=0,s+=4*n)}},e.prototype.uploadTint=function(t,e,r,i,n,s){for(var a=0;a<r;++a){var h=t[e+a],u=h._texture.baseTexture.premultipliedAlpha,l=h.alpha,c=l<1&&u?(0,o.premultiplyTint)(h._tintRGB,l):h._tintRGB+(255*l<<24);i[s]=c,i[s+n]=c,i[s+2*n]=c,i[s+3*n]=c,s+=4*n}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(i.ObjectRenderer);e.default=h,i.WebGLRenderer.registerPlugin("particle",h)},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(r(62)).default);e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var i=s(r(26)),n=s(r(106));function s(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(e,r,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var s=0;s<r.length;++s){var o=r[s];o={attribute:o.attribute,size:o.size,uploadFunction:o.uploadFunction,unsignedByte:o.unsignedByte,offset:o.offset},i[s]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,n.default)(this.size),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var s=this.dynamicProperties[r];s.offset=e,e+=s.size,this.dynamicStride+=s.size}var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=i.default.GLBuffer.createVertexBuffer(t,o,t.STREAM_DRAW);var a=0;this.staticStride=0;for(var h=0;h<this.staticProperties.length;++h){var u=this.staticProperties[h];u.offset=a,a+=u.size,this.staticStride+=u.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=i.default.GLBuffer.createVertexBuffer(t,l,t.STATIC_DRAW),this.vao=new i.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var c=0;c<this.dynamicProperties.length;++c){var f=this.dynamicProperties[c];f.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*f.offset):this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.FLOAT,!1,4*this.dynamicStride,4*f.offset)}for(var p=0;p<this.staticProperties.length;++p){var d=this.staticProperties[p];d.unsignedByte?this.vao.addAttribute(this.staticBuffer,d.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*d.offset):this.vao.addAttribute(this.staticBuffer,d.attribute,t.FLOAT,!1,4*this.staticStride,4*d.offset)}},t.prototype.uploadDynamic=function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(t,e,r,n.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(t,e,r,n.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var i=r(273);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return h(i).default}});var n=r(274);Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return h(n).default}});var s=r(108);Object.defineProperty(e,"BasePrepare",{enumerable:!0,get:function(){return h(s).default}});var o=r(164);Object.defineProperty(e,"CountLimiter",{enumerable:!0,get:function(){return h(o).default}});var a=r(275);function h(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"TimeLimiter",{enumerable:!0,get:function(){return h(a).default}})},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),n=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.uploadHookHelper=i.renderer,i.registerFindHook(a),i.registerUploadHook(s),i.registerUploadHook(o),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(r(108)).default);function s(t,e){return e instanceof i.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function o(t,e){return e instanceof i.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function a(t,e){return t instanceof i.Graphics&&(e.push(t),!0)}e.default=n,i.WebGLRenderer.registerPlugin("prepare",n)},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),n=16,s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.uploadHookHelper=i,i.canvas=document.createElement("canvas"),i.canvas.width=n,i.canvas.height=n,i.ctx=i.canvas.getContext("2d"),i.registerUploadHook(o),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(function(t){return t&&t.__esModule?t:{default:t}}(r(108)).default);function o(t,e){if(e instanceof i.BaseTexture){var r=e.source,n=0===r.width?t.canvas.width:Math.min(t.canvas.width,r.width),s=0===r.height?t.canvas.height:Math.min(t.canvas.height,r.height);return t.ctx.drawImage(r,0,0,n,s,0,0,t.canvas.width,t.canvas.height),!0}return!1}e.default=s,i.CanvasRenderer.registerPlugin("prepare",s)},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();e.default=i},function(t,e){var r=window.GPixi={enterFrameItems:[],changedSizeItems:[],usePivotPercent:function(t,e){if(!t.pivotPercent)return t.originalSize=r.getOriginalSize(t),t.pivotPercent={get x(){return t.pivot.x/t.originalSize.width},set x(e){t.pivot.x=t.originalSize.width*e},get y(){return t.pivot.y/t.originalSize.height},set y(e){t.pivot.y=t.originalSize.height*e},set:function(e,r){t.pivotPercent.x=e,t.pivotPercent.y=r}},t.updatePivotPercent=function(){this.pivotPercent.x=this.pivot.x/this.originalSize.width,this.pivotPercent.y=this.pivot.y/this.originalSize.height},r.onSizeChanged(t,function(t){var e=t.target;e.updatePivotPercent&&e.updatePivotPercent()}),t.anchor&&(t.pivotPercent.x=t.anchor.x,t.pivotPercent.y=t.anchor.y,t.anchor.set(0,0)),t.pivotPercent},setPivotPercentWithoutMoving:function(t,e,i){if(t.pivotPercent){t.pivotPercent;var n={x:t.originalSize.width*e,y:t.originalSize.height*i},s=new PIXI.Point(n.x,n.y),o=t.toGlobal(t.pivot).x,a=t.toGlobal(t.pivot).y,h=t.toGlobal(s).x-o,u=t.toGlobal(s).y-a;t.x+=h,t.y+=u,t.pivotPercent.set(e,i)}else r.usePivotPercent(t)},setPivotPercent:function(t,e,r){if(!t.pivotPercent)throw"GPixi.usePivotPercent(target) has not been enabled yet.";return t.pivotPercent.set(e,r),{x:t.pivotPercent.x,y:t.pivotPercent.y}},getBoundSize:function(t){var e=new PIXI.Container,i=t.parent,n=this.copyPropertiesOf(t);(e=new PIXI.Container).addChild(t),t.x=0,t.y=0;var s=new PIXI.Rectangle(0,0,e.width,e.height);return console.log(t.width,t.height),console.log(s.width,s.height),i&&i.addChild(t),r.applyPropertiesTo(t,n),s},onSizeChanged:function(t,e){var i=r;t.gpixiCurrentSize={width:t.width,height:t.height},t.sizeChangedCallback=e,i.changedSizeItems.push(t)},removeSizeChanged:function(t){var e=r;if(!t)throw"Object is undefined.";GArray.remove(t,e.changedSizeItems),t.sizeChangedCallback=null},onUpdate:function(t,e){var i=r;t.callback=e,i.enterFrameItems.push(t)},offUpdate:function(t){var e=r;if(!t)throw"Object is undefined.";e.enterFrameItems.indexOf(t)<0||(GArray.remove(t,e.enterFrameItems),t.callback=null)},offAllUpdateEvents:function(){for(var t=r,e=0;e<t.enterFrameItems.length;e++)t.enterFrameItems[e].callback=null;t.enterFrameItems=[]},onEnterFrame:function(t,e){var i=r;t.callback=e,i.enterFrameItems.push(t)},removeEnterFrame:function(t){var e=r;if(!t)throw"Object is undefined.";e.enterFrameItems.indexOf(t)<0||(GArray.remove(t,e.enterFrameItems),t.callback=null)},removeAllEnterFrame:function(){for(var t=r,e=0;e<t.enterFrameItems.length;e++)t.enterFrameItems[e].callback=null;t.enterFrameItems=[]},exportBase64:function(t,e,r){r&&r.cropSize;var i,n=!!r&&r.ignoreRotation;n&&(i=t.rotation,t.rotation=0);var s=t.getBounds(),o=new PIXI.BaseRenderTexture(e.width,e.height,PIXI.SCALE_MODES.LINEAR,1),a=new PIXI.RenderTexture(o,new PIXI.Rectangle(s.x,s.y,Math.floor(s.width),Math.floor(s.height)));e.render(t,a);var h=e.extract.base64(a);return n&&(t.rotation=i),h},containerToBase64:function(t,e,i){var n=r.containerToTexture(t,e,i);return t.extract.base64(n)},containerToTexture:function(t,e,r){var i=r||{width:e.width,height:e.height},n=new PIXI.BaseRenderTexture(i.width,i.height,PIXI.SCALE_MODES.LINEAR,1),s=new PIXI.RenderTexture(n);return t.render(e,s),s},newButton:function(t,e){var i,n,s=new PIXI.Container,o=r.addNewSpriteTo("normal",s,t);return s.interactive=!0,s.buttonMode=!0,s.state="normal",e&&e.hover&&((i=r.addNewSpriteTo("hover",s,e.hover)).visible=!1),e&&e.press&&((n=r.addNewSpriteTo("press",s,e.press)).visible=!1),e&&e.auto&&(s.on("mouseover",function(){s.changeState("hover")}),s.on("mouseout",function(){s.changeState("normal")})),s.changeState=function(t){switch(this.state=t,t){case"press":i&&(i.visible=!1),o&&(o.visible=!1),n&&(n.visible=!0);break;case"hover":o&&(o.visible=!1),n&&(n.visible=!1),i&&(i.visible=!0);break;default:i&&(i.visible=!1),n&&(n.visible=!1),o.visible=!0}},s.setStateTexture=function(t,e){switch(t){case"press":n&&(n.texture=r.textureFromLoader(e));break;case"hover":i&&(i.texture=r.textureFromLoader(e));break;default:o.texture=r.textureFromLoader(e)}},s},addNewButtonTo:function(t,e,i,n){var s=r.newButton(i,n);return e[t]=s,e.addChild(s),s},getRootStage:function(t){if(t.parent){if(t.parent.parent){if(t.parent.parent.parent){if(t.parent.parent.parent.parent)throw"Can only get max 4 levels of parent";return t.parent.parent.parent}return t.parent.parent}return t.parent}return!1},setAnchor:function(t,e,i){var n,s={x:e,y:i};t.originalSize=r.getOriginalSize(t),t.anchor||(t.anchor={x:t.pivot.x/t.originalSize.width,y:t.pivot.y/t.originalSize.height}),n=t.anchor,t.position.x+=t.width*s.x-t.width*n.x,t.position.y+=t.height*s.y-t.height*n.y,t instanceof PIXI.Sprite?t.anchor=s:(t.pivot.set(t.originalSize.width*s.x,t.originalSize.height*s.y),t.anchor=s)},textureFromLoader:function(t,e){var r=e||PIXI.loader;if(!r.resources[t])throw"[GPixi Error] No texture was found from the loader. Please double check your texture name.";return r.resources[t].texture},spriteFromTextureName:function(t,e){var i=e||PIXI.loader,n=r.textureFromLoader(t,i);return new PIXI.Sprite(n)},addNewSpriteTo:function(t,e,i,n){var s=n||PIXI.loader,o=r.spriteFromTextureName(i,s);return e[t]=o,e.addChild(o),o},cloneSprite:function(t,e){var i=new PIXI.Sprite(t.texture);return e&&r.copyProperties(i,t),i},copyProperties:function(t,e){return this.copyPropertiesOf(e),this.applyPropertiesTo(t),!0},copyPropertiesOf:function(t){var e={};return t.anchor&&(e.anchor={x:t.anchor.x,y:t.anchor.y}),e.pivot={x:t.pivot.x,y:t.pivot.y},e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height,e.alpha=t.alpha,e.rotation=t.rotation,e.scale=t.scale,e},resetPropertiesOf:function(t){t.anchor&&(t.anchor=new PIXI.Point(0,0)),t.pivot&&(t.pivot=new PIXI.Point(0,0)),t.x=0,t.y=0,t.origialSize&&(t.width=t.origialSize.width),t.origialSize&&(t.height=t.origialSize.height)},applyPropertiesTo:function(t,e,r){var i=e;return i.anchor&&(t.anchor=i.anchor),i.pivot&&(t.pivot=i.pivot),i.x&&(t.x=i.x),i.y&&(t.y=i.y),i.width&&(t.width=i.width),i.height&&(t.height=i.height),i.alpha&&(t.alpha=i.alpha),i.rotation&&(t.rotation=i.rotation),i.scale&&(t.scale=i.scale),!0},getOriginalSize:function(t){var e=t.scale.x,r=t.scale.y,i={};return i.width=t.width/e,i.height=t.height/r,i},createMovieClip:function(t,e,r){for(var i=[],n=Number(e);n<=Number(r);n++){var s=t+n,o=PIXI.loader.resources[s].texture;i.push(o)}return new PIXI.extras.MovieClip(i)},remove:function(t){if(!t.parent)throw"[GPixi Error: remove] This object doesn't have any parents.";t.parent.removeChild(t),t.destroy(),t=null},removeItems:function(t){for(var e=0;e<t.length;e++){var i=t[e];r.remove(i)}},moveToTop:function(t){for(var e=t.parent,r=e.children.length-1,i=0;i<e.children.length;i++)e.children[i].zIndex=i,e.children[i].zIndex>t.zIndex&&(e.children[i].zIndex=parseInt(e.children[i].zIndex)-1);t.zIndex=r,e.children.sort(function(t,e){return t.zIndex=t.zIndex||0,e.zIndex=e.zIndex||0,t.zIndex-e.zIndex})},moveToBottom:function(t){for(var e=t.parent,r=0;r<e.children.length;r++)e.children[r].zIndex=r+1;t.zIndex=0,e.children.sort(function(t,e){return t.zIndex=t.zIndex||0,e.zIndex=e.zIndex||0,t.zIndex-e.zIndex})},moveAboveItem:function(t,e){for(var r=e.parent,i=0;i<r.children.length;i++)r.children[i].zIndex=i;for(i=0;i<r.children.length;i++)i>e.zIndex&&(r.children[i].zIndex+=1);t.zIndex=e.zIndex+1,r.children.sort(function(t,e){return t.zIndex=t.zIndex||0,e.zIndex=e.zIndex||0,t.zIndex-e.zIndex})},moveBelowItem:function(t,e){for(var r=e.parent,i=0;i<r.children.length;i++)r.children[i].zIndex=i;for(i=0;i<r.children.length;i++)i>=e.zIndex&&(r.children[i].zIndex+=1);t.zIndex=e.zIndex-1,r.children.sort(function(t,e){return t.zIndex=t.zIndex||0,e.zIndex=e.zIndex||0,t.zIndex-e.zIndex})},swapIndex:function(t,e){if(t.parent==e.parent){for(var r=t.parent,i=0;i<r.children.length;i++)r.children[i].zIndex=i;var n=e.zIndex;e.zIndex=t.zIndex,t.zIndex=n,r.children.sort(function(t,e){return t.zIndex=t.zIndex||0,e.zIndex=e.zIndex||0,t.zIndex-e.zIndex})}else console.log("[GPixi Error] Children are not in the same parent.")}};requestAnimationFrame(function t(){if(r.enterFrameItems.length>0)for(var e=0;e<r.enterFrameItems.length;e++){if(n=r.enterFrameItems[e]){if(!n.callback)throw"[onEnterFrame] Object doesn't contain any callbacks.";var i={target:n};n.callback(i)}else GArray.remove(n,r.enterFrameItems)}if(r.changedSizeItems.length>0)for(e=0;e<r.changedSizeItems.length;e++){var n;if(!(n=r.changedSizeItems[e]))throw"Object is undefined";i={target:n};if(n.gpixiCurrentSize&&(n.gpixiCurrentSize.width!=n.width||n.gpixiCurrentSize.height!=n.height)){if(n.gpixiCurrentSize.width=n.width,n.gpixiCurrentSize.height=n.height,i.size=n.gpixiCurrentSize,!n.sizeChangedCallback)throw"[onSizeChanged] Object doesn't contain any callbacks.";n.sizeChangedCallback(i)}}requestAnimationFrame(t)})},function(t,e){var r=window.GDevice={tmpOri:"portrait",ratio:16/9,tmpType:"mobile",get type(){return r.resize(),r.tmpType},get orientation(){return r.resize(),r.tmpOri},get width(){return $(window).width()},get height(){return $(window).height()},init:function(){$(window).resize(r.resize),r.resize()},resize:function(t){var e=$(window).width(),i=$(window).height();r.ratio=e/i,r.ratio>1?(r.tmpOri="landscape",r.tmpType=e>1024?"desktop":e>640?"tablet":"mobile"):r.ratio<1?(r.tmpOri="portrail",r.tmpType=e>770?"desktop":e>480?"tablet":"mobile"):(r.tmpOri="square",r.tmpType="desktop")}};$(document).ready(function(){r.init()});var i=window.GMath={random:function(t){return t*Math.random()},randomInt:function(t){return Math.floor(i.random(t))},randomPlusMinus:function(t){return t*(Math.random()-Math.random())},randomIntPlusMinus:function(t){return Math.round(i.randomPlusMinus(t))},randomFromTo:function(t,e){return t+(e-t)*Math.random()},randomIntFromTo:function(t,e){return Math.floor(i.randomFromTo(t,e))},angleRadBetween2Points:function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},angleDegBetween2Points:function(t,e){return i.radToDeg(i.angleRadBetween2Points(t,e))},degToRad:function(t){return t*Math.PI/180},radToDeg:function(t){return 180*t/Math.PI},angleRadBetween3Points:function(t,e,r){var i=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),n=Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2)),s=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));return Math.acos((n*n+i*i-s*s)/(2*n*i))},getPointWithAngleAndRadius(t,e){var r={x:0,y:0};return r.x=e*Math.cos(t),r.y=e*Math.sin(t),r},distanceBetweenPoints:function(t,e){var r=t.x,i=t.y,n=e.x,s=e.y;return Math.sqrt((r-n)*(r-n)+(i-s)*(i-s))}},n=(window.GArray={remove:function(t,e){var r=e.indexOf(t);return r>-1&&e.splice(r,1),e}},window.GLayoutCSS={init:function(){console.log("[GLayoutCSS 1.0] Initialized!"),$(window).resize(n.resize),n.resize()},resize:function(t){var e=$(window).width(),r=$(window).height();$(".helper-layout-fullscreen").length>0&&($(".helper-layout-fullscreen").width(e),$(".helper-layout-fullscreen").height(r))}});$(function(){n.init()});var s=window.GUpload={inputElement:null,customClass:"",customPostName:"photo",customUploadType:"images/*",onSelect:null,browse:function(t){this.onSelect=t,this.inputElement||($(".gupload-input").length>0&&($(".gupload-input").remove(),console.log("input is existed")),$("body").append('<input class="gupload-input helper-hide '+s.customClass+'" type="file" name="'+s.customPostName+'" accept="'+s.customUploadType+'">'),this.inputElement=$(".gupload-input")),this.inputElement.click(),this.inputElement.on("change",function(){var t=$(this)[0].files[0];if(!window.FileReader||!window.FileReader.prototype.readAsArrayBuffer)throw $(".gupload-input").remove(),alert("Please upload your browser to use this feature."),"This browser is too old to use this feature.";var e=new FileReader;e.addEventListener("load",function(){var t=e.result;s.onSelect&&s.onSelect(t),$(".gupload-input").remove()},!1),t&&e.readAsDataURL(t)})},onRead:function(){},onFailRead:function(){}}},function(t,e){(function(){function t(t){PIXI.Container.call(this),this.name="TransformTool",this.interactive=!0,this.buttonMode=!0,this.corners=[],this.canvas=t&&void 0!==t.canvas?t.canvas:null,this.SCALE_BY_RATIO=!(!t||void 0===t.scaleByRatio)&&t.scaleByRatio,this.DEBUGGING=!(!t||void 0===t.debug)&&t.debug,this.LOCK_REGISTRATION_POINT=!(!t||void 0===t.lockReg)&&t.lockReg,this.CTRL_HOLD=!!this.LOCK_REGISTRATION_POINT,this.CONTROL_SIZE=t&&void 0!==t.controlSize?t.controlSize:5,this.RELATIVE_SCALE=t&&void 0!==t.relativeScale?t.relativeScale:1,this.SHOW_BORDER=!(!t||void 0===t.border)&&t.border,this.ON_CHANGE_CALLBACK=null,this.ON_BLUR_CALLBACK=null;var e=this,r=this;if(this.canvas&&"desktop"!=GDevice.type){this.hammer=new Hammer(this.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("rotate").set({enable:!0});var i=new Hammer.Pinch,n=new Hammer.Rotate;i.recognizeWith(n),this.hammer.add([i,n]);var s=1,o=1,a=0,h={x:0,y:0},u={x:0,y:0};this.hammer.on("pinchstart",function(t){o=t.scale,(h={x:t.center.x-$(e.canvas).offset().left,y:t.center.y-$(e.canvas).offset().top}).x/=e.RELATIVE_SCALE,h.y/=e.RELATIVE_SCALE,u={x:e.target.x,y:e.target.y}}),this.hammer.on("pinchmove",function(t){a=t.scale-o,e.target&&(e.target.scale.x=e.target.scale.y=s+a,e._positionControls());var i={x:t.center.x-$(e.canvas).offset().left,y:t.center.y-$(e.canvas).offset().top};i.x/=e.RELATIVE_SCALE,i.y/=e.RELATIVE_SCALE;var n=i.x-h.x,l=i.y-h.y;r.target.position.x=u.x+n,r.target.position.y=u.y+l,r.translateLayer.x=r.target.x,r.translateLayer.y=r.target.y});var l=1,c=1,f=0;this.hammer.on("rotatestart",function(t){c=GMath.degToRad(t.rotation),l=e.target.rotation}),this.hammer.on("rotatemove",function(t){f=GMath.degToRad(t.rotation)-c,e.target&&(e.target.rotation=l+f,e.rotateLayer.rotation=e.target.rotation,e._positionControls())}),this.hammer.on("pan",function(t){}),$(this.canvas).on("touchstart",function(t){s=e.target.scale.x,l=e.target.rotation})}else console.log("[TransformTool] Can't setup touch manager because canvas parameter is missed.");e=this,$(window).keydown(function(t){16==t.which&&(e.SCALE_BY_RATIO=!0),e.LOCK_REGISTRATION_POINT||91==t.which&&(e.CTRL_HOLD=!0)}),$(window).keyup(function(t){16==t.which&&(e.SCALE_BY_RATIO=!1),e.LOCK_REGISTRATION_POINT||91==t.which&&(e.CTRL_HOLD=!1)}),this.visible=!1}t.prototype=Object.create(PIXI.Container.prototype),t.prototype.constructor=t,t.prototype.clear=function(){for(var t=0;t<this.children.length;t++){var e=this.children[t];this.removeChild(e),e.destroy(),e=null}this.target=null,this.visible=!1},t.prototype.apply=function(t){this.DEBUGGING&&console.log("[TransformTool] Apply"),this.clear(),this.clear(),this.target=t,GPixi.moveToTop(this),t.originalSize={width:t.width/t.scale.x,height:t.height/t.scale.y},this.DEBUGGING&&console.log("target.originalSize:",t.originalSize),this.DEBUGGING&&console.log("target.pivot:",t.pivot.x,"x",t.pivot.y),this.DEBUGGING&&t.anchor&&console.log("target.anchor:",t.anchor.x,"x",t.anchor.y),this.DEBUGGING&&console.log("target.size:",t.width,"x",t.height),t.anchor&&!t.ignoreResetAnchor&&t.anchor.x!=t.pivot.x/t.originalSize.width&&t.anchor.y!=t.pivot.y/t.originalSize.height&&(t.anchor.x=t.pivot.x/t.originalSize.width,t.anchor.y=t.pivot.y/t.originalSize.height,t.ignoreResetAnchor=!0),GPixi.usePivotPercent(t);var e=new PIXI.Graphics;this.DEBUGGING?e.beginFill(16776960,.2):e.beginFill(16776960,0),this.SHOW_BORDER&&e.lineStyle(1,0,.8),e.drawRect(0,0,t.originalSize.width,t.originalSize.height);var r=new PIXI.Graphics;r.lineStyle(1,0,1),r.beginFill(16777215,1),r.drawCircle(0,0,this.CONTROL_SIZE/this.RELATIVE_SCALE);var i=new PIXI.Container;i.ghostLayer=e,i.addChild(e),i.addChild(r);for(var n=new PIXI.Container,s=new PIXI.Container,o=0;o<4;o++)(d=new PIXI.Graphics).lineStyle(1,0,1),d.beginFill(16777215,1),d.drawRect(0,0,2*this.CONTROL_SIZE/this.RELATIVE_SCALE,2*this.CONTROL_SIZE/this.RELATIVE_SCALE),d.pivot.set(this.CONTROL_SIZE/this.RELATIVE_SCALE,this.CONTROL_SIZE/this.RELATIVE_SCALE),d.id=o,n["p"+o]=d,n.addChild(d),0==o&&d.position.set(-t.width*t.pivotPercent.x,-t.height*t.pivotPercent.y),1==o&&d.position.set(t.width*(1-t.pivotPercent.x),-t.height*t.pivotPercent.y),2==o&&d.position.set(t.width*(1-t.pivotPercent.x),t.height*(1-t.pivotPercent.y)),3==o&&d.position.set(-t.width*t.pivotPercent.x,t.height*(1-t.pivotPercent.y));s.addChild(i);var a=new PIXI.Graphics;a.lineStyle(1,0,1),a.beginFill(16776960,1),a.drawCircle(0,0,this.CONTROL_SIZE/this.RELATIVE_SCALE),a.name="rotateControl1";var h=new PIXI.Graphics;h.lineStyle(1,0,1),h.beginFill(16776960,1),h.drawCircle(0,0,this.CONTROL_SIZE/this.RELATIVE_SCALE),h.name="rotateControl2";var u=new PIXI.Graphics;u.lineStyle(1,0,1),u.beginFill(16776960,1),u.drawCircle(0,0,this.CONTROL_SIZE/this.RELATIVE_SCALE),u.name="rotateControl3";var l=new PIXI.Graphics;l.lineStyle(1,0,1),l.beginFill(16776960,1),l.drawCircle(0,0,this.CONTROL_SIZE/this.RELATIVE_SCALE),l.name="rotateControl4";var c=new PIXI.Container;c.addChild(s),c.addChild(n),c.addChild(a),c.addChild(h),c.addChild(u),c.addChild(l);var f=new PIXI.Graphics;f.lineStyle(1,0,1),f.beginFill(16711680,1),f.drawCircle(0,0,this.CONTROL_SIZE/this.RELATIVE_SCALE);var p=new PIXI.Container;if(p.addChild(c),this.addChild(p),this.registrationControl=r,this.scaleControl=n,this.rotateControl=a,this.rotateControl2=h,this.rotateControl3=u,this.rotateControl4=l,this.ghostLayer=e,this.registrationLayer=i,this.scaleLayer=s,this.rotateLayer=c,this.translateLayer=p,p.position=t.position,c.rotation=t.rotation,s.scale=t.scale,e.position.x=-t.originalSize.width*t.pivotPercent.x,e.position.y=-t.originalSize.height*t.pivotPercent.y,this._positionControls(),this.LOCK_REGISTRATION_POINT&&(r.visible=!1),"desktop"!=GDevice.type&&(a.visible=!1,h.visible=!1,u.visible=!1,l.visible=!1,r.visible=!1),f.visible=!1,"desktop"==GDevice.type){for(o=0;o<4;o++){var d=n["p"+o];this._addDragScale(d)}this._addDragRegistration(r),this._addDragRotate(a),this._addDragRotate(h),this._addDragRotate(u),this._addDragRotate(l)}this._addDragTranslate(e),this.visible=!0},t.prototype.on=function(t,e){"change"==t?this.ON_CHANGE_CALLBACK=e:"blur"===t&&(this.ON_BLUR_CALLBACK=e)},t.prototype.off=function(t){"change"==t?this.ON_CHANGE_CALLBACK=null:"blur"===t&&(this.ON_BLUR_CALLBACK=null)},t.prototype.reset=function(){scope.DEBUGGING&&console.log("[TransformTool] Reset"),this.target=null},t.prototype._positionControls=function(){var t=this.target;this.scaleLayer.scale.x=t.scale.x,this.scaleLayer.scale.y=t.scale.y,this.translateLayer.x=t.x,this.translateLayer.y=t.y,this.ghostLayer.position.x=-t.originalSize.width*t.pivotPercent.x,this.ghostLayer.position.y=-t.originalSize.height*t.pivotPercent.y,this.registrationControl.position.x=this.ghostLayer.position.x+this.ghostLayer.width*t.pivotPercent.x,this.registrationControl.position.y=this.ghostLayer.position.y+this.ghostLayer.height*t.pivotPercent.y,this.registrationControl.scale.set(1/t.scale.x,1/t.scale.y);for(var e=0;e<4;e++){var r=this.scaleControl["p"+e];0==e&&r.position.set(-t.width*t.pivotPercent.x,-t.height*t.pivotPercent.y),1==e&&r.position.set(t.width*(1-t.pivotPercent.x),-t.height*t.pivotPercent.y),2==e&&r.position.set(t.width*(1-t.pivotPercent.x),t.height*(1-t.pivotPercent.y)),3==e&&r.position.set(-t.width*t.pivotPercent.x,t.height*(1-t.pivotPercent.y))}var i={x:t.pivotPercent.x,y:t.pivotPercent.y};this.DEBUGGING&&console.log("newAnchor:",i),this.scaleControl.p0.visible=!(i.x<.05&&i.y<.05&&i.x>-.1&&i.y>-.1),this.scaleControl.p1.visible=!(i.x>.95&&i.y<.05&&i.x<1.1&&i.y>-.1),this.scaleControl.p2.visible=!(i.x>.95&&i.y>.95&&i.x<1.1&&i.y>.9),this.scaleControl.p3.visible=!(i.x<.05&&i.y>.95&&i.x>-.1&&i.y>.9),this.rotateControl.position.x=-t.width*t.pivotPercent.x-15,this.rotateControl.position.y=t.height*-t.pivotPercent.y-15,this.rotateControl2.position.x=t.width*(1-t.pivotPercent.x)+15,this.rotateControl2.position.y=t.height*-t.pivotPercent.y-15,this.rotateControl3.position.x=t.width*(1-t.pivotPercent.x)+15,this.rotateControl3.position.y=t.height*(1-t.pivotPercent.y)+15,this.rotateControl4.position.x=-t.width*t.pivotPercent.x-15,this.rotateControl4.position.y=t.height*(1-t.pivotPercent.y)+15},t.prototype._setRegistrationPoint=function(t,e){var r=this.target,i=this.registrationControl;i.x=this.ghostLayer.x+r.originalSize.width*t,i.y=this.ghostLayer.y+r.originalSize.height*e,GPixi.setPivotPercentWithoutMoving(r,t,e),this._positionControls()},t.prototype._changeAnchor=function(t,e){var r=this.target;GPixi.setPivotPercentWithoutMoving(r,t,e),this._positionControls()},t.prototype._addDragRegistration=function(t){this.DEBUGGING&&console.log("[TransformTool] _addDragRegistration: "+this.name);var e,r=this;function i(t){return r.target.position,this.on("mousemove",s),this.on("touchmove",s),!0}function n(t){return this.off("mousemove",s),this.off("touchmove",s),r._setRegistrationPoint(e.x,e.y),!0}function s(t){var i=t.data.getLocalPosition(this.parent);this.position=i;var n=r.target;return e={x:(this.position.x-r.ghostLayer.position.x)/n.originalSize.width,y:(this.position.y-r.ghostLayer.position.y)/n.originalSize.height},r.DEBUGGING&&console.log("newAnchor: ",e),e.x<.05&&e.y<.05&&e.x>-.1&&e.y>-.1?r.scaleControl.p0.visible=!1:r.scaleControl.p0.visible=!0,e.x>.95&&e.y<.05&&e.x<1.1&&e.y>-.1?r.scaleControl.p1.visible=!1:r.scaleControl.p1.visible=!0,e.x>.95&&e.y>.95&&e.x<1.1&&e.y>.9?r.scaleControl.p2.visible=!1:r.scaleControl.p2.visible=!0,e.x<.05&&e.y>.95&&e.x>-.1&&e.y>.9?r.scaleControl.p3.visible=!1:r.scaleControl.p3.visible=!0,!0}t.interactive=!0,t.on("mousedown",i),t.on("touchstart",i),t.on("mouseup",n),t.on("touchend",n),t.on("mouseupoutside",n),t.on("touchendoutside",n)},t.prototype._addDragRotate=function(t){var e,r=this,i=this,n=0;function s(t){t.data.getLocalPosition(this);var s=t.data.getLocalPosition(i.rotateLayer.parent);return n=GMath.angleRadBetween2Points(s,{x:0,y:0}),e=i.target.rotation,r.DEBUGGING&&console.log(this.name),this.on("mousemove",a),this.on("touchmove",a),!0}function o(t){return this.off("mousemove",a),this.off("touchmove",a),i.ON_BLUR_CALLBACK&&i.ON_BLUR_CALLBACK(i._getTransformation()),!0}function a(t){var r=t.data.getLocalPosition(i.rotateLayer.parent),s=GMath.angleRadBetween2Points(r,{x:0,y:0})-n;return i.target.rotation=e+s,i.rotateLayer.rotation=i.target.rotation,i.ON_CHANGE_CALLBACK&&i.ON_CHANGE_CALLBACK(i._getTransformation()),!0}r.DEBUGGING&&console.log("[TransformTool] _addDragRotate:",t.name),t.interactive=!0,t.on("mousedown",s),t.on("touchstart",s),t.on("mouseup",o),t.on("touchend",o),t.on("mouseupoutside",o),t.on("touchendoutside",o)},t.prototype._getTransformation=function(){return{rotation:this.target.rotation,scaleX:this.target.scale.x,scaleY:this.target.scale.y,x:this.target.x,y:this.target.y}},t.prototype._addDragTranslate=function(t){var e=this,r={},i={};function n(t){return r={x:e.target.x,y:e.target.y},i=t.data.getLocalPosition(e.target.parent),this.on("mousemove",o),this.on("touchmove",o),!0}function s(t){return this.off("mousemove",o),this.off("touchmove",o),e.ON_BLUR_CALLBACK&&e.ON_BLUR_CALLBACK(e._getTransformation()),!0}function o(t){if(!(void 0!==t.data.originalEvent.touches&&t.data.originalEvent.touches.length>1)){var n=t.data.getLocalPosition(e.target.parent),s=n.x-i.x,o=n.y-i.y;return e.target.position.x=r.x+s,e.target.position.y=r.y+o,e.translateLayer.x=e.target.x,e.translateLayer.y=e.target.y,e.ON_CHANGE_CALLBACK&&e.ON_CHANGE_CALLBACK(e._getTransformation()),!0}}this.DEBUGGING&&console.log("[TransformTool] _addDragTranslate"),t.interactive=!0,t.buttonMode=!0,t.on("mousedown",n),t.on("touchstart",n),t.on("mouseup",s),t.on("touchend",s),t.on("mouseupoutside",s),t.on("touchendoutside",s)},t.prototype._addDragScale=function(t){var e,r,i=this,n=this,s=0;function o(t){return t.data.getLocalPosition(this.parent),t.data.getLocalPosition(n.target.parent),s={x:n.target.scale.x,y:n.target.scale.y},e={x:n.target.pivotPercent.x,y:n.target.pivotPercent.y},i.DEBUGGING&&console.log("curAnchor: ",e),this.on("mousemove",h),this.on("touchmove",h),!0}function a(t){return this.off("mousemove",h),this.off("touchmove",h),n.ON_BLUR_CALLBACK&&n.ON_BLUR_CALLBACK(n._getTransformation()),!0}function h(t){var i=n.target,o=t.data.getLocalPosition(this.parent);this.position=o;var a=n.scaleControl.p0,h=n.scaleControl.p1,u=n.scaleControl.p2,l=n.scaleControl.p3;0==this.id&&(l.position.x=this.position.x,h.position.y=this.position.y),1==this.id&&(u.position.x=this.position.x,a.position.y=this.position.y),2==this.id&&(h.position.x=this.position.x,l.position.y=this.position.y),3==this.id&&(a.position.x=this.position.x,u.position.y=this.position.y);var c=u.position.x-a.position.x,f=u.position.y-a.position.y,p=1*c/i.originalSize.width,d=1*f/i.originalSize.height,m=p-s.x,y=s.y*m/s.x;return n.SCALE_BY_RATIO&&(d=s.y+y),0==this.id&&(r={x:1,y:1}),1==this.id&&(r={x:0,y:1}),2==this.id&&(r={x:0,y:0}),3==this.id&&(r={x:1,y:0}),n.CTRL_HOLD||n._setRegistrationPoint(r.x,r.y),i.scale.set(p,d),n._setRegistrationPoint(e.x,e.y),n.ON_CHANGE_CALLBACK&&n.ON_CHANGE_CALLBACK(n._getTransformation()),!0}i.DEBUGGING&&console.log("[TransformTool] _addDragScale: "+this.name),t.interactive=!0,t.on("mousedown",o),t.on("touchstart",o),t.on("mouseup",a),t.on("touchend",a),t.on("mouseupoutside",a),t.on("touchendoutside",a)},t.prototype._addCornerDrag=function(t){var e={},r=this;function i(t){e=t.data.getLocalPosition(this);var r=t.data.getLocalPosition(this.parent);return r.x-=e.x,r.y-=e.y,this.position=r,this.on("mousemove",s),this.on("touchmove",s),!0}function n(t){return r.DEBUGGING&&console.log("end drag"),this.off("mousemove",s),this.off("touchmove",s),!0}function s(t){var i=t.data.getLocalPosition(this.parent);i.x-=e.x,i.y-=e.y,1!=this.id&&5!=this.id&&(this.position.x=i.x),3!=this.id&&7!=this.id&&(this.position.y=i.y),0==this.id&&(r.corners[1].position.y=r.corners[2].position.y=this.position.y,r.corners[7].position.x=r.corners[6].position.x=this.position.x),1==this.id&&(r.corners[0].position.y=r.corners[2].position.y=this.position.y),2==this.id&&(r.corners[3].position.x=r.corners[4].position.x=this.position.x,r.corners[0].position.y=r.corners[1].position.y=this.position.y),3==this.id&&(r.corners[2].position.x=r.corners[4].position.x=this.position.x),4==this.id&&(r.corners[2].position.x=r.corners[3].position.x=this.position.x,r.corners[5].position.y=r.corners[6].position.y=this.position.y),5==this.id&&(r.corners[4].position.y=r.corners[6].position.y=this.position.y),6==this.id&&(r.corners[0].position.x=r.corners[7].position.x=this.position.x,r.corners[4].position.y=r.corners[5].position.y=this.position.y),7==this.id&&(r.corners[0].position.x=r.corners[6].position.x=this.position.x);var n=r.corners[4].position.x-r.corners[0].position.x,s=r.corners[4].position.y-r.corners[0].position.y;r.corners[1].position.x=r.corners[5].position.x=r.corners[0].position.x+n/2,r.corners[3].position.y=r.corners[7].position.y=r.corners[0].position.y+s/2,r.moveLayer.position.x=r.corners[0].position.x,r.moveLayer.position.y=r.corners[0].position.y,r.moveLayer.layer.width=n,r.moveLayer.layer.height=s,r.target.position=r.corners[0].position;var o=n/r.target.originalSize.width,a=s/r.target.originalSize.height;return r.target.scale.set(o,a),r.positionCorner(),!0}t.on("mousedown",i),t.on("touchstart",i),t.on("mouseup",n),t.on("touchend",n),t.on("mouseupoutside",n),t.on("touchendoutside",n)},t.prototype._addDrag=function(t){var e=null,r=this;function i(t){e=t.data.getLocalPosition(this);var r=t.data.getLocalPosition(this.parent);return r.x-=e.x,r.y-=e.y,this.position=r,this.on("mousemove",s),this.on("touchmove",s),!0}function n(t){return this.off("mousemove",s),this.off("touchmove",s),!0}function s(t){e||(e=t.data.getLocalPosition(this));var i=t.data.getLocalPosition(this.parent);return i.x-=e.x,i.y-=e.y,this.position=i,r.target.position=this.position,r.rotateLayer.position=this.position,r.positionCorner(),!0}t.on("mousedown",i),t.on("touchstart",i),t.on("mouseup",n),t.on("touchend",n),t.on("mouseupoutside",n),t.on("touchendoutside",n),t.on("mousemove",s),t.on("touchmove",s)},t.prototype.positionCorner=function(){var t=this.moveLayer;if(t){var e=t.layer.width,r=t.layer.height;this.corners[0].position.set(t.position.x,t.position.y),this.corners[1].position.set(t.position.x+e/2,t.position.y),this.corners[2].position.set(t.position.x+e,t.position.y),this.corners[3].position.set(t.position.x+e,t.position.y+r/2),this.corners[4].position.set(t.position.x+e,t.position.y+r),this.corners[5].position.set(t.position.x+e/2,t.position.y+r),this.corners[6].position.set(t.position.x,t.position.y+r),this.corners[7].position.set(t.position.x,t.position.y+r/2),this.rotateLayer.pivotCorner.x=e/2,this.rotateLayer.pivotCorner.y=r/2}},PIXI.TransformTool=t}).call(this)},function(t,e){r||(r={}),Object.assign(PIXI.Container.prototype,{renderWebGL:function(t){this._activeParentLayer&&this._activeParentLayer!=t._activeLayer||(this.visible?(this.displayOrder=t.incDisplayOrder(),this.worldAlpha<=0||!this.renderable||this.containerRenderWebGL(t)):this.displayOrder=0)},renderCanvas:function(t){this._activeParentLayer&&this._activeParentLayer!=t._activeLayer||(this.visible?(this.displayOrder=t.incDisplayOrder(),this.worldAlpha<=0||!this.renderable||this.containerRenderCanvas(t)):this.displayOrder=0)},containerRenderWebGL:PIXI.Container.prototype.renderWebGL,containerRenderCanvas:PIXI.Container.prototype.renderCanvas}),Object.assign(PIXI.DisplayObject.prototype,{parentLayer:null,_activeParentLayer:null,parentGroup:null,zOrder:0,zIndex:0,updateOrder:0,displayOrder:0,layerableChildren:!0}),PIXI.particles&&PIXI.particles.ParticleContainer?PIXI.particles.ParticleContainer.prototype.layerableChildren=!1:PIXI.ParticleContainer&&(PIXI.ParticleContainer.prototype.layerableChildren=!1);var r,i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){var e=function(t){function e(e,r){var i=t.call(this)||this;return i._activeLayer=null,i._activeStage=null,i._activeChildren=[],i._lastUpdateId=-1,i.useRenderTexture=!1,i.useDoubleBuffer=!1,i.sortPriority=0,i.clearColor=new Float32Array([0,0,0,0]),i.canDrawWithoutLayer=!1,i.canDrawInParentStage=!0,i.zIndex=0,i.enableSort=!1,i._tempResult=[],i._tempZero=[],i.useZeroOptimization=!1,i.zIndex=e,i.enableSort=!!r,"function"==typeof r&&i.on("sort",r),i}return i(e,t),e.prototype.doSort=function(t,r){if(this.listeners("sort",!0))for(var i=0;i<r.length;i++)this.emit("sort",r[i]);this.useZeroOptimization?this.doSortWithZeroOptimization(t,r):r.sort(e.compareZIndex)},e.compareZIndex=function(t,e){return t.zIndex!==e.zIndex?t.zIndex-e.zIndex:t.zOrder>e.zOrder?-1:t.zOrder<e.zOrder?1:t.updateOrder-e.updateOrder},e.prototype.doSortWithZeroOptimization=function(t,e){throw new Error("not implemented yet")},e.prototype.clear=function(){this._activeLayer=null,this._activeStage=null,this._activeChildren.length=0},e.prototype.addDisplayObject=function(t,e){this.check(t),e._activeParentLayer=this._activeLayer,this._activeLayer?this._activeLayer._activeChildren.push(e):this._activeChildren.push(e)},e.prototype.foundLayer=function(t,r){this.check(t),null!=this._activeLayer&&e.conflict(),this._activeLayer=r,this._activeStage=t},e.prototype.foundStage=function(t){this._activeLayer||this.canDrawInParentStage||this.clear()},e.prototype.check=function(t){if(this._lastUpdateId<e._layerUpdateId)this._lastUpdateId=e._layerUpdateId,this.clear(),this._activeStage=t;else if(this.canDrawInParentStage){for(var r=this._activeStage;r&&r!=t;)r=r._activeParentStage;if(this._activeStage=r,null==r)return void this.clear()}},e.conflict=function(){e._lastLayerConflict+5e3<Date.now()&&(e._lastLayerConflict=Date.now(),console.log("PIXI-display plugin found two layers with the same group in one stage - that's not healthy. Please place a breakpoint here and debug it"))},e._layerUpdateId=0,e._lastLayerConflict=0,e}(PIXI.utils.EventEmitter);t.Group=e}(r||(r={})),function(t){var e=PIXI.interaction.InteractionManager;Object.assign(e.prototype,{_queue:[[],[]],_displayProcessInteractive:function(t,e,r,i,n){if(!e||!e.visible)return 0;var s=0,o=i=e.interactive||i;e.hitArea&&(o=!1),e._activeParentLayer&&(n=!1);var a=e._mask;r<1/0&&a&&(a.containsPoint(t)||(n=!0)),r<1/0&&e.filterArea&&(e.filterArea.contains(t.x,t.y)||(n=!0));var h=e.children;if(e.interactiveChildren&&h)for(var u=h.length-1;u>=0;u--){var l=h[u],c=this._displayProcessInteractive(t,l,r,o,n);if(c){if(!l.parent)continue;s=c,r=c}}return i&&(n?e.interactive&&this._queueAdd(e,0):(r<e.displayOrder&&(e.hitArea?(e.worldTransform.applyInverse(t,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)&&(s=e.displayOrder)):e.containsPoint&&e.containsPoint(t)&&(s=e.displayOrder)),e.interactive&&this._queueAdd(e,s===1/0?0:s))),s},processInteractive:function(t,e,r,i,n){var s,o=null;s=t.data&&t.data.global?(o=t).data.global:t,this._startInteractionProcess(),this._displayProcessInteractive(s,e,i?0:1/0,!1),this._finishInteractionProcess(o,r)},_startInteractionProcess:function(){this._eventDisplayOrder=1,this._queue||(this._queue=[[],[]]),this._queue[0].length=0,this._queue[1].length=0},_queueAdd:function(t,e){var r=this._queue;if(e<this._eventDisplayOrder)r[0].push(t);else{if(e>this._eventDisplayOrder){this._eventDisplayOrder=e;for(var i=r[1],n=0;n<i.length;n++)r[0].push(i[n]);r[1].length=0}r[1].push(t)}},_finishInteractionProcess:function(t,e){for(var r=this._queue,i=r[0],n=0;n<i.length;n++)t?e&&e(t,i[n],!1):e(i[n],!1);for(i=r[1],n=0;n<i.length;n++)t?(t.target||(t.target=i[n]),e&&e(t,i[n],!0)):e(i[n],!0)}})}(r||(r={})),function(t){var e=function(){function t(t){this.layer=t,this.renderTexture=null,this.doubleBuffer=null,this.currentBufferIndex=0,this._tempRenderTarget=null}return t.prototype.initRenderTexture=function(t){var e=t?t.screen.width:100,r=t?t.screen.height:100,i=t?t.resolution:PIXI.settings.RESOLUTION;this.renderTexture=PIXI.RenderTexture.create(e,r,i),this.layer.group.useDoubleBuffer&&(this.doubleBuffer=[PIXI.RenderTexture.create(e,r,i),PIXI.RenderTexture.create(e,r,i)])},t.prototype.getRenderTexture=function(){return this.renderTexture||this.initRenderTexture(),this.renderTexture},t.prototype.pushTexture=function(t){var e=t.screen;this.renderTexture||this.initRenderTexture(t);var r=this.renderTexture,i=this.layer.group,n=this.doubleBuffer;if(r.width===e.width&&r.height===e.height&&r.baseTexture.resolution===t.resolution||(r.baseTexture.resolution=t.resolution,r.resize(e.width,e.height),n&&(n[0].baseTexture.resolution=t.resolution,n[0].resize(e.width,e.height),n[1].baseTexture.resolution=t.resolution,n[1].resize(e.width,e.height))),this._tempRenderTarget=t._activeRenderTarget,t.currentRenderer.flush(),i.useDoubleBuffer){var s=n[this.currentBufferIndex];s.baseTexture._glTextures[t.CONTEXT_UID]||(t.bindRenderTexture(s,null),i.clearColor&&t.clear(i.clearColor)),t.unbindTexture(r),r.baseTexture._glTextures=s.baseTexture._glTextures,r.baseTexture._glRenderTargets=s.baseTexture._glRenderTargets,this.currentBufferIndex=1-this.currentBufferIndex,s=n[this.currentBufferIndex],t.bindRenderTexture(s,null)}else t.bindRenderTexture(r,void 0);i.clearColor&&t.clear(i.clearColor)},t.prototype.popTexture=function(t){t.currentRenderer.flush(),t.bindRenderTarget(this._tempRenderTarget),this._tempRenderTarget=null},t.prototype.destroy=function(){this.renderTexture&&(this.renderTexture.destroy(),this.doubleBuffer&&(this.doubleBuffer[0].destroy(!0),this.doubleBuffer[1].destroy(!0)))},t}();t.LayerTextureCache=e;var r=function(r){function n(e){void 0===e&&(e=null);var i=r.call(this)||this;return i.isLayer=!0,i.group=null,i._activeChildren=[],i._tempChildren=null,i._activeStageParent=null,i._sortedChildren=[],i._tempLayerParent=null,i.insertChildrenBeforeActive=!0,i.insertChildrenAfterActive=!0,null!=e?(i.group=e,i.zIndex=e.zIndex):i.group=new t.Group(0,!1),i._tempChildren=i.children,i}return i(n,r),n.prototype.beginWork=function(t){var e=this._activeChildren;this._activeStageParent=t,this.group.foundLayer(t,this);var r=this.group._activeChildren;e.length=0;for(var i=0;i<r.length;i++)r[i]._activeParentLayer=this,e.push(r[i]);r.length=0},n.prototype.endWork=function(){for(var t=this.children,e=this._activeChildren,r=this._sortedChildren,i=0;i<e.length;i++)this.emit("display",e[i]);if(r.length=0,this.insertChildrenBeforeActive)for(i=0;i<t.length;i++)r.push(t[i]);for(i=0;i<e.length;i++)r.push(e[i]);if(!this.insertChildrenBeforeActive&&this.insertChildrenAfterActive)for(i=0;i<t.length;i++)r.push(t[i]);this.group.enableSort&&this.doSort()},Object.defineProperty(n.prototype,"useRenderTexture",{get:function(){return this.group.useRenderTexture},set:function(t){this.group.useRenderTexture=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useDoubleBuffer",{get:function(){return this.group.useDoubleBuffer},set:function(t){this.group.useDoubleBuffer=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clearColor",{get:function(){return this.group.clearColor},set:function(t){this.group.clearColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortPriority",{get:function(){return this.group.sortPriority},set:function(t){this.group.sortPriority=t},enumerable:!0,configurable:!0}),n.prototype.getRenderTexture=function(){return this.textureCache||(this.textureCache=new e(this)),this.textureCache.getRenderTexture()},n.prototype.updateDisplayLayers=function(){},n.prototype.doSort=function(){this.group.doSort(this,this._sortedChildren)},n.prototype._preRender=function(t){return!(this._activeParentLayer&&this._activeParentLayer!=t._activeLayer||(this.visible?(this.displayOrder=t.incDisplayOrder(),this.worldAlpha<=0||!this.renderable||(this.children!==this._sortedChildren&&this._tempChildren!=this.children&&(this._tempChildren=this.children),this._boundsID++,this.children=this._sortedChildren,this._tempLayerParent=t._activeLayer,t._activeLayer=this,0)):(this.displayOrder=0,1)))},n.prototype._postRender=function(t){this.children=this._tempChildren,t._activeLayer=this._tempLayerParent,this._tempLayerParent=null},n.prototype.renderWebGL=function(t){this._preRender(t)&&(this.group.useRenderTexture&&(this.textureCache||(this.textureCache=new e(this)),this.textureCache.pushTexture(t)),this.containerRenderWebGL(t),this._postRender(t),this.group.useRenderTexture&&this.textureCache.popTexture(t))},n.prototype.renderCanvas=function(t){this._preRender(t)&&(this.containerRenderCanvas(t),this._postRender(t))},n.prototype.destroy=function(t){this.textureCache&&(this.textureCache.destroy(),this.textureCache=null),r.prototype.destroy.call(this,t)},n}(PIXI.Container);t.Layer=r}(r||(r={})),function(t){var e=function(e){function r(){var t=e.call(this)||this;return t.isStage=!0,t._tempGroups=[],t._activeLayers=[],t._activeParentStage=null,t}return i(r,e),r.prototype.clear=function(){this._activeLayers.length=0,this._tempGroups.length=0},r.prototype.destroy=function(t){this.clear(),e.prototype.destroy.call(this,t)},r.prototype._addRecursive=function(t){if(t.visible){if(t.isLayer){var e=t;this._activeLayers.push(e),e.beginWork(this)}if(t!=this&&t.isStage)t.updateAsChildStage(this);else{var i=t.parentGroup;null!==i&&i.addDisplayObject(this,t);var n=t.parentLayer;if(null!==n&&(i=n.group).addDisplayObject(this,t),t.updateOrder=++r._updateOrderCounter,!(t.alpha<=0||!t.renderable||!t.layerableChildren||i&&i.sortPriority)){var s=t.children;if(s&&s.length)for(var o=0;o<s.length;o++)this._addRecursive(s[o])}}}},r.prototype._addRecursiveChildren=function(t){if(!(t.alpha<=0)&&t.renderable&&t.layerableChildren){var e=t.children;if(e&&e.length)for(var r=0;r<e.length;r++)this._addRecursive(e[r])}},r.prototype._updateStageInner=function(){this.clear(),this._addRecursive(this);for(var t=this._activeLayers,e=0;e<t.length;e++)if((n=t[e]).group.sortPriority){n.endWork();for(var r=n._sortedChildren,i=0;i<r.length;i++)this._addRecursiveChildren(r[i])}for(e=0;e<t.length;e++){var n;(n=t[e]).group.sortPriority||n.endWork()}},r.prototype.updateAsChildStage=function(t){this._activeParentStage=t,r._updateOrderCounter=0,this._updateStageInner()},r.prototype.updateStage=function(){this._activeParentStage=null,t.Group._layerUpdateId++,this._updateStageInner()},r._updateOrderCounter=0,r}(t.Layer);t.Stage=e}(r||(r={})),r||(r={}),Object.assign(PIXI.WebGLRenderer.prototype,{_lastDisplayOrder:0,_activeLayer:null,incDisplayOrder:function(){return++this._lastDisplayOrder},_oldRender:PIXI.WebGLRenderer.prototype.render,render:function(t,e,r,i,n){e||(this._lastDisplayOrder=0),this._activeLayer=null,t.isStage&&t.updateStage(),this._oldRender(t,e,r,i,n)}}),Object.assign(PIXI.CanvasRenderer.prototype,{_lastDisplayOrder:0,_activeLayer:null,incDisplayOrder:function(){return++this._lastDisplayOrder},_oldRender:PIXI.CanvasRenderer.prototype.render,render:function(t,e,r,i,n){e||(this._lastDisplayOrder=0),this._activeLayer=null,t.isStage&&t.updateStage(),this._oldRender(t,e,r,i,n)}}),function(t){PIXI.display=t}(r||(r={}))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(281),n=r(166),s=r(285),o=r(292),a=r(319),h=r(320),u=r(43);e.SlidePlayer=class{constructor(t){this.duration=0,this.startTime=0,this.endTime=0,this.clipPlayers=[],this.effectPlayers=[],this.transitionProvider=s.TransitionsProvider.getInstance(),this.timeline=new u.TimelineFull({paused:!0}),this.id=t.id,this.editor=t.editor,t.container&&this.attachView(t.container),this.config=t.config,this.updateConfig(this.config)}updateConfig(t){console.log("SlidePlayer updateConfig",t),t&&this.updateBackground(t.background)}updateBackground(t){if(!t||!this.host)return;const e=new i.Gradient(t,this.config.width,this.config.height);let r=0;this.backgroundSprite&&(r=this.host.getChildIndex(this.backgroundSprite),this.host.removeChild(this.backgroundSprite)),this.backgroundSprite=e.getSprite(),this.host.addChildAt(this.backgroundSprite,r)}attachView(t){this.container=t,this.host=this.container,this.applyAllClips(t=>t.attachView(this.host)),this.applyAllEffects(t=>t.attachView(this.host))}play(t){console.log("slide player play"),this.container.alpha=1,this.paused=!1,this.applyAllClips(t=>t.play()),this.applyAllEffects(t=>t.play()),this.timeline.play()}pause(){console.log("slide player pause"),this.paused=!0,this.applyAllClips(t=>t.pause()),this.applyAllEffects(t=>t.pause()),this.timeline.pause()}reset(){console.log("slide player reset"),this.applyAllClips(t=>t.reset()),this.applyAllEffects(t=>t.reset()),this.timeline.seek(0,!1)}stop(){this.container.alpha=0,this.reset(),this.pause(),this.timeline.restart()}update(t,e,r){this.currentTime=e-this.startTime;const i=this.isOnTime(e);r?this.paused||this.pause():this.paused?i&&(this.reset(),this.play()):i?(this.applyAllClips(e=>e.update(t,this.currentTime,this.paused)),this.applyAllEffects(e=>e.update(t,this.currentTime,this.paused))):this.stop(),this.container.alpha=i?1:0}updateVisible(t){t>=this.startTime&&"number"==typeof this.endTime&&this.endTime}render(){this.applyAllClips(t=>t.pause()),this.applyAllEffects(t=>t.pause())}updateSlide(t){t&&(this.config=t.config,this.updateClips(t.clips),this.updateEffects(t.effects),this.updateTransition(t.transition),this.updateConfig(this.config))}setVisible(t){this.host.visible=t}setStartTime(t){this.startTime=t,this.endTime=this.startTime+this.duration}destroy(){console.log("SlidePlayer","destroy"),this.stop(),this.clipPlayers.forEach(t=>t.destroy()),this.effectPlayers.forEach(t=>t.destroy()),this.clipPlayers=[],this.effectPlayers=[],this.timeline.kill(),delete this.timeline}selectEffect(t){const e=this.getEffectPlayerById(t);e&&e.select()}unselectEffect(){this.applyAllEffects(t=>t.unselect())}updateTransition(t){t&&(t.enter&&this.updateEnterTransition(t.enter),t.present&&this.updatePresentTransition(t.present),t.leave&&this.updateLeaveTransition(t.leave))}updateEnterTransition(t){this.enterTransition&&this.timeline.remove(this.enterTransition),t.transId&&(this.enterTransition=this.buildTransitionTimeline(t.transId,{target:this.host}),this.timeline.add(this.enterTransition.play()))}updatePresentTransition(t){this.presentTransition&&this.timeline.remove(this.presentTransition),t.transId&&(this.presentTransition=this.buildTransitionTimeline(t.transId,{target:this.host}),this.timeline.add(this.presentTransition.play()))}updateLeaveTransition(t){this.leaveTransition&&this.timeline.remove(this.leaveTransition),t.transId&&(this.leaveTransition=this.buildTransitionTimeline(t.transId,{target:this.host}),this.timeline.add(this.leaveTransition.play()))}buildTransitionTimeline(t,e){return this.transitionProvider.fatory(t,{target:this.host})}isOnTime(t){return t>=this.startTime&&"number"==typeof this.endTime&&t<=this.endTime}updateClips(t){if(t&&Array.isArray(t))for(const e of t)this.hasOwnClip(e.id)?this.updateClip(e):this.initClip(e)}updateEffects(t){if(t&&Array.isArray(t))for(const e of t)this.hasOwnEffect(e.id)?this.updateEffect(e):this.initEffect(e)}updateDuration(t){console.log("SlidePlayer updateDuration",t),this.duration=t,this.endTime=this.startTime+this.duration,this.nextSlide&&this.nextSlide.setStartTime(this.endTime),"function"==typeof this.onDurationChange&&this.onDurationChange(this.duration)}updateClip(t){this.getClipPlayerById(t.id).updateClip(t)}initClip(t){const e=this.createClipPlayer(t);e.onDurationChange=this.updateDuration.bind(this),e.onPlay=this.onClipPlay.bind(this,e),e.onEnded=this.onClipEnded.bind(this,e),this.clipPlayers.push(e)}updateEffect(t){this.getEffectPlayerById(t.id).updateEffect(t)}initEffect(t){const e=this.createEffectPlayer(t);e.onDurationChange=this._onEffectDrationChange.bind(this),e.onPlay=this._onEffectPlay.bind(this,e),e.onEnded=this._onEffectEnded.bind(this,e),e.onClick=this._onEffectClick.bind(this,e),e.onTransform=this._onEffectTransform.bind(this,e),e.onSelect=this._onEffectSize.bind(this,e),this.effectPlayers.push(e)}onClipPlay(t){"function"==typeof this.onPlay&&this.onPlay()}onClipEnded(t){"function"==typeof this.onEnded&&this.onEnded()}createClipPlayer(t){const e=this.createContainerWidthLayer(1),r={id:t.id,container:e};switch(console.log("SlidePlayer","createClipPlayer",t.type),t.type){case n.MasherClipType.Image:return new a.Imagelayer(Object.assign({src:t.src},r,{startTime:0}));case n.MasherClipType.Video:return new h.VideoPlayer(Object.assign({src:t.src},r,{startTime:0}))}}createEffectPlayer(t){const e={container:this.createContainerWidthLayer(2),id:t.id,effectId:t.effectId,config:t.config,startTime:0,editor:this.editor,animations:t.animations};return new o.EffectPlayer(e)}hasOwnClip(t){return!!this.clipPlayers.find(e=>e.id===t)}hasOwnEffect(t){return!!this.effectPlayers.find(e=>e.id===t)}applyAllClips(t){this.getClipPlayers().forEach(t)}applyAllEffects(t){this.getAllEffectPlayers().forEach(t)}getClipPlayers(){return this.clipPlayers}getClipPlayerById(t){return this.clipPlayers.find(e=>e.id===t)}getEffectPlayerById(t){return this.effectPlayers.find(e=>e.id===t)}getAllEffectPlayers(){return this.effectPlayers}_onEffectDrationChange(t){console.log("SlidePlayer _onEffectDrationChange",t),t>this.duration&&this.updateDuration(t)}_onEffectPlay(){}_onEffectEnded(){}_onEffectClick(t){"function"==typeof this.onEffectClick&&this.onEffectClick(t)}_onEffectTransform(t,e){"function"==typeof this.onEffectTransform&&this.onEffectTransform(t,e)}_onEffectSize(t,e){"function"==typeof this.onEffectSize&&this.onEffectSize(t,e)}createContainerWidthLayer(t){const e=new PIXI.Container;return e.zIndex=t,e.displayOrder=t,e.zOrder=t,this.host.addChild(e),this.host.children=this.host.children.sort((t,e)=>t.zIndex-e.zIndex),e}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(166);e.Gradient=class{constructor(t,e,r){this.config=t,this.width=e,this.height=r,this.sprite=this._buildSprite(this.config,this.width,this.height)}_buildSprite(t,e,r){const n=document.createElement("canvas");n.width=e,n.height=r;const s=n.getContext("2d");let o=null;switch(t.type){case i.BACKGROUND_CONFIG.LINEAR:o=s.createLinearGradient(0,r/2,e,r/2);break;case i.BACKGROUND_CONFIG.CIRCLE:{const t=Math.max(e/2,r/2)/10,i=Math.max(e/2,r/2);console.log(e),o=s.createRadialGradient(e/2,r/2,t,e/2,r/2,i);break}default:o=s.createLinearGradient(0,0,e,r)}for(let e of t.range)o.addColorStop(e.position,e.color||"#fff");s.fillStyle=o,s.fillRect(0,0,e,r);const a=PIXI.Texture.fromCanvas(n);return new PIXI.Sprite(a)}getSprite(){return this.sprite}}},function(t,e,r){var i=r(283),n=r(284);t.exports=function(t,e,r){var s=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var a=0;a<16;++a)e[s+a]=o[a];return e||n(o)}},function(t,e){var r="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(r){var i=new Uint8Array(16);t.exports=function(){return r(i),i}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}},function(t,e){for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);t.exports=function(t,e){var i=e||0,n=r;return n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(167),n=r(109);class s{constructor(){this.injector=n.Injector.getInstance()}static getInstance(){return s.instance||(s.instance=new s),s.instance}fatory(t,e){return this.injector.get(i.TransitionFactoryService).factory(t,e)}}e.TransitionsProvider=s},function(t,e,r){(function(t,i){var n;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
(function(){var s,o=200,a="Expected a function",h="__lodash_hash_undefined__",u="__lodash_placeholder__",l=1,c=2,f=4,p=1,d=2,m=1,y=2,v=4,g=8,_=16,b=32,x=64,T=128,w=256,E=512,S=800,P=16,C=1/0,A=9007199254740991,M=1.7976931348623157e308,O=NaN,I=4294967295,D=I-1,R=I>>>1,k=[["ary",T],["bind",m],["bindKey",y],["curry",g],["curryRight",_],["flip",E],["partial",b],["partialRight",x],["rearg",w]],F="[object Arguments]",L="[object Array]",N="[object AsyncFunction]",B="[object Boolean]",j="[object Date]",V="[object DOMException]",z="[object Error]",G="[object Function]",U="[object GeneratorFunction]",X="[object Map]",H="[object Number]",W="[object Null]",Y="[object Object]",q="[object Proxy]",$="[object RegExp]",K="[object Set]",Z="[object String]",J="[object Symbol]",Q="[object Undefined]",tt="[object WeakMap]",et="[object ArrayBuffer]",rt="[object DataView]",it="[object Float32Array]",nt="[object Float64Array]",st="[object Int8Array]",ot="[object Int16Array]",at="[object Int32Array]",ht="[object Uint8Array]",ut="[object Uint8ClampedArray]",lt="[object Uint16Array]",ct="[object Uint32Array]",ft=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,dt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mt=/&(?:amp|lt|gt|quot|#39);/g,yt=/[&<>"']/g,vt=RegExp(mt.source),gt=RegExp(yt.source),_t=/<%-([\s\S]+?)%>/g,bt=/<%([\s\S]+?)%>/g,xt=/<%=([\s\S]+?)%>/g,Tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wt=/^\w*$/,Et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,St=/[\\^$.*+?()[\]{}|]/g,Pt=RegExp(St.source),Ct=/^\s+|\s+$/g,At=/^\s+/,Mt=/\s+$/,Ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,It=/\{\n\/\* \[wrapped with (.+)\] \*/,Dt=/,? & /,Rt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,kt=/\\(\\)?/g,Ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Lt=/\w*$/,Nt=/^[-+]0x[0-9a-f]+$/i,Bt=/^0b[01]+$/i,jt=/^\[object .+?Constructor\]$/,Vt=/^0o[0-7]+$/i,zt=/^(?:0|[1-9]\d*)$/,Gt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ut=/($^)/,Xt=/['\n\r\u2028\u2029\\]/g,Ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Wt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Yt="["+Wt+"]",qt="["+Ht+"]",$t="\\d+",Kt="[a-z\\xdf-\\xf6\\xf8-\\xff]",Zt="[^\\ud800-\\udfff"+Wt+$t+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Jt="\\ud83c[\\udffb-\\udfff]",Qt="[^\\ud800-\\udfff]",te="(?:\\ud83c[\\udde6-\\uddff]){2}",ee="[\\ud800-\\udbff][\\udc00-\\udfff]",re="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ie="(?:"+Kt+"|"+Zt+")",ne="(?:"+re+"|"+Zt+")",se="(?:"+qt+"|"+Jt+")?",oe="[\\ufe0e\\ufe0f]?"+se+"(?:\\u200d(?:"+[Qt,te,ee].join("|")+")[\\ufe0e\\ufe0f]?"+se+")*",ae="(?:"+["[\\u2700-\\u27bf]",te,ee].join("|")+")"+oe,he="(?:"+[Qt+qt+"?",qt,te,ee,"[\\ud800-\\udfff]"].join("|")+")",ue=RegExp("['’]","g"),le=RegExp(qt,"g"),ce=RegExp(Jt+"(?="+Jt+")|"+he+oe,"g"),fe=RegExp([re+"?"+Kt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Yt,re,"$"].join("|")+")",ne+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Yt,re+ie,"$"].join("|")+")",re+"?"+ie+"+(?:['’](?:d|ll|m|re|s|t|ve))?",re+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$t,ae].join("|"),"g"),pe=RegExp("[\\u200d\\ud800-\\udfff"+Ht+"\\ufe0e\\ufe0f]"),de=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,me=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ye=-1,ve={};ve[it]=ve[nt]=ve[st]=ve[ot]=ve[at]=ve[ht]=ve[ut]=ve[lt]=ve[ct]=!0,ve[F]=ve[L]=ve[et]=ve[B]=ve[rt]=ve[j]=ve[z]=ve[G]=ve[X]=ve[H]=ve[Y]=ve[$]=ve[K]=ve[Z]=ve[tt]=!1;var ge={};ge[F]=ge[L]=ge[et]=ge[rt]=ge[B]=ge[j]=ge[it]=ge[nt]=ge[st]=ge[ot]=ge[at]=ge[X]=ge[H]=ge[Y]=ge[$]=ge[K]=ge[Z]=ge[J]=ge[ht]=ge[ut]=ge[lt]=ge[ct]=!0,ge[z]=ge[G]=ge[tt]=!1;var _e={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},be=parseFloat,xe=parseInt,Te="object"==typeof t&&t&&t.Object===Object&&t,we="object"==typeof self&&self&&self.Object===Object&&self,Ee=Te||we||Function("return this")(),Se="object"==typeof e&&e&&!e.nodeType&&e,Pe=Se&&"object"==typeof i&&i&&!i.nodeType&&i,Ce=Pe&&Pe.exports===Se,Ae=Ce&&Te.process,Me=function(){try{return Pe&&Pe.require&&Pe.require("util").types||Ae&&Ae.binding&&Ae.binding("util")}catch(t){}}(),Oe=Me&&Me.isArrayBuffer,Ie=Me&&Me.isDate,De=Me&&Me.isMap,Re=Me&&Me.isRegExp,ke=Me&&Me.isSet,Fe=Me&&Me.isTypedArray;function Le(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Ne(t,e,r,i){for(var n=-1,s=null==t?0:t.length;++n<s;){var o=t[n];e(i,o,r(o),t)}return i}function Be(t,e){for(var r=-1,i=null==t?0:t.length;++r<i&&!1!==e(t[r],r,t););return t}function je(t,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(!e(t[r],r,t))return!1;return!0}function Ve(t,e){for(var r=-1,i=null==t?0:t.length,n=0,s=[];++r<i;){var o=t[r];e(o,r,t)&&(s[n++]=o)}return s}function ze(t,e){return!(null==t||!t.length)&&Ze(t,e,0)>-1}function Ge(t,e,r){for(var i=-1,n=null==t?0:t.length;++i<n;)if(r(e,t[i]))return!0;return!1}function Ue(t,e){for(var r=-1,i=null==t?0:t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}function Xe(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t}function He(t,e,r,i){var n=-1,s=null==t?0:t.length;for(i&&s&&(r=t[++n]);++n<s;)r=e(r,t[n],n,t);return r}function We(t,e,r,i){var n=null==t?0:t.length;for(i&&n&&(r=t[--n]);n--;)r=e(r,t[n],n,t);return r}function Ye(t,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(t[r],r,t))return!0;return!1}var qe=er("length");function $e(t,e,r){var i;return r(t,function(t,r,n){if(e(t,r,n))return i=r,!1}),i}function Ke(t,e,r,i){for(var n=t.length,s=r+(i?1:-1);i?s--:++s<n;)if(e(t[s],s,t))return s;return-1}function Ze(t,e,r){return e==e?function(t,e,r){for(var i=r-1,n=t.length;++i<n;)if(t[i]===e)return i;return-1}(t,e,r):Ke(t,Qe,r)}function Je(t,e,r,i){for(var n=r-1,s=t.length;++n<s;)if(i(t[n],e))return n;return-1}function Qe(t){return t!=t}function tr(t,e){var r=null==t?0:t.length;return r?nr(t,e)/r:O}function er(t){return function(e){return null==e?s:e[t]}}function rr(t){return function(e){return null==t?s:t[e]}}function ir(t,e,r,i,n){return n(t,function(t,n,s){r=i?(i=!1,t):e(r,t,n,s)}),r}function nr(t,e){for(var r,i=-1,n=t.length;++i<n;){var o=e(t[i]);o!==s&&(r=r===s?o:r+o)}return r}function sr(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}function or(t){return function(e){return t(e)}}function ar(t,e){return Ue(e,function(e){return t[e]})}function hr(t,e){return t.has(e)}function ur(t,e){for(var r=-1,i=t.length;++r<i&&Ze(e,t[r],0)>-1;);return r}function lr(t,e){for(var r=t.length;r--&&Ze(e,t[r],0)>-1;);return r}var cr=rr({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),fr=rr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function pr(t){return"\\"+_e[t]}function dr(t){return pe.test(t)}function mr(t){var e=-1,r=Array(t.size);return t.forEach(function(t,i){r[++e]=[i,t]}),r}function yr(t,e){return function(r){return t(e(r))}}function vr(t,e){for(var r=-1,i=t.length,n=0,s=[];++r<i;){var o=t[r];o!==e&&o!==u||(t[r]=u,s[n++]=r)}return s}function gr(t,e){return"__proto__"==e?s:t[e]}function _r(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function br(t){return dr(t)?function(t){for(var e=ce.lastIndex=0;ce.test(t);)++e;return e}(t):qe(t)}function xr(t){return dr(t)?function(t){return t.match(ce)||[]}(t):function(t){return t.split("")}(t)}var Tr=rr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),wr=function t(e){var r=(e=null==e?Ee:wr.defaults(Ee.Object(),e,wr.pick(Ee,me))).Array,i=e.Date,n=e.Error,Ht=e.Function,Wt=e.Math,Yt=e.Object,qt=e.RegExp,$t=e.String,Kt=e.TypeError,Zt=r.prototype,Jt=Ht.prototype,Qt=Yt.prototype,te=e["__core-js_shared__"],ee=Jt.toString,re=Qt.hasOwnProperty,ie=0,ne=function(){var t=/[^.]+$/.exec(te&&te.keys&&te.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),se=Qt.toString,oe=ee.call(Yt),ae=Ee._,he=qt("^"+ee.call(re).replace(St,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=Ce?e.Buffer:s,pe=e.Symbol,_e=e.Uint8Array,Te=ce?ce.allocUnsafe:s,we=yr(Yt.getPrototypeOf,Yt),Se=Yt.create,Pe=Qt.propertyIsEnumerable,Ae=Zt.splice,Me=pe?pe.isConcatSpreadable:s,qe=pe?pe.iterator:s,rr=pe?pe.toStringTag:s,Er=function(){try{var t=ws(Yt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Sr=e.clearTimeout!==Ee.clearTimeout&&e.clearTimeout,Pr=i&&i.now!==Ee.Date.now&&i.now,Cr=e.setTimeout!==Ee.setTimeout&&e.setTimeout,Ar=Wt.ceil,Mr=Wt.floor,Or=Yt.getOwnPropertySymbols,Ir=ce?ce.isBuffer:s,Dr=e.isFinite,Rr=Zt.join,kr=yr(Yt.keys,Yt),Fr=Wt.max,Lr=Wt.min,Nr=i.now,Br=e.parseInt,jr=Wt.random,Vr=Zt.reverse,zr=ws(e,"DataView"),Gr=ws(e,"Map"),Ur=ws(e,"Promise"),Xr=ws(e,"Set"),Hr=ws(e,"WeakMap"),Wr=ws(Yt,"create"),Yr=Hr&&new Hr,qr={},$r=qs(zr),Kr=qs(Gr),Zr=qs(Ur),Jr=qs(Xr),Qr=qs(Hr),ti=pe?pe.prototype:s,ei=ti?ti.valueOf:s,ri=ti?ti.toString:s;function ii(t){if(fa(t)&&!ea(t)&&!(t instanceof ai)){if(t instanceof oi)return t;if(re.call(t,"__wrapped__"))return $s(t)}return new oi(t)}var ni=function(){function t(){}return function(e){if(!ca(e))return{};if(Se)return Se(e);t.prototype=e;var r=new t;return t.prototype=s,r}}();function si(){}function oi(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=s}function ai(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=I,this.__views__=[]}function hi(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function ui(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function li(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function ci(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new li;++e<r;)this.add(t[e])}function fi(t){var e=this.__data__=new ui(t);this.size=e.size}function pi(t,e){var r=ea(t),i=!r&&ta(t),n=!r&&!i&&sa(t),s=!r&&!i&&!n&&ba(t),o=r||i||n||s,a=o?sr(t.length,$t):[],h=a.length;for(var u in t)!e&&!re.call(t,u)||o&&("length"==u||n&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Os(u,h))||a.push(u);return a}function di(t){var e=t.length;return e?t[un(0,e-1)]:s}function mi(t,e,r){(r===s||Zo(t[e],r))&&(r!==s||e in t)||bi(t,e,r)}function yi(t,e,r){var i=t[e];re.call(t,e)&&Zo(i,r)&&(r!==s||e in t)||bi(t,e,r)}function vi(t,e){for(var r=t.length;r--;)if(Zo(t[r][0],e))return r;return-1}function gi(t,e,r,i){return Ci(t,function(t,n,s){e(i,t,r(t),s)}),i}function _i(t,e){return t&&Gn(e,Ga(e),t)}function bi(t,e,r){"__proto__"==e&&Er?Er(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function xi(t,e){for(var i=-1,n=e.length,o=r(n),a=null==t;++i<n;)o[i]=a?s:Na(t,e[i]);return o}function Ti(t,e,r){return t==t&&(r!==s&&(t=t<=r?t:r),e!==s&&(t=t>=e?t:e)),t}function wi(t,e,r,i,n,o){var a,h=e&l,u=e&c,p=e&f;if(r&&(a=n?r(t,i,n,o):r(t)),a!==s)return a;if(!ca(t))return t;var d=ea(t);if(d){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&re.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!h)return zn(t,a)}else{var m=Ps(t),y=m==G||m==U;if(sa(t))return Fn(t,h);if(m==Y||m==F||y&&!n){if(a=u||y?{}:As(t),!h)return u?function(t,e){return Gn(t,Ss(t),e)}(t,function(t,e){return t&&Gn(e,Ua(e),t)}(a,t)):function(t,e){return Gn(t,Es(t),e)}(t,_i(a,t))}else{if(!ge[m])return n?t:{};a=function(t,e,r){var i=t.constructor;switch(e){case et:return Ln(t);case B:case j:return new i(+t);case rt:return function(t,e){var r=e?Ln(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case it:case nt:case st:case ot:case at:case ht:case ut:case lt:case ct:return Nn(t,r);case X:return new i;case H:case Z:return new i(t);case $:return function(t){var e=new t.constructor(t.source,Lt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case K:return new i;case J:return function(t){return ei?Yt(ei.call(t)):{}}(t)}}(t,m,h)}}o||(o=new fi);var v=o.get(t);if(v)return v;if(o.set(t,a),va(t))return t.forEach(function(i){a.add(wi(i,e,r,i,t,o))}),a;if(pa(t))return t.forEach(function(i,n){a.set(n,wi(i,e,r,n,t,o))}),a;var g=d?s:(p?u?ys:ms:u?Ua:Ga)(t);return Be(g||t,function(i,n){g&&(i=t[n=i]),yi(a,n,wi(i,e,r,n,t,o))}),a}function Ei(t,e,r){var i=r.length;if(null==t)return!i;for(t=Yt(t);i--;){var n=r[i],o=e[n],a=t[n];if(a===s&&!(n in t)||!o(a))return!1}return!0}function Si(t,e,r){if("function"!=typeof t)throw new Kt(a);return zs(function(){t.apply(s,r)},e)}function Pi(t,e,r,i){var n=-1,s=ze,a=!0,h=t.length,u=[],l=e.length;if(!h)return u;r&&(e=Ue(e,or(r))),i?(s=Ge,a=!1):e.length>=o&&(s=hr,a=!1,e=new ci(e));t:for(;++n<h;){var c=t[n],f=null==r?c:r(c);if(c=i||0!==c?c:0,a&&f==f){for(var p=l;p--;)if(e[p]===f)continue t;u.push(c)}else s(e,f,i)||u.push(c)}return u}ii.templateSettings={escape:_t,evaluate:bt,interpolate:xt,variable:"",imports:{_:ii}},ii.prototype=si.prototype,ii.prototype.constructor=ii,oi.prototype=ni(si.prototype),oi.prototype.constructor=oi,ai.prototype=ni(si.prototype),ai.prototype.constructor=ai,hi.prototype.clear=function(){this.__data__=Wr?Wr(null):{},this.size=0},hi.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},hi.prototype.get=function(t){var e=this.__data__;if(Wr){var r=e[t];return r===h?s:r}return re.call(e,t)?e[t]:s},hi.prototype.has=function(t){var e=this.__data__;return Wr?e[t]!==s:re.call(e,t)},hi.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Wr&&e===s?h:e,this},ui.prototype.clear=function(){this.__data__=[],this.size=0},ui.prototype.delete=function(t){var e=this.__data__,r=vi(e,t);return!(r<0||(r==e.length-1?e.pop():Ae.call(e,r,1),--this.size,0))},ui.prototype.get=function(t){var e=this.__data__,r=vi(e,t);return r<0?s:e[r][1]},ui.prototype.has=function(t){return vi(this.__data__,t)>-1},ui.prototype.set=function(t,e){var r=this.__data__,i=vi(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this},li.prototype.clear=function(){this.size=0,this.__data__={hash:new hi,map:new(Gr||ui),string:new hi}},li.prototype.delete=function(t){var e=xs(this,t).delete(t);return this.size-=e?1:0,e},li.prototype.get=function(t){return xs(this,t).get(t)},li.prototype.has=function(t){return xs(this,t).has(t)},li.prototype.set=function(t,e){var r=xs(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this},ci.prototype.add=ci.prototype.push=function(t){return this.__data__.set(t,h),this},ci.prototype.has=function(t){return this.__data__.has(t)},fi.prototype.clear=function(){this.__data__=new ui,this.size=0},fi.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},fi.prototype.get=function(t){return this.__data__.get(t)},fi.prototype.has=function(t){return this.__data__.has(t)},fi.prototype.set=function(t,e){var r=this.__data__;if(r instanceof ui){var i=r.__data__;if(!Gr||i.length<o-1)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new li(i)}return r.set(t,e),this.size=r.size,this};var Ci=Hn(Fi),Ai=Hn(Li,!0);function Mi(t,e){var r=!0;return Ci(t,function(t,i,n){return r=!!e(t,i,n)}),r}function Oi(t,e,r){for(var i=-1,n=t.length;++i<n;){var o=t[i],a=e(o);if(null!=a&&(h===s?a==a&&!_a(a):r(a,h)))var h=a,u=o}return u}function Ii(t,e){var r=[];return Ci(t,function(t,i,n){e(t,i,n)&&r.push(t)}),r}function Di(t,e,r,i,n){var s=-1,o=t.length;for(r||(r=Ms),n||(n=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?Di(a,e-1,r,i,n):Xe(n,a):i||(n[n.length]=a)}return n}var Ri=Wn(),ki=Wn(!0);function Fi(t,e){return t&&Ri(t,e,Ga)}function Li(t,e){return t&&ki(t,e,Ga)}function Ni(t,e){return Ve(e,function(e){return ha(t[e])})}function Bi(t,e){for(var r=0,i=(e=In(e,t)).length;null!=t&&r<i;)t=t[Ys(e[r++])];return r&&r==i?t:s}function ji(t,e,r){var i=e(t);return ea(t)?i:Xe(i,r(t))}function Vi(t){return null==t?t===s?Q:W:rr&&rr in Yt(t)?function(t){var e=re.call(t,rr),r=t[rr];try{t[rr]=s;var i=!0}catch(t){}var n=se.call(t);return i&&(e?t[rr]=r:delete t[rr]),n}(t):function(t){return se.call(t)}(t)}function zi(t,e){return t>e}function Gi(t,e){return null!=t&&re.call(t,e)}function Ui(t,e){return null!=t&&e in Yt(t)}function Xi(t,e,i){for(var n=i?Ge:ze,o=t[0].length,a=t.length,h=a,u=r(a),l=1/0,c=[];h--;){var f=t[h];h&&e&&(f=Ue(f,or(e))),l=Lr(f.length,l),u[h]=!i&&(e||o>=120&&f.length>=120)?new ci(h&&f):s}f=t[0];var p=-1,d=u[0];t:for(;++p<o&&c.length<l;){var m=f[p],y=e?e(m):m;if(m=i||0!==m?m:0,!(d?hr(d,y):n(c,y,i))){for(h=a;--h;){var v=u[h];if(!(v?hr(v,y):n(t[h],y,i)))continue t}d&&d.push(y),c.push(m)}}return c}function Hi(t,e,r){var i=null==(t=js(t,e=In(e,t)))?t:t[Ys(oo(e))];return null==i?s:Le(i,t,r)}function Wi(t){return fa(t)&&Vi(t)==F}function Yi(t,e,r,i,n){return t===e||(null==t||null==e||!fa(t)&&!fa(e)?t!=t&&e!=e:function(t,e,r,i,n,o){var a=ea(t),h=ea(e),u=a?L:Ps(t),l=h?L:Ps(e),c=(u=u==F?Y:u)==Y,f=(l=l==F?Y:l)==Y,m=u==l;if(m&&sa(t)){if(!sa(e))return!1;a=!0,c=!1}if(m&&!c)return o||(o=new fi),a||ba(t)?ps(t,e,r,i,n,o):function(t,e,r,i,n,s,o){switch(r){case rt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case et:return!(t.byteLength!=e.byteLength||!s(new _e(t),new _e(e)));case B:case j:case H:return Zo(+t,+e);case z:return t.name==e.name&&t.message==e.message;case $:case Z:return t==e+"";case X:var a=mr;case K:var h=i&p;if(a||(a=_r),t.size!=e.size&&!h)return!1;var u=o.get(t);if(u)return u==e;i|=d,o.set(t,e);var l=ps(a(t),a(e),i,n,s,o);return o.delete(t),l;case J:if(ei)return ei.call(t)==ei.call(e)}return!1}(t,e,u,r,i,n,o);if(!(r&p)){var y=c&&re.call(t,"__wrapped__"),v=f&&re.call(e,"__wrapped__");if(y||v){var g=y?t.value():t,_=v?e.value():e;return o||(o=new fi),n(g,_,r,i,o)}}return!!m&&(o||(o=new fi),function(t,e,r,i,n,o){var a=r&p,h=ms(t),u=h.length;if(u!=ms(e).length&&!a)return!1;for(var l=u;l--;){var c=h[l];if(!(a?c in e:re.call(e,c)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var d=!0;o.set(t,e),o.set(e,t);for(var m=a;++l<u;){var y=t[c=h[l]],v=e[c];if(i)var g=a?i(v,y,c,e,t,o):i(y,v,c,t,e,o);if(!(g===s?y===v||n(y,v,r,i,o):g)){d=!1;break}m||(m="constructor"==c)}if(d&&!m){var _=t.constructor,b=e.constructor;_!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,i,n,o))}(t,e,r,i,Yi,n))}function qi(t,e,r,i){var n=r.length,o=n,a=!i;if(null==t)return!o;for(t=Yt(t);n--;){var h=r[n];if(a&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++n<o;){var u=(h=r[n])[0],l=t[u],c=h[1];if(a&&h[2]){if(l===s&&!(u in t))return!1}else{var f=new fi;if(i)var m=i(l,c,u,t,e,f);if(!(m===s?Yi(c,l,p|d,i,f):m))return!1}}return!0}function $i(t){return!(!ca(t)||function(t){return!!ne&&ne in t}(t))&&(ha(t)?he:jt).test(qs(t))}function Ki(t){return"function"==typeof t?t:null==t?dh:"object"==typeof t?ea(t)?en(t[0],t[1]):tn(t):wh(t)}function Zi(t){if(!Fs(t))return kr(t);var e=[];for(var r in Yt(t))re.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Ji(t,e){return t<e}function Qi(t,e){var i=-1,n=ia(t)?r(t.length):[];return Ci(t,function(t,r,s){n[++i]=e(t,r,s)}),n}function tn(t){var e=Ts(t);return 1==e.length&&e[0][2]?Ns(e[0][0],e[0][1]):function(r){return r===t||qi(r,t,e)}}function en(t,e){return Ds(t)&&Ls(e)?Ns(Ys(t),e):function(r){var i=Na(r,t);return i===s&&i===e?Ba(r,t):Yi(e,i,p|d)}}function rn(t,e,r,i,n){t!==e&&Ri(e,function(o,a){if(ca(o))n||(n=new fi),function(t,e,r,i,n,o,a){var h=gr(t,r),u=gr(e,r),l=a.get(u);if(l)mi(t,r,l);else{var c=o?o(h,u,r+"",t,e,a):s,f=c===s;if(f){var p=ea(u),d=!p&&sa(u),m=!p&&!d&&ba(u);c=u,p||d||m?ea(h)?c=h:na(h)?c=zn(h):d?(f=!1,c=Fn(u,!0)):m?(f=!1,c=Nn(u,!0)):c=[]:ma(u)||ta(u)?(c=h,ta(h)?c=Aa(h):(!ca(h)||i&&ha(h))&&(c=As(u))):f=!1}f&&(a.set(u,c),n(c,u,i,o,a),a.delete(u)),mi(t,r,c)}}(t,e,a,r,rn,i,n);else{var h=i?i(gr(t,a),o,a+"",t,e,n):s;h===s&&(h=o),mi(t,a,h)}},Ua)}function nn(t,e){var r=t.length;if(r)return Os(e+=e<0?r:0,r)?t[e]:s}function sn(t,e,r){var i=-1;return e=Ue(e.length?e:[dh],or(bs())),function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(Qi(t,function(t,r,n){return{criteria:Ue(e,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return function(t,e,r){for(var i=-1,n=t.criteria,s=e.criteria,o=n.length,a=r.length;++i<o;){var h=Bn(n[i],s[i]);if(h)return i>=a?h:h*("desc"==r[i]?-1:1)}return t.index-e.index}(t,e,r)})}function on(t,e,r){for(var i=-1,n=e.length,s={};++i<n;){var o=e[i],a=Bi(t,o);r(a,o)&&fn(s,In(o,t),a)}return s}function an(t,e,r,i){var n=i?Je:Ze,s=-1,o=e.length,a=t;for(t===e&&(e=zn(e)),r&&(a=Ue(t,or(r)));++s<o;)for(var h=0,u=e[s],l=r?r(u):u;(h=n(a,l,h,i))>-1;)a!==t&&Ae.call(a,h,1),Ae.call(t,h,1);return t}function hn(t,e){for(var r=t?e.length:0,i=r-1;r--;){var n=e[r];if(r==i||n!==s){var s=n;Os(n)?Ae.call(t,n,1):wn(t,n)}}return t}function un(t,e){return t+Mr(jr()*(e-t+1))}function ln(t,e){var r="";if(!t||e<1||e>A)return r;do{e%2&&(r+=t),(e=Mr(e/2))&&(t+=t)}while(e);return r}function cn(t,e){return Gs(Bs(t,e,dh),t+"")}function fn(t,e,r,i){if(!ca(t))return t;for(var n=-1,o=(e=In(e,t)).length,a=o-1,h=t;null!=h&&++n<o;){var u=Ys(e[n]),l=r;if(n!=a){var c=h[u];(l=i?i(c,u,h):s)===s&&(l=ca(c)?c:Os(e[n+1])?[]:{})}yi(h,u,l),h=h[u]}return t}var pn=Yr?function(t,e){return Yr.set(t,e),t}:dh,dn=Er?function(t,e){return Er(t,"toString",{configurable:!0,enumerable:!1,value:ch(e),writable:!0})}:dh;function mn(t,e,i){var n=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(i=i>s?s:i)<0&&(i+=s),s=e>i?0:i-e>>>0,e>>>=0;for(var o=r(s);++n<s;)o[n]=t[n+e];return o}function yn(t,e){var r;return Ci(t,function(t,i,n){return!(r=e(t,i,n))}),!!r}function vn(t,e,r){var i=0,n=null==t?i:t.length;if("number"==typeof e&&e==e&&n<=R){for(;i<n;){var s=i+n>>>1,o=t[s];null!==o&&!_a(o)&&(r?o<=e:o<e)?i=s+1:n=s}return n}return gn(t,e,dh,r)}function gn(t,e,r,i){e=r(e);for(var n=0,o=null==t?0:t.length,a=e!=e,h=null===e,u=_a(e),l=e===s;n<o;){var c=Mr((n+o)/2),f=r(t[c]),p=f!==s,d=null===f,m=f==f,y=_a(f);if(a)var v=i||m;else v=l?m&&(i||p):h?m&&p&&(i||!d):u?m&&p&&!d&&(i||!y):!d&&!y&&(i?f<=e:f<e);v?n=c+1:o=c}return Lr(o,D)}function _n(t,e){for(var r=-1,i=t.length,n=0,s=[];++r<i;){var o=t[r],a=e?e(o):o;if(!r||!Zo(a,h)){var h=a;s[n++]=0===o?0:o}}return s}function bn(t){return"number"==typeof t?t:_a(t)?O:+t}function xn(t){if("string"==typeof t)return t;if(ea(t))return Ue(t,xn)+"";if(_a(t))return ri?ri.call(t):"";var e=t+"";return"0"==e&&1/t==-C?"-0":e}function Tn(t,e,r){var i=-1,n=ze,s=t.length,a=!0,h=[],u=h;if(r)a=!1,n=Ge;else if(s>=o){var l=e?null:as(t);if(l)return _r(l);a=!1,n=hr,u=new ci}else u=e?[]:h;t:for(;++i<s;){var c=t[i],f=e?e(c):c;if(c=r||0!==c?c:0,a&&f==f){for(var p=u.length;p--;)if(u[p]===f)continue t;e&&u.push(f),h.push(c)}else n(u,f,r)||(u!==h&&u.push(f),h.push(c))}return h}function wn(t,e){return null==(t=js(t,e=In(e,t)))||delete t[Ys(oo(e))]}function En(t,e,r,i){return fn(t,e,r(Bi(t,e)),i)}function Sn(t,e,r,i){for(var n=t.length,s=i?n:-1;(i?s--:++s<n)&&e(t[s],s,t););return r?mn(t,i?0:s,i?s+1:n):mn(t,i?s+1:0,i?n:s)}function Pn(t,e){var r=t;return r instanceof ai&&(r=r.value()),He(e,function(t,e){return e.func.apply(e.thisArg,Xe([t],e.args))},r)}function Cn(t,e,i){var n=t.length;if(n<2)return n?Tn(t[0]):[];for(var s=-1,o=r(n);++s<n;)for(var a=t[s],h=-1;++h<n;)h!=s&&(o[s]=Pi(o[s]||a,t[h],e,i));return Tn(Di(o,1),e,i)}function An(t,e,r){for(var i=-1,n=t.length,o=e.length,a={};++i<n;){var h=i<o?e[i]:s;r(a,t[i],h)}return a}function Mn(t){return na(t)?t:[]}function On(t){return"function"==typeof t?t:dh}function In(t,e){return ea(t)?t:Ds(t,e)?[t]:Ws(Ma(t))}var Dn=cn;function Rn(t,e,r){var i=t.length;return r=r===s?i:r,!e&&r>=i?t:mn(t,e,r)}var kn=Sr||function(t){return Ee.clearTimeout(t)};function Fn(t,e){if(e)return t.slice();var r=t.length,i=Te?Te(r):new t.constructor(r);return t.copy(i),i}function Ln(t){var e=new t.constructor(t.byteLength);return new _e(e).set(new _e(t)),e}function Nn(t,e){var r=e?Ln(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Bn(t,e){if(t!==e){var r=t!==s,i=null===t,n=t==t,o=_a(t),a=e!==s,h=null===e,u=e==e,l=_a(e);if(!h&&!l&&!o&&t>e||o&&a&&u&&!h&&!l||i&&a&&u||!r&&u||!n)return 1;if(!i&&!o&&!l&&t<e||l&&r&&n&&!i&&!o||h&&r&&n||!a&&n||!u)return-1}return 0}function jn(t,e,i,n){for(var s=-1,o=t.length,a=i.length,h=-1,u=e.length,l=Fr(o-a,0),c=r(u+l),f=!n;++h<u;)c[h]=e[h];for(;++s<a;)(f||s<o)&&(c[i[s]]=t[s]);for(;l--;)c[h++]=t[s++];return c}function Vn(t,e,i,n){for(var s=-1,o=t.length,a=-1,h=i.length,u=-1,l=e.length,c=Fr(o-h,0),f=r(c+l),p=!n;++s<c;)f[s]=t[s];for(var d=s;++u<l;)f[d+u]=e[u];for(;++a<h;)(p||s<o)&&(f[d+i[a]]=t[s++]);return f}function zn(t,e){var i=-1,n=t.length;for(e||(e=r(n));++i<n;)e[i]=t[i];return e}function Gn(t,e,r,i){var n=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var h=e[o],u=i?i(r[h],t[h],h,r,t):s;u===s&&(u=t[h]),n?bi(r,h,u):yi(r,h,u)}return r}function Un(t,e){return function(r,i){var n=ea(r)?Ne:gi,s=e?e():{};return n(r,t,bs(i,2),s)}}function Xn(t){return cn(function(e,r){var i=-1,n=r.length,o=n>1?r[n-1]:s,a=n>2?r[2]:s;for(o=t.length>3&&"function"==typeof o?(n--,o):s,a&&Is(r[0],r[1],a)&&(o=n<3?s:o,n=1),e=Yt(e);++i<n;){var h=r[i];h&&t(e,h,i,o)}return e})}function Hn(t,e){return function(r,i){if(null==r)return r;if(!ia(r))return t(r,i);for(var n=r.length,s=e?n:-1,o=Yt(r);(e?s--:++s<n)&&!1!==i(o[s],s,o););return r}}function Wn(t){return function(e,r,i){for(var n=-1,s=Yt(e),o=i(e),a=o.length;a--;){var h=o[t?a:++n];if(!1===r(s[h],h,s))break}return e}}function Yn(t){return function(e){var r=dr(e=Ma(e))?xr(e):s,i=r?r[0]:e.charAt(0),n=r?Rn(r,1).join(""):e.slice(1);return i[t]()+n}}function qn(t){return function(e){return He(hh(th(e).replace(ue,"")),t,"")}}function $n(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=ni(t.prototype),i=t.apply(r,e);return ca(i)?i:r}}function Kn(t){return function(e,r,i){var n=Yt(e);if(!ia(e)){var o=bs(r,3);e=Ga(e),r=function(t){return o(n[t],t,n)}}var a=t(e,r,i);return a>-1?n[o?e[a]:a]:s}}function Zn(t){return ds(function(e){var r=e.length,i=r,n=oi.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new Kt(a);if(n&&!h&&"wrapper"==gs(o))var h=new oi([],!0)}for(i=h?i:r;++i<r;){var u=gs(o=e[i]),l="wrapper"==u?vs(o):s;h=l&&Rs(l[0])&&l[1]==(T|g|b|w)&&!l[4].length&&1==l[9]?h[gs(l[0])].apply(h,l[3]):1==o.length&&Rs(o)?h[u]():h.thru(o)}return function(){var t=arguments,i=t[0];if(h&&1==t.length&&ea(i))return h.plant(i).value();for(var n=0,s=r?e[n].apply(this,t):i;++n<r;)s=e[n].call(this,s);return s}})}function Jn(t,e,i,n,o,a,h,u,l,c){var f=e&T,p=e&m,d=e&y,v=e&(g|_),b=e&E,x=d?s:$n(t);return function m(){for(var y=arguments.length,g=r(y),_=y;_--;)g[_]=arguments[_];if(v)var T=_s(m),w=function(t,e){for(var r=t.length,i=0;r--;)t[r]===e&&++i;return i}(g,T);if(n&&(g=jn(g,n,o,v)),a&&(g=Vn(g,a,h,v)),y-=w,v&&y<c){var E=vr(g,T);return ss(t,e,Jn,m.placeholder,i,g,E,u,l,c-y)}var S=p?i:this,P=d?S[t]:t;return y=g.length,u?g=function(t,e){for(var r=t.length,i=Lr(e.length,r),n=zn(t);i--;){var o=e[i];t[i]=Os(o,r)?n[o]:s}return t}(g,u):b&&y>1&&g.reverse(),f&&l<y&&(g.length=l),this&&this!==Ee&&this instanceof m&&(P=x||$n(P)),P.apply(S,g)}}function Qn(t,e){return function(r,i){return function(t,e,r,i){return Fi(t,function(t,n,s){e(i,r(t),n,s)}),i}(r,t,e(i),{})}}function ts(t,e){return function(r,i){var n;if(r===s&&i===s)return e;if(r!==s&&(n=r),i!==s){if(n===s)return i;"string"==typeof r||"string"==typeof i?(r=xn(r),i=xn(i)):(r=bn(r),i=bn(i)),n=t(r,i)}return n}}function es(t){return ds(function(e){return e=Ue(e,or(bs())),cn(function(r){var i=this;return t(e,function(t){return Le(t,i,r)})})})}function rs(t,e){var r=(e=e===s?" ":xn(e)).length;if(r<2)return r?ln(e,t):e;var i=ln(e,Ar(t/br(e)));return dr(e)?Rn(xr(i),0,t).join(""):i.slice(0,t)}function is(t){return function(e,i,n){return n&&"number"!=typeof n&&Is(e,i,n)&&(i=n=s),e=Ea(e),i===s?(i=e,e=0):i=Ea(i),function(t,e,i,n){for(var s=-1,o=Fr(Ar((e-t)/(i||1)),0),a=r(o);o--;)a[n?o:++s]=t,t+=i;return a}(e,i,n=n===s?e<i?1:-1:Ea(n),t)}}function ns(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=Ca(e),r=Ca(r)),t(e,r)}}function ss(t,e,r,i,n,o,a,h,u,l){var c=e&g;e|=c?b:x,(e&=~(c?x:b))&v||(e&=~(m|y));var f=[t,e,n,c?o:s,c?a:s,c?s:o,c?s:a,h,u,l],p=r.apply(s,f);return Rs(t)&&Vs(p,f),p.placeholder=i,Us(p,t,e)}function os(t){var e=Wt[t];return function(t,r){if(t=Ca(t),r=null==r?0:Lr(Sa(r),292)){var i=(Ma(t)+"e").split("e");return+((i=(Ma(e(i[0]+"e"+(+i[1]+r)))+"e").split("e"))[0]+"e"+(+i[1]-r))}return e(t)}}var as=Xr&&1/_r(new Xr([,-0]))[1]==C?function(t){return new Xr(t)}:_h;function hs(t){return function(e){var r=Ps(e);return r==X?mr(e):r==K?function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=[t,t]}),r}(e):function(t,e){return Ue(e,function(e){return[e,t[e]]})}(e,t(e))}}function us(t,e,i,n,o,h,l,c){var f=e&y;if(!f&&"function"!=typeof t)throw new Kt(a);var p=n?n.length:0;if(p||(e&=~(b|x),n=o=s),l=l===s?l:Fr(Sa(l),0),c=c===s?c:Sa(c),p-=o?o.length:0,e&x){var d=n,E=o;n=o=s}var S=f?s:vs(t),P=[t,e,i,n,o,d,E,h,l,c];if(S&&function(t,e){var r=t[1],i=e[1],n=r|i,s=n<(m|y|T),o=i==T&&r==g||i==T&&r==w&&t[7].length<=e[8]||i==(T|w)&&e[7].length<=e[8]&&r==g;if(!s&&!o)return t;i&m&&(t[2]=e[2],n|=r&m?0:v);var a=e[3];if(a){var h=t[3];t[3]=h?jn(h,a,e[4]):a,t[4]=h?vr(t[3],u):e[4]}(a=e[5])&&(h=t[5],t[5]=h?Vn(h,a,e[6]):a,t[6]=h?vr(t[5],u):e[6]),(a=e[7])&&(t[7]=a),i&T&&(t[8]=null==t[8]?e[8]:Lr(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=n}(P,S),t=P[0],e=P[1],i=P[2],n=P[3],o=P[4],!(c=P[9]=P[9]===s?f?0:t.length:Fr(P[9]-p,0))&&e&(g|_)&&(e&=~(g|_)),e&&e!=m)C=e==g||e==_?function(t,e,i){var n=$n(t);return function o(){for(var a=arguments.length,h=r(a),u=a,l=_s(o);u--;)h[u]=arguments[u];var c=a<3&&h[0]!==l&&h[a-1]!==l?[]:vr(h,l);return(a-=c.length)<i?ss(t,e,Jn,o.placeholder,s,h,c,s,s,i-a):Le(this&&this!==Ee&&this instanceof o?n:t,this,h)}}(t,e,c):e!=b&&e!=(m|b)||o.length?Jn.apply(s,P):function(t,e,i,n){var s=e&m,o=$n(t);return function e(){for(var a=-1,h=arguments.length,u=-1,l=n.length,c=r(l+h),f=this&&this!==Ee&&this instanceof e?o:t;++u<l;)c[u]=n[u];for(;h--;)c[u++]=arguments[++a];return Le(f,s?i:this,c)}}(t,e,i,n);else var C=function(t,e,r){var i=e&m,n=$n(t);return function e(){return(this&&this!==Ee&&this instanceof e?n:t).apply(i?r:this,arguments)}}(t,e,i);return Us((S?pn:Vs)(C,P),t,e)}function ls(t,e,r,i){return t===s||Zo(t,Qt[r])&&!re.call(i,r)?e:t}function cs(t,e,r,i,n,o){return ca(t)&&ca(e)&&(o.set(e,t),rn(t,e,s,cs,o),o.delete(e)),t}function fs(t){return ma(t)?s:t}function ps(t,e,r,i,n,o){var a=r&p,h=t.length,u=e.length;if(h!=u&&!(a&&u>h))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var c=-1,f=!0,m=r&d?new ci:s;for(o.set(t,e),o.set(e,t);++c<h;){var y=t[c],v=e[c];if(i)var g=a?i(v,y,c,e,t,o):i(y,v,c,t,e,o);if(g!==s){if(g)continue;f=!1;break}if(m){if(!Ye(e,function(t,e){if(!hr(m,e)&&(y===t||n(y,t,r,i,o)))return m.push(e)})){f=!1;break}}else if(y!==v&&!n(y,v,r,i,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function ds(t){return Gs(Bs(t,s,eo),t+"")}function ms(t){return ji(t,Ga,Es)}function ys(t){return ji(t,Ua,Ss)}var vs=Yr?function(t){return Yr.get(t)}:_h;function gs(t){for(var e=t.name+"",r=qr[e],i=re.call(qr,e)?r.length:0;i--;){var n=r[i],s=n.func;if(null==s||s==t)return n.name}return e}function _s(t){return(re.call(ii,"placeholder")?ii:t).placeholder}function bs(){var t=ii.iteratee||mh;return t=t===mh?Ki:t,arguments.length?t(arguments[0],arguments[1]):t}function xs(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function Ts(t){for(var e=Ga(t),r=e.length;r--;){var i=e[r],n=t[i];e[r]=[i,n,Ls(n)]}return e}function ws(t,e){var r=function(t,e){return null==t?s:t[e]}(t,e);return $i(r)?r:s}var Es=Or?function(t){return null==t?[]:(t=Yt(t),Ve(Or(t),function(e){return Pe.call(t,e)}))}:Ph,Ss=Or?function(t){for(var e=[];t;)Xe(e,Es(t)),t=we(t);return e}:Ph,Ps=Vi;function Cs(t,e,r){for(var i=-1,n=(e=In(e,t)).length,s=!1;++i<n;){var o=Ys(e[i]);if(!(s=null!=t&&r(t,o)))break;t=t[o]}return s||++i!=n?s:!!(n=null==t?0:t.length)&&la(n)&&Os(o,n)&&(ea(t)||ta(t))}function As(t){return"function"!=typeof t.constructor||Fs(t)?{}:ni(we(t))}function Ms(t){return ea(t)||ta(t)||!!(Me&&t&&t[Me])}function Os(t,e){var r=typeof t;return!!(e=null==e?A:e)&&("number"==r||"symbol"!=r&&zt.test(t))&&t>-1&&t%1==0&&t<e}function Is(t,e,r){if(!ca(r))return!1;var i=typeof e;return!!("number"==i?ia(r)&&Os(e,r.length):"string"==i&&e in r)&&Zo(r[e],t)}function Ds(t,e){if(ea(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!_a(t))||wt.test(t)||!Tt.test(t)||null!=e&&t in Yt(e)}function Rs(t){var e=gs(t),r=ii[e];if("function"!=typeof r||!(e in ai.prototype))return!1;if(t===r)return!0;var i=vs(r);return!!i&&t===i[0]}(zr&&Ps(new zr(new ArrayBuffer(1)))!=rt||Gr&&Ps(new Gr)!=X||Ur&&"[object Promise]"!=Ps(Ur.resolve())||Xr&&Ps(new Xr)!=K||Hr&&Ps(new Hr)!=tt)&&(Ps=function(t){var e=Vi(t),r=e==Y?t.constructor:s,i=r?qs(r):"";if(i)switch(i){case $r:return rt;case Kr:return X;case Zr:return"[object Promise]";case Jr:return K;case Qr:return tt}return e});var ks=te?ha:Ch;function Fs(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Qt)}function Ls(t){return t==t&&!ca(t)}function Ns(t,e){return function(r){return null!=r&&r[t]===e&&(e!==s||t in Yt(r))}}function Bs(t,e,i){return e=Fr(e===s?t.length-1:e,0),function(){for(var n=arguments,s=-1,o=Fr(n.length-e,0),a=r(o);++s<o;)a[s]=n[e+s];s=-1;for(var h=r(e+1);++s<e;)h[s]=n[s];return h[e]=i(a),Le(t,this,h)}}function js(t,e){return e.length<2?t:Bi(t,mn(e,0,-1))}var Vs=Xs(pn),zs=Cr||function(t,e){return Ee.setTimeout(t,e)},Gs=Xs(dn);function Us(t,e,r){var i=e+"";return Gs(t,function(t,e){var r=e.length;if(!r)return t;var i=r-1;return e[i]=(r>1?"& ":"")+e[i],e=e.join(r>2?", ":" "),t.replace(Ot,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Be(k,function(r){var i="_."+r[0];e&r[1]&&!ze(t,i)&&t.push(i)}),t.sort()}(function(t){var e=i.match(It);return e?e[1].split(Dt):[]}(),r)))}function Xs(t){var e=0,r=0;return function(){var i=Nr(),n=P-(i-r);if(r=i,n>0){if(++e>=S)return arguments[0]}else e=0;return t.apply(s,arguments)}}function Hs(t,e){var r=-1,i=t.length,n=i-1;for(e=e===s?i:e;++r<e;){var o=un(r,n),a=t[o];t[o]=t[r],t[r]=a}return t.length=e,t}var Ws=function(t){var e=Ho(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Et,function(t,r,i,n){e.push(i?n.replace(kt,"$1"):r||t)}),e},function(t){return 500===r.size&&r.clear(),t}),r=e.cache;return e}();function Ys(t){if("string"==typeof t||_a(t))return t;var e=t+"";return"0"==e&&1/t==-C?"-0":e}function qs(t){if(null!=t){try{return ee.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function $s(t){if(t instanceof ai)return t.clone();var e=new oi(t.__wrapped__,t.__chain__);return e.__actions__=zn(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ks=cn(function(t,e){return na(t)?Pi(t,Di(e,1,na,!0)):[]}),Zs=cn(function(t,e){var r=oo(e);return na(r)&&(r=s),na(t)?Pi(t,Di(e,1,na,!0),bs(r,2)):[]}),Js=cn(function(t,e){var r=oo(e);return na(r)&&(r=s),na(t)?Pi(t,Di(e,1,na,!0),s,r):[]});function Qs(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var n=null==r?0:Sa(r);return n<0&&(n=Fr(i+n,0)),Ke(t,bs(e,3),n)}function to(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var n=i-1;return r!==s&&(n=Sa(r),n=r<0?Fr(i+n,0):Lr(n,i-1)),Ke(t,bs(e,3),n,!0)}function eo(t){return null!=t&&t.length?Di(t,1):[]}function ro(t){return t&&t.length?t[0]:s}var io=cn(function(t){var e=Ue(t,Mn);return e.length&&e[0]===t[0]?Xi(e):[]}),no=cn(function(t){var e=oo(t),r=Ue(t,Mn);return e===oo(r)?e=s:r.pop(),r.length&&r[0]===t[0]?Xi(r,bs(e,2)):[]}),so=cn(function(t){var e=oo(t),r=Ue(t,Mn);return(e="function"==typeof e?e:s)&&r.pop(),r.length&&r[0]===t[0]?Xi(r,s,e):[]});function oo(t){var e=null==t?0:t.length;return e?t[e-1]:s}var ao=cn(ho);function ho(t,e){return t&&t.length&&e&&e.length?an(t,e):t}var uo=ds(function(t,e){var r=null==t?0:t.length,i=xi(t,e);return hn(t,Ue(e,function(t){return Os(t,r)?+t:t}).sort(Bn)),i});function lo(t){return null==t?t:Vr.call(t)}var co=cn(function(t){return Tn(Di(t,1,na,!0))}),fo=cn(function(t){var e=oo(t);return na(e)&&(e=s),Tn(Di(t,1,na,!0),bs(e,2))}),po=cn(function(t){var e=oo(t);return e="function"==typeof e?e:s,Tn(Di(t,1,na,!0),s,e)});function mo(t){if(!t||!t.length)return[];var e=0;return t=Ve(t,function(t){if(na(t))return e=Fr(t.length,e),!0}),sr(e,function(e){return Ue(t,er(e))})}function yo(t,e){if(!t||!t.length)return[];var r=mo(t);return null==e?r:Ue(r,function(t){return Le(e,s,t)})}var vo=cn(function(t,e){return na(t)?Pi(t,e):[]}),go=cn(function(t){return Cn(Ve(t,na))}),_o=cn(function(t){var e=oo(t);return na(e)&&(e=s),Cn(Ve(t,na),bs(e,2))}),bo=cn(function(t){var e=oo(t);return e="function"==typeof e?e:s,Cn(Ve(t,na),s,e)}),xo=cn(mo),To=cn(function(t){var e=t.length,r=e>1?t[e-1]:s;return yo(t,r="function"==typeof r?(t.pop(),r):s)});function wo(t){var e=ii(t);return e.__chain__=!0,e}function Eo(t,e){return e(t)}var So=ds(function(t){var e=t.length,r=e?t[0]:0,i=this.__wrapped__,n=function(e){return xi(e,t)};return!(e>1||this.__actions__.length)&&i instanceof ai&&Os(r)?((i=i.slice(r,+r+(e?1:0))).__actions__.push({func:Eo,args:[n],thisArg:s}),new oi(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(s),t})):this.thru(n)}),Po=Un(function(t,e,r){re.call(t,r)?++t[r]:bi(t,r,1)}),Co=Kn(Qs),Ao=Kn(to);function Mo(t,e){return(ea(t)?Be:Ci)(t,bs(e,3))}function Oo(t,e){return(ea(t)?function(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}:Ai)(t,bs(e,3))}var Io=Un(function(t,e,r){re.call(t,r)?t[r].push(e):bi(t,r,[e])}),Do=cn(function(t,e,i){var n=-1,s="function"==typeof e,o=ia(t)?r(t.length):[];return Ci(t,function(t){o[++n]=s?Le(e,t,i):Hi(t,e,i)}),o}),Ro=Un(function(t,e,r){bi(t,r,e)});function ko(t,e){return(ea(t)?Ue:Qi)(t,bs(e,3))}var Fo=Un(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]}),Lo=cn(function(t,e){if(null==t)return[];var r=e.length;return r>1&&Is(t,e[0],e[1])?e=[]:r>2&&Is(e[0],e[1],e[2])&&(e=[e[0]]),sn(t,Di(e,1),[])}),No=Pr||function(){return Ee.Date.now()};function Bo(t,e,r){return e=r?s:e,e=t&&null==e?t.length:e,us(t,T,s,s,s,s,e)}function jo(t,e){var r;if("function"!=typeof e)throw new Kt(a);return t=Sa(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=s),r}}var Vo=cn(function(t,e,r){var i=m;if(r.length){var n=vr(r,_s(Vo));i|=b}return us(t,i,e,r,n)}),zo=cn(function(t,e,r){var i=m|y;if(r.length){var n=vr(r,_s(zo));i|=b}return us(e,i,t,r,n)});function Go(t,e,r){var i,n,o,h,u,l,c=0,f=!1,p=!1,d=!0;if("function"!=typeof t)throw new Kt(a);function m(e){var r=i,o=n;return i=n=s,c=e,h=t.apply(o,r)}function y(t){var r=t-l;return l===s||r>=e||r<0||p&&t-c>=o}function v(){var t=No();if(y(t))return g(t);u=zs(v,function(t){var r=e-(t-l);return p?Lr(r,o-(t-c)):r}(t))}function g(t){return u=s,d&&i?m(t):(i=n=s,h)}function _(){var t=No(),r=y(t);if(i=arguments,n=this,l=t,r){if(u===s)return function(t){return c=t,u=zs(v,e),f?m(t):h}(l);if(p)return u=zs(v,e),m(l)}return u===s&&(u=zs(v,e)),h}return e=Ca(e)||0,ca(r)&&(f=!!r.leading,o=(p="maxWait"in r)?Fr(Ca(r.maxWait)||0,e):o,d="trailing"in r?!!r.trailing:d),_.cancel=function(){u!==s&&kn(u),c=0,i=l=n=u=s},_.flush=function(){return u===s?h:g(No())},_}var Uo=cn(function(t,e){return Si(t,1,e)}),Xo=cn(function(t,e,r){return Si(t,Ca(e)||0,r)});function Ho(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Kt(a);var r=function(){var i=arguments,n=e?e.apply(this,i):i[0],s=r.cache;if(s.has(n))return s.get(n);var o=t.apply(this,i);return r.cache=s.set(n,o)||s,o};return r.cache=new(Ho.Cache||li),r}function Wo(t){if("function"!=typeof t)throw new Kt(a);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ho.Cache=li;var Yo=Dn(function(t,e){var r=(e=1==e.length&&ea(e[0])?Ue(e[0],or(bs())):Ue(Di(e,1),or(bs()))).length;return cn(function(i){for(var n=-1,s=Lr(i.length,r);++n<s;)i[n]=e[n].call(this,i[n]);return Le(t,this,i)})}),qo=cn(function(t,e){var r=vr(e,_s(qo));return us(t,b,s,e,r)}),$o=cn(function(t,e){var r=vr(e,_s($o));return us(t,x,s,e,r)}),Ko=ds(function(t,e){return us(t,w,s,s,s,e)});function Zo(t,e){return t===e||t!=t&&e!=e}var Jo=ns(zi),Qo=ns(function(t,e){return t>=e}),ta=Wi(function(){return arguments}())?Wi:function(t){return fa(t)&&re.call(t,"callee")&&!Pe.call(t,"callee")},ea=r.isArray,ra=Oe?or(Oe):function(t){return fa(t)&&Vi(t)==et};function ia(t){return null!=t&&la(t.length)&&!ha(t)}function na(t){return fa(t)&&ia(t)}var sa=Ir||Ch,oa=Ie?or(Ie):function(t){return fa(t)&&Vi(t)==j};function aa(t){if(!fa(t))return!1;var e=Vi(t);return e==z||e==V||"string"==typeof t.message&&"string"==typeof t.name&&!ma(t)}function ha(t){if(!ca(t))return!1;var e=Vi(t);return e==G||e==U||e==N||e==q}function ua(t){return"number"==typeof t&&t==Sa(t)}function la(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=A}function ca(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function fa(t){return null!=t&&"object"==typeof t}var pa=De?or(De):function(t){return fa(t)&&Ps(t)==X};function da(t){return"number"==typeof t||fa(t)&&Vi(t)==H}function ma(t){if(!fa(t)||Vi(t)!=Y)return!1;var e=we(t);if(null===e)return!0;var r=re.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&ee.call(r)==oe}var ya=Re?or(Re):function(t){return fa(t)&&Vi(t)==$},va=ke?or(ke):function(t){return fa(t)&&Ps(t)==K};function ga(t){return"string"==typeof t||!ea(t)&&fa(t)&&Vi(t)==Z}function _a(t){return"symbol"==typeof t||fa(t)&&Vi(t)==J}var ba=Fe?or(Fe):function(t){return fa(t)&&la(t.length)&&!!ve[Vi(t)]},xa=ns(Ji),Ta=ns(function(t,e){return t<=e});function wa(t){if(!t)return[];if(ia(t))return ga(t)?xr(t):zn(t);if(qe&&t[qe])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[qe]());var e=Ps(t);return(e==X?mr:e==K?_r:Za)(t)}function Ea(t){return t?(t=Ca(t))===C||t===-C?(t<0?-1:1)*M:t==t?t:0:0===t?t:0}function Sa(t){var e=Ea(t),r=e%1;return e==e?r?e-r:e:0}function Pa(t){return t?Ti(Sa(t),0,I):0}function Ca(t){if("number"==typeof t)return t;if(_a(t))return O;if(ca(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ca(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ct,"");var r=Bt.test(t);return r||Vt.test(t)?xe(t.slice(2),r?2:8):Nt.test(t)?O:+t}function Aa(t){return Gn(t,Ua(t))}function Ma(t){return null==t?"":xn(t)}var Oa=Xn(function(t,e){if(Fs(e)||ia(e))Gn(e,Ga(e),t);else for(var r in e)re.call(e,r)&&yi(t,r,e[r])}),Ia=Xn(function(t,e){Gn(e,Ua(e),t)}),Da=Xn(function(t,e,r,i){Gn(e,Ua(e),t,i)}),Ra=Xn(function(t,e,r,i){Gn(e,Ga(e),t,i)}),ka=ds(xi),Fa=cn(function(t,e){t=Yt(t);var r=-1,i=e.length,n=i>2?e[2]:s;for(n&&Is(e[0],e[1],n)&&(i=1);++r<i;)for(var o=e[r],a=Ua(o),h=-1,u=a.length;++h<u;){var l=a[h],c=t[l];(c===s||Zo(c,Qt[l])&&!re.call(t,l))&&(t[l]=o[l])}return t}),La=cn(function(t){return t.push(s,cs),Le(Ha,s,t)});function Na(t,e,r){var i=null==t?s:Bi(t,e);return i===s?r:i}function Ba(t,e){return null!=t&&Cs(t,e,Ui)}var ja=Qn(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=se.call(e)),t[e]=r},ch(dh)),Va=Qn(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=se.call(e)),re.call(t,e)?t[e].push(r):t[e]=[r]},bs),za=cn(Hi);function Ga(t){return ia(t)?pi(t):Zi(t)}function Ua(t){return ia(t)?pi(t,!0):function(t){if(!ca(t))return function(t){var e=[];if(null!=t)for(var r in Yt(t))e.push(r);return e}(t);var e=Fs(t),r=[];for(var i in t)("constructor"!=i||!e&&re.call(t,i))&&r.push(i);return r}(t)}var Xa=Xn(function(t,e,r){rn(t,e,r)}),Ha=Xn(function(t,e,r,i){rn(t,e,r,i)}),Wa=ds(function(t,e){var r={};if(null==t)return r;var i=!1;e=Ue(e,function(e){return e=In(e,t),i||(i=e.length>1),e}),Gn(t,ys(t),r),i&&(r=wi(r,l|c|f,fs));for(var n=e.length;n--;)wn(r,e[n]);return r}),Ya=ds(function(t,e){return null==t?{}:function(t,e){return on(t,e,function(e,r){return Ba(t,r)})}(t,e)});function qa(t,e){if(null==t)return{};var r=Ue(ys(t),function(t){return[t]});return e=bs(e),on(t,r,function(t,r){return e(t,r[0])})}var $a=hs(Ga),Ka=hs(Ua);function Za(t){return null==t?[]:ar(t,Ga(t))}var Ja=qn(function(t,e,r){return e=e.toLowerCase(),t+(r?Qa(e):e)});function Qa(t){return ah(Ma(t).toLowerCase())}function th(t){return(t=Ma(t))&&t.replace(Gt,cr).replace(le,"")}var eh=qn(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),rh=qn(function(t,e,r){return t+(r?" ":"")+e.toLowerCase()}),ih=Yn("toLowerCase"),nh=qn(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}),sh=qn(function(t,e,r){return t+(r?" ":"")+ah(e)}),oh=qn(function(t,e,r){return t+(r?" ":"")+e.toUpperCase()}),ah=Yn("toUpperCase");function hh(t,e,r){return t=Ma(t),(e=r?s:e)===s?function(t){return de.test(t)}(t)?function(t){return t.match(fe)||[]}(t):function(t){return t.match(Rt)||[]}(t):t.match(e)||[]}var uh=cn(function(t,e){try{return Le(t,s,e)}catch(t){return aa(t)?t:new n(t)}}),lh=ds(function(t,e){return Be(e,function(e){e=Ys(e),bi(t,e,Vo(t[e],t))}),t});function ch(t){return function(){return t}}var fh=Zn(),ph=Zn(!0);function dh(t){return t}function mh(t){return Ki("function"==typeof t?t:wi(t,l))}var yh=cn(function(t,e){return function(r){return Hi(r,t,e)}}),vh=cn(function(t,e){return function(r){return Hi(t,r,e)}});function gh(t,e,r){var i=Ga(e),n=Ni(e,i);null!=r||ca(e)&&(n.length||!i.length)||(r=e,e=t,t=this,n=Ni(e,Ga(e)));var s=!(ca(r)&&"chain"in r&&!r.chain),o=ha(t);return Be(n,function(r){var i=e[r];t[r]=i,o&&(t.prototype[r]=function(){var e=this.__chain__;if(s||e){var r=t(this.__wrapped__);return(r.__actions__=zn(this.__actions__)).push({func:i,args:arguments,thisArg:t}),r.__chain__=e,r}return i.apply(t,Xe([this.value()],arguments))})}),t}function _h(){}var bh=es(Ue),xh=es(je),Th=es(Ye);function wh(t){return Ds(t)?er(Ys(t)):function(t){return function(e){return Bi(e,t)}}(t)}var Eh=is(),Sh=is(!0);function Ph(){return[]}function Ch(){return!1}var Ah=ts(function(t,e){return t+e},0),Mh=os("ceil"),Oh=ts(function(t,e){return t/e},1),Ih=os("floor"),Dh=ts(function(t,e){return t*e},1),Rh=os("round"),kh=ts(function(t,e){return t-e},0);return ii.after=function(t,e){if("function"!=typeof e)throw new Kt(a);return t=Sa(t),function(){if(--t<1)return e.apply(this,arguments)}},ii.ary=Bo,ii.assign=Oa,ii.assignIn=Ia,ii.assignInWith=Da,ii.assignWith=Ra,ii.at=ka,ii.before=jo,ii.bind=Vo,ii.bindAll=lh,ii.bindKey=zo,ii.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ea(t)?t:[t]},ii.chain=wo,ii.chunk=function(t,e,i){e=(i?Is(t,e,i):e===s)?1:Fr(Sa(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var o=0,a=0,h=r(Ar(n/e));o<n;)h[a++]=mn(t,o,o+=e);return h},ii.compact=function(t){for(var e=-1,r=null==t?0:t.length,i=0,n=[];++e<r;){var s=t[e];s&&(n[i++]=s)}return n},ii.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),i=arguments[0],n=t;n--;)e[n-1]=arguments[n];return Xe(ea(i)?zn(i):[i],Di(e,1))},ii.cond=function(t){var e=null==t?0:t.length,r=bs();return t=e?Ue(t,function(t){if("function"!=typeof t[1])throw new Kt(a);return[r(t[0]),t[1]]}):[],cn(function(r){for(var i=-1;++i<e;){var n=t[i];if(Le(n[0],this,r))return Le(n[1],this,r)}})},ii.conforms=function(t){return function(t){var e=Ga(t);return function(r){return Ei(r,t,e)}}(wi(t,l))},ii.constant=ch,ii.countBy=Po,ii.create=function(t,e){var r=ni(t);return null==e?r:_i(r,e)},ii.curry=function t(e,r,i){var n=us(e,g,s,s,s,s,s,r=i?s:r);return n.placeholder=t.placeholder,n},ii.curryRight=function t(e,r,i){var n=us(e,_,s,s,s,s,s,r=i?s:r);return n.placeholder=t.placeholder,n},ii.debounce=Go,ii.defaults=Fa,ii.defaultsDeep=La,ii.defer=Uo,ii.delay=Xo,ii.difference=Ks,ii.differenceBy=Zs,ii.differenceWith=Js,ii.drop=function(t,e,r){var i=null==t?0:t.length;return i?mn(t,(e=r||e===s?1:Sa(e))<0?0:e,i):[]},ii.dropRight=function(t,e,r){var i=null==t?0:t.length;return i?mn(t,0,(e=i-(e=r||e===s?1:Sa(e)))<0?0:e):[]},ii.dropRightWhile=function(t,e){return t&&t.length?Sn(t,bs(e,3),!0,!0):[]},ii.dropWhile=function(t,e){return t&&t.length?Sn(t,bs(e,3),!0):[]},ii.fill=function(t,e,r,i){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&Is(t,e,r)&&(r=0,i=n),function(t,e,r,i){var n=t.length;for((r=Sa(r))<0&&(r=-r>n?0:n+r),(i=i===s||i>n?n:Sa(i))<0&&(i+=n),i=r>i?0:Pa(i);r<i;)t[r++]=e;return t}(t,e,r,i)):[]},ii.filter=function(t,e){return(ea(t)?Ve:Ii)(t,bs(e,3))},ii.flatMap=function(t,e){return Di(ko(t,e),1)},ii.flatMapDeep=function(t,e){return Di(ko(t,e),C)},ii.flatMapDepth=function(t,e,r){return r=r===s?1:Sa(r),Di(ko(t,e),r)},ii.flatten=eo,ii.flattenDeep=function(t){return null!=t&&t.length?Di(t,C):[]},ii.flattenDepth=function(t,e){return null!=t&&t.length?Di(t,e=e===s?1:Sa(e)):[]},ii.flip=function(t){return us(t,E)},ii.flow=fh,ii.flowRight=ph,ii.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,i={};++e<r;){var n=t[e];i[n[0]]=n[1]}return i},ii.functions=function(t){return null==t?[]:Ni(t,Ga(t))},ii.functionsIn=function(t){return null==t?[]:Ni(t,Ua(t))},ii.groupBy=Io,ii.initial=function(t){return null!=t&&t.length?mn(t,0,-1):[]},ii.intersection=io,ii.intersectionBy=no,ii.intersectionWith=so,ii.invert=ja,ii.invertBy=Va,ii.invokeMap=Do,ii.iteratee=mh,ii.keyBy=Ro,ii.keys=Ga,ii.keysIn=Ua,ii.map=ko,ii.mapKeys=function(t,e){var r={};return e=bs(e,3),Fi(t,function(t,i,n){bi(r,e(t,i,n),t)}),r},ii.mapValues=function(t,e){var r={};return e=bs(e,3),Fi(t,function(t,i,n){bi(r,i,e(t,i,n))}),r},ii.matches=function(t){return tn(wi(t,l))},ii.matchesProperty=function(t,e){return en(t,wi(e,l))},ii.memoize=Ho,ii.merge=Xa,ii.mergeWith=Ha,ii.method=yh,ii.methodOf=vh,ii.mixin=gh,ii.negate=Wo,ii.nthArg=function(t){return t=Sa(t),cn(function(e){return nn(e,t)})},ii.omit=Wa,ii.omitBy=function(t,e){return qa(t,Wo(bs(e)))},ii.once=function(t){return jo(2,t)},ii.orderBy=function(t,e,r,i){return null==t?[]:(ea(e)||(e=null==e?[]:[e]),ea(r=i?s:r)||(r=null==r?[]:[r]),sn(t,e,r))},ii.over=bh,ii.overArgs=Yo,ii.overEvery=xh,ii.overSome=Th,ii.partial=qo,ii.partialRight=$o,ii.partition=Fo,ii.pick=Ya,ii.pickBy=qa,ii.property=wh,ii.propertyOf=function(t){return function(e){return null==t?s:Bi(t,e)}},ii.pull=ao,ii.pullAll=ho,ii.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?an(t,e,bs(r,2)):t},ii.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?an(t,e,s,r):t},ii.pullAt=uo,ii.range=Eh,ii.rangeRight=Sh,ii.rearg=Ko,ii.reject=function(t,e){return(ea(t)?Ve:Ii)(t,Wo(bs(e,3)))},ii.remove=function(t,e){var r=[];if(!t||!t.length)return r;var i=-1,n=[],s=t.length;for(e=bs(e,3);++i<s;){var o=t[i];e(o,i,t)&&(r.push(o),n.push(i))}return hn(t,n),r},ii.rest=function(t,e){if("function"!=typeof t)throw new Kt(a);return cn(t,e=e===s?e:Sa(e))},ii.reverse=lo,ii.sampleSize=function(t,e,r){return e=(r?Is(t,e,r):e===s)?1:Sa(e),(ea(t)?function(t,e){return Hs(zn(t),Ti(e,0,t.length))}:function(t,e){var r=Za(t);return Hs(r,Ti(e,0,r.length))})(t,e)},ii.set=function(t,e,r){return null==t?t:fn(t,e,r)},ii.setWith=function(t,e,r,i){return i="function"==typeof i?i:s,null==t?t:fn(t,e,r,i)},ii.shuffle=function(t){return(ea(t)?function(t){return Hs(zn(t))}:function(t){return Hs(Za(t))})(t)},ii.slice=function(t,e,r){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&Is(t,e,r)?(e=0,r=i):(e=null==e?0:Sa(e),r=r===s?i:Sa(r)),mn(t,e,r)):[]},ii.sortBy=Lo,ii.sortedUniq=function(t){return t&&t.length?_n(t):[]},ii.sortedUniqBy=function(t,e){return t&&t.length?_n(t,bs(e,2)):[]},ii.split=function(t,e,r){return r&&"number"!=typeof r&&Is(t,e,r)&&(e=r=s),(r=r===s?I:r>>>0)?(t=Ma(t))&&("string"==typeof e||null!=e&&!ya(e))&&!(e=xn(e))&&dr(t)?Rn(xr(t),0,r):t.split(e,r):[]},ii.spread=function(t,e){if("function"!=typeof t)throw new Kt(a);return e=null==e?0:Fr(Sa(e),0),cn(function(r){var i=r[e],n=Rn(r,0,e);return i&&Xe(n,i),Le(t,this,n)})},ii.tail=function(t){var e=null==t?0:t.length;return e?mn(t,1,e):[]},ii.take=function(t,e,r){return t&&t.length?mn(t,0,(e=r||e===s?1:Sa(e))<0?0:e):[]},ii.takeRight=function(t,e,r){var i=null==t?0:t.length;return i?mn(t,(e=i-(e=r||e===s?1:Sa(e)))<0?0:e,i):[]},ii.takeRightWhile=function(t,e){return t&&t.length?Sn(t,bs(e,3),!1,!0):[]},ii.takeWhile=function(t,e){return t&&t.length?Sn(t,bs(e,3)):[]},ii.tap=function(t,e){return e(t),t},ii.throttle=function(t,e,r){var i=!0,n=!0;if("function"!=typeof t)throw new Kt(a);return ca(r)&&(i="leading"in r?!!r.leading:i,n="trailing"in r?!!r.trailing:n),Go(t,e,{leading:i,maxWait:e,trailing:n})},ii.thru=Eo,ii.toArray=wa,ii.toPairs=$a,ii.toPairsIn=Ka,ii.toPath=function(t){return ea(t)?Ue(t,Ys):_a(t)?[t]:zn(Ws(Ma(t)))},ii.toPlainObject=Aa,ii.transform=function(t,e,r){var i=ea(t),n=i||sa(t)||ba(t);if(e=bs(e,4),null==r){var s=t&&t.constructor;r=n?i?new s:[]:ca(t)&&ha(s)?ni(we(t)):{}}return(n?Be:Fi)(t,function(t,i,n){return e(r,t,i,n)}),r},ii.unary=function(t){return Bo(t,1)},ii.union=co,ii.unionBy=fo,ii.unionWith=po,ii.uniq=function(t){return t&&t.length?Tn(t):[]},ii.uniqBy=function(t,e){return t&&t.length?Tn(t,bs(e,2)):[]},ii.uniqWith=function(t,e){return e="function"==typeof e?e:s,t&&t.length?Tn(t,s,e):[]},ii.unset=function(t,e){return null==t||wn(t,e)},ii.unzip=mo,ii.unzipWith=yo,ii.update=function(t,e,r){return null==t?t:En(t,e,On(r))},ii.updateWith=function(t,e,r,i){return i="function"==typeof i?i:s,null==t?t:En(t,e,On(r),i)},ii.values=Za,ii.valuesIn=function(t){return null==t?[]:ar(t,Ua(t))},ii.without=vo,ii.words=hh,ii.wrap=function(t,e){return qo(On(e),t)},ii.xor=go,ii.xorBy=_o,ii.xorWith=bo,ii.zip=xo,ii.zipObject=function(t,e){return An(t||[],e||[],yi)},ii.zipObjectDeep=function(t,e){return An(t||[],e||[],fn)},ii.zipWith=To,ii.entries=$a,ii.entriesIn=Ka,ii.extend=Ia,ii.extendWith=Da,gh(ii,ii),ii.add=Ah,ii.attempt=uh,ii.camelCase=Ja,ii.capitalize=Qa,ii.ceil=Mh,ii.clamp=function(t,e,r){return r===s&&(r=e,e=s),r!==s&&(r=(r=Ca(r))==r?r:0),e!==s&&(e=(e=Ca(e))==e?e:0),Ti(Ca(t),e,r)},ii.clone=function(t){return wi(t,f)},ii.cloneDeep=function(t){return wi(t,l|f)},ii.cloneDeepWith=function(t,e){return wi(t,l|f,e="function"==typeof e?e:s)},ii.cloneWith=function(t,e){return wi(t,f,e="function"==typeof e?e:s)},ii.conformsTo=function(t,e){return null==e||Ei(t,e,Ga(e))},ii.deburr=th,ii.defaultTo=function(t,e){return null==t||t!=t?e:t},ii.divide=Oh,ii.endsWith=function(t,e,r){t=Ma(t),e=xn(e);var i=t.length,n=r=r===s?i:Ti(Sa(r),0,i);return(r-=e.length)>=0&&t.slice(r,n)==e},ii.eq=Zo,ii.escape=function(t){return(t=Ma(t))&&gt.test(t)?t.replace(yt,fr):t},ii.escapeRegExp=function(t){return(t=Ma(t))&&Pt.test(t)?t.replace(St,"\\$&"):t},ii.every=function(t,e,r){var i=ea(t)?je:Mi;return r&&Is(t,e,r)&&(e=s),i(t,bs(e,3))},ii.find=Co,ii.findIndex=Qs,ii.findKey=function(t,e){return $e(t,bs(e,3),Fi)},ii.findLast=Ao,ii.findLastIndex=to,ii.findLastKey=function(t,e){return $e(t,bs(e,3),Li)},ii.floor=Ih,ii.forEach=Mo,ii.forEachRight=Oo,ii.forIn=function(t,e){return null==t?t:Ri(t,bs(e,3),Ua)},ii.forInRight=function(t,e){return null==t?t:ki(t,bs(e,3),Ua)},ii.forOwn=function(t,e){return t&&Fi(t,bs(e,3))},ii.forOwnRight=function(t,e){return t&&Li(t,bs(e,3))},ii.get=Na,ii.gt=Jo,ii.gte=Qo,ii.has=function(t,e){return null!=t&&Cs(t,e,Gi)},ii.hasIn=Ba,ii.head=ro,ii.identity=dh,ii.includes=function(t,e,r,i){t=ia(t)?t:Za(t),r=r&&!i?Sa(r):0;var n=t.length;return r<0&&(r=Fr(n+r,0)),ga(t)?r<=n&&t.indexOf(e,r)>-1:!!n&&Ze(t,e,r)>-1},ii.indexOf=function(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var n=null==r?0:Sa(r);return n<0&&(n=Fr(i+n,0)),Ze(t,e,n)},ii.inRange=function(t,e,r){return e=Ea(e),r===s?(r=e,e=0):r=Ea(r),function(t,e,r){return t>=Lr(e,r)&&t<Fr(e,r)}(t=Ca(t),e,r)},ii.invoke=za,ii.isArguments=ta,ii.isArray=ea,ii.isArrayBuffer=ra,ii.isArrayLike=ia,ii.isArrayLikeObject=na,ii.isBoolean=function(t){return!0===t||!1===t||fa(t)&&Vi(t)==B},ii.isBuffer=sa,ii.isDate=oa,ii.isElement=function(t){return fa(t)&&1===t.nodeType&&!ma(t)},ii.isEmpty=function(t){if(null==t)return!0;if(ia(t)&&(ea(t)||"string"==typeof t||"function"==typeof t.splice||sa(t)||ba(t)||ta(t)))return!t.length;var e=Ps(t);if(e==X||e==K)return!t.size;if(Fs(t))return!Zi(t).length;for(var r in t)if(re.call(t,r))return!1;return!0},ii.isEqual=function(t,e){return Yi(t,e)},ii.isEqualWith=function(t,e,r){var i=(r="function"==typeof r?r:s)?r(t,e):s;return i===s?Yi(t,e,s,r):!!i},ii.isError=aa,ii.isFinite=function(t){return"number"==typeof t&&Dr(t)},ii.isFunction=ha,ii.isInteger=ua,ii.isLength=la,ii.isMap=pa,ii.isMatch=function(t,e){return t===e||qi(t,e,Ts(e))},ii.isMatchWith=function(t,e,r){return r="function"==typeof r?r:s,qi(t,e,Ts(e),r)},ii.isNaN=function(t){return da(t)&&t!=+t},ii.isNative=function(t){if(ks(t))throw new n("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return $i(t)},ii.isNil=function(t){return null==t},ii.isNull=function(t){return null===t},ii.isNumber=da,ii.isObject=ca,ii.isObjectLike=fa,ii.isPlainObject=ma,ii.isRegExp=ya,ii.isSafeInteger=function(t){return ua(t)&&t>=-A&&t<=A},ii.isSet=va,ii.isString=ga,ii.isSymbol=_a,ii.isTypedArray=ba,ii.isUndefined=function(t){return t===s},ii.isWeakMap=function(t){return fa(t)&&Ps(t)==tt},ii.isWeakSet=function(t){return fa(t)&&"[object WeakSet]"==Vi(t)},ii.join=function(t,e){return null==t?"":Rr.call(t,e)},ii.kebabCase=eh,ii.last=oo,ii.lastIndexOf=function(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var n=i;return r!==s&&(n=(n=Sa(r))<0?Fr(i+n,0):Lr(n,i-1)),e==e?function(t,e,r){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e):Ke(t,Qe,n,!0)},ii.lowerCase=rh,ii.lowerFirst=ih,ii.lt=xa,ii.lte=Ta,ii.max=function(t){return t&&t.length?Oi(t,dh,zi):s},ii.maxBy=function(t,e){return t&&t.length?Oi(t,bs(e,2),zi):s},ii.mean=function(t){return tr(t,dh)},ii.meanBy=function(t,e){return tr(t,bs(e,2))},ii.min=function(t){return t&&t.length?Oi(t,dh,Ji):s},ii.minBy=function(t,e){return t&&t.length?Oi(t,bs(e,2),Ji):s},ii.stubArray=Ph,ii.stubFalse=Ch,ii.stubObject=function(){return{}},ii.stubString=function(){return""},ii.stubTrue=function(){return!0},ii.multiply=Dh,ii.nth=function(t,e){return t&&t.length?nn(t,Sa(e)):s},ii.noConflict=function(){return Ee._===this&&(Ee._=ae),this},ii.noop=_h,ii.now=No,ii.pad=function(t,e,r){t=Ma(t);var i=(e=Sa(e))?br(t):0;if(!e||i>=e)return t;var n=(e-i)/2;return rs(Mr(n),r)+t+rs(Ar(n),r)},ii.padEnd=function(t,e,r){t=Ma(t);var i=(e=Sa(e))?br(t):0;return e&&i<e?t+rs(e-i,r):t},ii.padStart=function(t,e,r){t=Ma(t);var i=(e=Sa(e))?br(t):0;return e&&i<e?rs(e-i,r)+t:t},ii.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),Br(Ma(t).replace(At,""),e||0)},ii.random=function(t,e,r){if(r&&"boolean"!=typeof r&&Is(t,e,r)&&(e=r=s),r===s&&("boolean"==typeof e?(r=e,e=s):"boolean"==typeof t&&(r=t,t=s)),t===s&&e===s?(t=0,e=1):(t=Ea(t),e===s?(e=t,t=0):e=Ea(e)),t>e){var i=t;t=e,e=i}if(r||t%1||e%1){var n=jr();return Lr(t+n*(e-t+be("1e-"+((n+"").length-1))),e)}return un(t,e)},ii.reduce=function(t,e,r){var i=ea(t)?He:ir,n=arguments.length<3;return i(t,bs(e,4),r,n,Ci)},ii.reduceRight=function(t,e,r){var i=ea(t)?We:ir,n=arguments.length<3;return i(t,bs(e,4),r,n,Ai)},ii.repeat=function(t,e,r){return e=(r?Is(t,e,r):e===s)?1:Sa(e),ln(Ma(t),e)},ii.replace=function(){var t=arguments,e=Ma(t[0]);return t.length<3?e:e.replace(t[1],t[2])},ii.result=function(t,e,r){var i=-1,n=(e=In(e,t)).length;for(n||(n=1,t=s);++i<n;){var o=null==t?s:t[Ys(e[i])];o===s&&(i=n,o=r),t=ha(o)?o.call(t):o}return t},ii.round=Rh,ii.runInContext=t,ii.sample=function(t){return(ea(t)?di:function(t){return di(Za(t))})(t)},ii.size=function(t){if(null==t)return 0;if(ia(t))return ga(t)?br(t):t.length;var e=Ps(t);return e==X||e==K?t.size:Zi(t).length},ii.snakeCase=nh,ii.some=function(t,e,r){var i=ea(t)?Ye:yn;return r&&Is(t,e,r)&&(e=s),i(t,bs(e,3))},ii.sortedIndex=function(t,e){return vn(t,e)},ii.sortedIndexBy=function(t,e,r){return gn(t,e,bs(r,2))},ii.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var i=vn(t,e);if(i<r&&Zo(t[i],e))return i}return-1},ii.sortedLastIndex=function(t,e){return vn(t,e,!0)},ii.sortedLastIndexBy=function(t,e,r){return gn(t,e,bs(r,2),!0)},ii.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var r=vn(t,e,!0)-1;if(Zo(t[r],e))return r}return-1},ii.startCase=sh,ii.startsWith=function(t,e,r){return t=Ma(t),r=null==r?0:Ti(Sa(r),0,t.length),e=xn(e),t.slice(r,r+e.length)==e},ii.subtract=kh,ii.sum=function(t){return t&&t.length?nr(t,dh):0},ii.sumBy=function(t,e){return t&&t.length?nr(t,bs(e,2)):0},ii.template=function(t,e,r){var i=ii.templateSettings;r&&Is(t,e,r)&&(e=s),t=Ma(t),e=Da({},e,i,ls);var n,o,a=Da({},e.imports,i.imports,ls),h=Ga(a),u=ar(a,h),l=0,c=e.interpolate||Ut,f="__p += '",p=qt((e.escape||Ut).source+"|"+c.source+"|"+(c===xt?Ft:Ut).source+"|"+(e.evaluate||Ut).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++ye+"]")+"\n";t.replace(p,function(e,r,i,s,a,h){return i||(i=s),f+=t.slice(l,h).replace(Xt,pr),r&&(n=!0,f+="' +\n__e("+r+") +\n'"),a&&(o=!0,f+="';\n"+a+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=h+e.length,e}),f+="';\n";var m=e.variable;m||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(ft,""):f).replace(pt,"$1").replace(dt,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(n?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=uh(function(){return Ht(h,d+"return "+f).apply(s,u)});if(y.source=f,aa(y))throw y;return y},ii.times=function(t,e){if((t=Sa(t))<1||t>A)return[];var r=I,i=Lr(t,I);e=bs(e),t-=I;for(var n=sr(i,e);++r<t;)e(r);return n},ii.toFinite=Ea,ii.toInteger=Sa,ii.toLength=Pa,ii.toLower=function(t){return Ma(t).toLowerCase()},ii.toNumber=Ca,ii.toSafeInteger=function(t){return t?Ti(Sa(t),-A,A):0===t?t:0},ii.toString=Ma,ii.toUpper=function(t){return Ma(t).toUpperCase()},ii.trim=function(t,e,r){if((t=Ma(t))&&(r||e===s))return t.replace(Ct,"");if(!t||!(e=xn(e)))return t;var i=xr(t),n=xr(e);return Rn(i,ur(i,n),lr(i,n)+1).join("")},ii.trimEnd=function(t,e,r){if((t=Ma(t))&&(r||e===s))return t.replace(Mt,"");if(!t||!(e=xn(e)))return t;var i=xr(t);return Rn(i,0,lr(i,xr(e))+1).join("")},ii.trimStart=function(t,e,r){if((t=Ma(t))&&(r||e===s))return t.replace(At,"");if(!t||!(e=xn(e)))return t;var i=xr(t);return Rn(i,ur(i,xr(e))).join("")},ii.truncate=function(t,e){var r=30,i="...";if(ca(e)){var n="separator"in e?e.separator:n;r="length"in e?Sa(e.length):r,i="omission"in e?xn(e.omission):i}var o=(t=Ma(t)).length;if(dr(t)){var a=xr(t);o=a.length}if(r>=o)return t;var h=r-br(i);if(h<1)return i;var u=a?Rn(a,0,h).join(""):t.slice(0,h);if(n===s)return u+i;if(a&&(h+=u.length-h),ya(n)){if(t.slice(h).search(n)){var l,c=u;for(n.global||(n=qt(n.source,Ma(Lt.exec(n))+"g")),n.lastIndex=0;l=n.exec(c);)var f=l.index;u=u.slice(0,f===s?h:f)}}else if(t.indexOf(xn(n),h)!=h){var p=u.lastIndexOf(n);p>-1&&(u=u.slice(0,p))}return u+i},ii.unescape=function(t){return(t=Ma(t))&&vt.test(t)?t.replace(mt,Tr):t},ii.uniqueId=function(t){var e=++ie;return Ma(t)+e},ii.upperCase=oh,ii.upperFirst=ah,ii.each=Mo,ii.eachRight=Oo,ii.first=ro,gh(ii,function(){var t={};return Fi(ii,function(e,r){re.call(ii.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),ii.VERSION="4.17.10",Be(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){ii[t].placeholder=ii}),Be(["drop","take"],function(t,e){ai.prototype[t]=function(r){r=r===s?1:Fr(Sa(r),0);var i=this.__filtered__&&!e?new ai(this):this.clone();return i.__filtered__?i.__takeCount__=Lr(r,i.__takeCount__):i.__views__.push({size:Lr(r,I),type:t+(i.__dir__<0?"Right":"")}),i},ai.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Be(["filter","map","takeWhile"],function(t,e){var r=e+1,i=1==r||3==r;ai.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:bs(t,3),type:r}),e.__filtered__=e.__filtered__||i,e}}),Be(["head","last"],function(t,e){var r="take"+(e?"Right":"");ai.prototype[t]=function(){return this[r](1).value()[0]}}),Be(["initial","tail"],function(t,e){var r="drop"+(e?"":"Right");ai.prototype[t]=function(){return this.__filtered__?new ai(this):this[r](1)}}),ai.prototype.compact=function(){return this.filter(dh)},ai.prototype.find=function(t){return this.filter(t).head()},ai.prototype.findLast=function(t){return this.reverse().find(t)},ai.prototype.invokeMap=cn(function(t,e){return"function"==typeof t?new ai(this):this.map(function(r){return Hi(r,t,e)})}),ai.prototype.reject=function(t){return this.filter(Wo(bs(t)))},ai.prototype.slice=function(t,e){t=Sa(t);var r=this;return r.__filtered__&&(t>0||e<0)?new ai(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==s&&(r=(e=Sa(e))<0?r.dropRight(-e):r.take(e-t)),r)},ai.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},ai.prototype.toArray=function(){return this.take(I)},Fi(ai.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),n=ii[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);n&&(ii.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,h=e instanceof ai,u=a[0],l=h||ea(e),c=function(t){var e=n.apply(ii,Xe([t],a));return i&&f?e[0]:e};l&&r&&"function"==typeof u&&1!=u.length&&(h=l=!1);var f=this.__chain__,p=!!this.__actions__.length,d=o&&!f,m=h&&!p;if(!o&&l){e=m?e:new ai(this);var y=t.apply(e,a);return y.__actions__.push({func:Eo,args:[c],thisArg:s}),new oi(y,f)}return d&&m?t.apply(this,a):(y=this.thru(c),d?i?y.value()[0]:y.value():y)})}),Be(["pop","push","shift","sort","splice","unshift"],function(t){var e=Zt[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);ii.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(ea(n)?n:[],t)}return this[r](function(r){return e.apply(ea(r)?r:[],t)})}}),Fi(ai.prototype,function(t,e){var r=ii[e];if(r){var i=r.name+"";(qr[i]||(qr[i]=[])).push({name:e,func:r})}}),qr[Jn(s,y).name]=[{name:"wrapper",func:s}],ai.prototype.clone=function(){var t=new ai(this.__wrapped__);return t.__actions__=zn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=zn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=zn(this.__views__),t},ai.prototype.reverse=function(){if(this.__filtered__){var t=new ai(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},ai.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=ea(t),i=e<0,n=r?t.length:0,s=function(t,e,r){for(var i=-1,n=r.length;++i<n;){var s=r[i],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=Lr(e,t+o);break;case"takeRight":t=Fr(t,e-o)}}return{start:t,end:e}}(0,n,this.__views__),o=s.start,a=s.end,h=a-o,u=i?a:o-1,l=this.__iteratees__,c=l.length,f=0,p=Lr(h,this.__takeCount__);if(!r||!i&&n==h&&p==h)return Pn(t,this.__actions__);var d=[];t:for(;h--&&f<p;){for(var m=-1,y=t[u+=e];++m<c;){var v=l[m],g=v.iteratee,_=v.type,b=g(y);if(2==_)y=b;else if(!b){if(1==_)continue t;break t}}d[f++]=y}return d},ii.prototype.at=So,ii.prototype.chain=function(){return wo(this)},ii.prototype.commit=function(){return new oi(this.value(),this.__chain__)},ii.prototype.next=function(){this.__values__===s&&(this.__values__=wa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?s:this.__values__[this.__index__++]}},ii.prototype.plant=function(t){for(var e,r=this;r instanceof si;){var i=$s(r);i.__index__=0,i.__values__=s,e?n.__wrapped__=i:e=i;var n=i;r=r.__wrapped__}return n.__wrapped__=t,e},ii.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof ai){var e=t;return this.__actions__.length&&(e=new ai(this)),(e=e.reverse()).__actions__.push({func:Eo,args:[lo],thisArg:s}),new oi(e,this.__chain__)}return this.thru(lo)},ii.prototype.toJSON=ii.prototype.valueOf=ii.prototype.value=function(){return Pn(this.__wrapped__,this.__actions__)},ii.prototype.first=ii.prototype.head,qe&&(ii.prototype[qe]=function(){return this}),ii}();Ee._=wr,(n=function(){return wr}.call(e,r,e,i))===s||(i.exports=n)}).call(this)}).call(this,r(58),r(129)(t))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(73),n={position:50,duration:2,startTime:1};e.SlideUpTransition=class extends i.BaseTransition{constructor(){super({transId:"slide-up",name:"Slide up",desc:"",cat:"Sliding",thumb:"https://cdn0.iconfinder.com/data/icons/line-design-multimedia-set-2/21/transition-cover-512.png"})}buildTimelineScript(t,e,r){r=Object.assign({},n,r),t.set(e,{pixi:{y:`+=${r.position}`}}).to(e,`${r.duration}`,{pixi:{y:0}},`${r.startTime}`)}}},function(t,e,r){(function(r){var i,n=void 0!==t&&t.exports&&void 0!==r?r:this||window;
/*!
 * VERSION: 1.20.4
 * DATE: 2018-02-15
 * UPDATES AND DOCS AT: http://greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
/*!
 * VERSION: 1.20.4
 * DATE: 2018-02-15
 * UPDATES AND DOCS AT: http://greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
(n._gsQueue||(n._gsQueue=[])).push(function(){"use strict";n._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,r){var i=function(t){var e,r=[],i=t.length;for(e=0;e!==i;r.push(t[e++]));return r},n=function(t,e,r){var i,n,s=t.cycle;for(i in s)n=s[i],t[i]="function"==typeof n?n(r,e[r]):n[r%n.length];delete t.cycle},s=function(t,e,i){r.call(this,t,e,i),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=s.prototype.render},o=r._internals,a=o.isSelector,h=o.isArray,u=s.prototype=r.to({},.1,{}),l=[];s.version="1.20.4",u.constructor=s,u.kill()._gc=!1,s.killTweensOf=s.killDelayedCallsTo=r.killTweensOf,s.getTweensOf=r.getTweensOf,s.lagSmoothing=r.lagSmoothing,s.ticker=r.ticker,s.render=r.render,u.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),r.prototype.invalidate.call(this)},u.updateTo=function(t,e){var i,n=this.ratio,s=this.vars.immediateRender||t.immediateRender;for(i in e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),t)this.vars[i]=t[i];if(this._initted||s)if(e)this._initted=!1,s&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&r._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var o=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(o,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||s)for(var a,h=1/(1-n),u=this._firstPT;u;)a=u.s+u.c,u.c*=h,u.s=a-u.c,u=u._next;return this},u.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,s,a,h,u,l,c,f,p,d=this._dirty?this.totalDuration():this._totalDuration,m=this._time,y=this._totalTime,v=this._cycle,g=this._duration,_=this._rawPrevTime;if(t>=d-1e-7&&t>=0?(this._totalTime=d,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=g,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,s="onComplete",i=i||this._timeline.autoRemoveChildren),0===g&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(_<0||t<=0&&t>=-1e-7||1e-10===_&&"isPause"!==this.data)&&_!==t&&(i=!0,_>1e-10&&(s="onReverseComplete")),this._rawPrevTime=f=!e||t||_===t?t:1e-10)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==y||0===g&&_>0)&&(s="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===g&&(this._initted||!this.vars.lazy||i)&&(_>=0&&(i=!0),this._rawPrevTime=f=!e||t||_===t?t:1e-10)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(h=g+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&y<=t&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!=(1&this._cycle)&&(this._time=g-this._time,(p=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(!0!==p||this._initted?this._yoyoEase=p=!0===p?this._ease:p instanceof Ease?p:Ease.map[p]:(p=this.vars.ease,this._yoyoEase=p=p?p instanceof Ease?p:"function"==typeof p?new Ease(p,this.vars.easeParams):Ease.map[p]||r.defaultEase:r.defaultEase)),this.ratio=p?1-p.getRatio((g-this._time)/g):0)),this._time>g?this._time=g:this._time<0&&(this._time=0)),this._easeType&&!p?(u=this._time/g,l=this._easeType,c=this._easePower,(1===l||3===l&&u>=.5)&&(u=1-u),3===l&&(u*=2),1===c?u*=u:2===c?u*=u*u:3===c?u*=u*u*u:4===c&&(u*=u*u*u*u),1===l?this.ratio=1-u:2===l?this.ratio=u:this._time/g<.5?this.ratio=u/2:this.ratio=1-u/2):p||(this.ratio=this._ease.getRatio(this._time/g))),m!==this._time||i||v!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=m,this._totalTime=y,this._rawPrevTime=_,this._cycle=v,o.lazyTweens.push(this),void(this._lazy=[t,e]);!this._time||n||p?n&&this._ease._calcEnd&&!p&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/g)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==m&&t>=0&&(this._active=!0),0===y&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,!0,i):s||(s="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==g||e||this._callback("onStart"))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,!0,i),e||(this._totalTime!==y||s)&&this._callback("onUpdate")),this._cycle!==v&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),s&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,!0,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s),0===g&&1e-10===this._rawPrevTime&&1e-10!==f&&(this._rawPrevTime=0)))}else y!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},s.to=function(t,e,r){return new s(t,e,r)},s.from=function(t,e,r){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,new s(t,e,r)},s.fromTo=function(t,e,r,i){return i.startAt=r,i.immediateRender=0!=i.immediateRender&&0!=r.immediateRender,new s(t,e,i)},s.staggerTo=s.allTo=function(t,e,o,u,c,f,p){u=u||0;var d,m,y,v,g=0,_=[],b=function(){o.onComplete&&o.onComplete.apply(o.onCompleteScope||this,arguments),c.apply(p||o.callbackScope||this,f||l)},x=o.cycle,T=o.startAt&&o.startAt.cycle;for(h(t)||("string"==typeof t&&(t=r.selector(t)||t),a(t)&&(t=i(t))),t=t||[],u<0&&((t=i(t)).reverse(),u*=-1),d=t.length-1,y=0;y<=d;y++){for(v in m={},o)m[v]=o[v];if(x&&(n(m,t,y),null!=m.duration&&(e=m.duration,delete m.duration)),T){for(v in T=m.startAt={},o.startAt)T[v]=o.startAt[v];n(m.startAt,t,y)}m.delay=g+(m.delay||0),y===d&&c&&(m.onComplete=b),_[y]=new s(t[y],e,m),g+=u}return _},s.staggerFrom=s.allFrom=function(t,e,r,i,n,o,a){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,s.staggerTo(t,e,r,i,n,o,a)},s.staggerFromTo=s.allFromTo=function(t,e,r,i,n,o,a,h){return i.startAt=r,i.immediateRender=0!=i.immediateRender&&0!=r.immediateRender,s.staggerTo(t,e,i,n,o,a,h)},s.delayedCall=function(t,e,r,i,n){return new s(e,0,{delay:t,onComplete:e,onCompleteParams:r,callbackScope:i,onReverseComplete:e,onReverseCompleteParams:r,immediateRender:!1,useFrames:n,overwrite:0})},s.set=function(t,e){return new s(t,0,e)},s.isTweening=function(t){return r.getTweensOf(t,!0).length>0};var c=function(t,e){for(var i=[],n=0,s=t._first;s;)s instanceof r?i[n++]=s:(e&&(i[n++]=s),n=(i=i.concat(c(s,e))).length),s=s._next;return i},f=s.getAllTweens=function(e){return c(t._rootTimeline,e).concat(c(t._rootFramesTimeline,e))};s.killAll=function(t,r,i,n){null==r&&(r=!0),null==i&&(i=!0);var s,o,a,h=f(0!=n),u=h.length,l=r&&i&&n;for(a=0;a<u;a++)o=h[a],(l||o instanceof e||(s=o.target===o.vars.onComplete)&&i||r&&!s)&&(t?o.totalTime(o._reversed?0:o.totalDuration()):o._enabled(!1,!1))},s.killChildTweensOf=function(t,e){if(null!=t){var n,u,l,c,f,p=o.tweenLookup;if("string"==typeof t&&(t=r.selector(t)||t),a(t)&&(t=i(t)),h(t))for(c=t.length;--c>-1;)s.killChildTweensOf(t[c],e);else{for(l in n=[],p)for(u=p[l].target.parentNode;u;)u===t&&(n=n.concat(p[l].tweens)),u=u.parentNode;for(f=n.length,c=0;c<f;c++)e&&n[c].totalTime(n[c].totalDuration()),n[c]._enabled(!1,!1)}}};var p=function(t,r,i,n){r=!1!==r,i=!1!==i;for(var s,o,a=f(n=!1!==n),h=r&&i&&n,u=a.length;--u>-1;)o=a[u],(h||o instanceof e||(s=o.target===o.vars.onComplete)&&i||r&&!s)&&o.paused(t)};return s.pauseAll=function(t,e,r){p(!0,t,e,r)},s.resumeAll=function(t,e,r){p(!1,t,e,r)},s.globalTimeScale=function(e){var i=t._rootTimeline,n=r.ticker.time;return arguments.length?(e=e||1e-10,i._startTime=n-(n-i._startTime)*i._timeScale/e,i=t._rootFramesTimeline,n=r.ticker.frame,i._startTime=n-(n-i._startTime)*i._timeScale/e,i._timeScale=t._rootTimeline._timeScale=e,e):i._timeScale},u.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},u.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},u.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},u.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},u.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},u.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},u.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},s},!0),n._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,r){var i=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var r,i,n=this.vars;for(i in n)r=n[i],h(r)&&-1!==r.join("").indexOf("{self}")&&(n[i]=this._swapSelfInParams(r));h(n.tweens)&&this.add(n.tweens,0,n.align,n.stagger)},s=r._internals,o=i._internals={},a=s.isSelector,h=s.isArray,u=s.lazyTweens,l=s.lazyRender,c=n._gsDefine.globals,f=function(t){var e,r={};for(e in t)r[e]=t[e];return r},p=function(t,e,r){var i,n,s=t.cycle;for(i in s)n=s[i],t[i]="function"==typeof n?n(r,e[r]):n[r%n.length];delete t.cycle},d=o.pauseCallback=function(){},m=function(t){var e,r=[],i=t.length;for(e=0;e!==i;r.push(t[e++]));return r},y=i.prototype=new e;return i.version="1.20.4",y.constructor=i,y.kill()._gc=y._forcingPlayhead=y._hasPause=!1,y.to=function(t,e,i,n){var s=i.repeat&&c.TweenMax||r;return e?this.add(new s(t,e,i),n):this.set(t,i,n)},y.from=function(t,e,i,n){return this.add((i.repeat&&c.TweenMax||r).from(t,e,i),n)},y.fromTo=function(t,e,i,n,s){var o=n.repeat&&c.TweenMax||r;return e?this.add(o.fromTo(t,e,i,n),s):this.set(t,n,s)},y.staggerTo=function(t,e,n,s,o,h,u,l){var c,d,y=new i({onComplete:h,onCompleteParams:u,callbackScope:l,smoothChildTiming:this.smoothChildTiming}),v=n.cycle;for("string"==typeof t&&(t=r.selector(t)||t),a(t=t||[])&&(t=m(t)),(s=s||0)<0&&((t=m(t)).reverse(),s*=-1),d=0;d<t.length;d++)(c=f(n)).startAt&&(c.startAt=f(c.startAt),c.startAt.cycle&&p(c.startAt,t,d)),v&&(p(c,t,d),null!=c.duration&&(e=c.duration,delete c.duration)),y.to(t[d],e,c,d*s);return this.add(y,o)},y.staggerFrom=function(t,e,r,i,n,s,o,a){return r.immediateRender=0!=r.immediateRender,r.runBackwards=!0,this.staggerTo(t,e,r,i,n,s,o,a)},y.staggerFromTo=function(t,e,r,i,n,s,o,a,h){return i.startAt=r,i.immediateRender=0!=i.immediateRender&&0!=r.immediateRender,this.staggerTo(t,e,i,n,s,o,a,h)},y.call=function(t,e,i,n){return this.add(r.delayedCall(0,t,e,i),n)},y.set=function(t,e,i){return i=this._parseTimeOrLabel(i,0,!0),null==e.immediateRender&&(e.immediateRender=i===this._time&&!this._paused),this.add(new r(t,0,e),i)},i.exportRoot=function(t,e){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var n,s,o,a,h=new i(t),u=h._timeline;for(null==e&&(e=!0),u._remove(h,!0),h._startTime=0,h._rawPrevTime=h._time=h._totalTime=u._time,o=u._first;o;)a=o._next,e&&o instanceof r&&o.target===o.vars.onComplete||((s=o._startTime-o._delay)<0&&(n=1),h.add(o,s)),o=a;return u.add(h,0),n&&h.totalDuration(),h},y.add=function(n,s,o,a){var u,l,c,f,p,d;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,n)),!(n instanceof t)){if(n instanceof Array||n&&n.push&&h(n)){for(o=o||"normal",a=a||0,u=s,l=n.length,c=0;c<l;c++)h(f=n[c])&&(f=new i({tweens:f})),this.add(f,u),"string"!=typeof f&&"function"!=typeof f&&("sequence"===o?u=f._startTime+f.totalDuration()/f._timeScale:"start"===o&&(f._startTime-=f.delay())),u+=a;return this._uncache(!0)}if("string"==typeof n)return this.addLabel(n,s);if("function"!=typeof n)throw"Cannot add "+n+" into the timeline; it is not a tween, timeline, function, or string.";n=r.delayedCall(0,n)}if(e.prototype.add.call(this,n,s),n._time&&n.render((this.rawTime()-n._startTime)*n._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=(p=this).rawTime()>n._startTime;p._timeline;)d&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},y.remove=function(e){if(e instanceof t){this._remove(e,!1);var r=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:r._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&h(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},y._remove=function(t,r){return e.prototype._remove.call(this,t,r),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},y.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},y.insert=y.insertMultiple=function(t,e,r,i){return this.add(t,e||0,r,i)},y.appendMultiple=function(t,e,r,i){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),r,i)},y.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},y.addPause=function(t,e,i,n){var s=r.delayedCall(0,d,i,n||this);return s.vars.onComplete=s.vars.onReverseComplete=e,s.data="isPause",this._hasPause=!0,this.add(s,t)},y.removeLabel=function(t){return delete this._labels[t],this},y.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},y._parseTimeOrLabel=function(e,r,i,n){var s,o;if(n instanceof t&&n.timeline===this)this.remove(n);else if(n&&(n instanceof Array||n.push&&h(n)))for(o=n.length;--o>-1;)n[o]instanceof t&&n[o].timeline===this&&this.remove(n[o]);if(s="number"!=typeof e||r?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof r)return this._parseTimeOrLabel(r,i&&"number"==typeof e&&null==this._labels[r]?e-s:0,i);if(r=r||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=s);else{if(-1===(o=e.indexOf("=")))return null==this._labels[e]?i?this._labels[e]=s+r:r:this._labels[e]+r;r=parseInt(e.charAt(o-1)+"1",10)*Number(e.substr(o+1)),e=o>1?this._parseTimeOrLabel(e.substr(0,o-1),0,i):s}return Number(e)+r},y.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},y.stop=function(){return this.paused(!0)},y.gotoAndPlay=function(t,e){return this.play(t,e)},y.gotoAndStop=function(t,e){return this.pause(t,e)},y.render=function(t,e,r){this._gc&&this._enabled(!0,!1);var i,n,s,o,a,h,c,f=this._time,p=this._dirty?this.totalDuration():this._totalDuration,d=this._startTime,m=this._timeScale,y=this._paused;if(f!==this._time&&(t+=this._time-f),t>=p-1e-7&&t>=0)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(n=!0,o="onComplete",a=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||this._rawPrevTime<0||1e-10===this._rawPrevTime)&&this._rawPrevTime!==t&&this._first&&(a=!0,this._rawPrevTime>1e-10&&(o="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,t=p+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==f||0===this._duration&&1e-10!==this._rawPrevTime&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(o="onReverseComplete",n=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(a=n=!0,o="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(a=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&n)for(i=this._first;i&&0===i._startTime;)i._duration||(n=!1),i=i._next;t=0,this._initted||(a=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=f)for(i=this._first;i&&i._startTime<=t&&!h;)i._duration||"isPause"!==i.data||i.ratio||0===i._startTime&&0===this._rawPrevTime||(h=i),i=i._next;else for(i=this._last;i&&i._startTime>=t&&!h;)i._duration||"isPause"===i.data&&i._rawPrevTime>0&&(h=i),i=i._prev;h&&(this._time=t=h._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==f&&this._first||r||a||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==f&&t>0&&(this._active=!0),0===f&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),(c=this._time)>=f)for(i=this._first;i&&(s=i._next,c===this._time&&(!this._paused||y));)(i._active||i._startTime<=c&&!i._paused&&!i._gc)&&(h===i&&this.pause(),i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,r):i.render((t-i._startTime)*i._timeScale,e,r)),i=s;else for(i=this._last;i&&(s=i._prev,c===this._time&&(!this._paused||y));){if(i._active||i._startTime<=f&&!i._paused&&!i._gc){if(h===i){for(h=i._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,r),h=h._prev;h=null,this.pause()}i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,r):i.render((t-i._startTime)*i._timeScale,e,r)}i=s}this._onUpdate&&(e||(u.length&&l(),this._callback("onUpdate"))),o&&(this._gc||d!==this._startTime&&m===this._timeScale||(0===this._time||p>=this.totalDuration())&&(n&&(u.length&&l(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o)))}},y._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof i&&t._hasPausedChild())return!0;t=t._next}return!1},y.getChildren=function(t,e,i,n){n=n||-9999999999;for(var s=[],o=this._first,a=0;o;)o._startTime<n||(o instanceof r?!1!==e&&(s[a++]=o):(!1!==i&&(s[a++]=o),!1!==t&&(a=(s=s.concat(o.getChildren(!0,e,i))).length))),o=o._next;return s},y.getTweensOf=function(t,e){var i,n,s=this._gc,o=[],a=0;for(s&&this._enabled(!0,!0),n=(i=r.getTweensOf(t)).length;--n>-1;)(i[n].timeline===this||e&&this._contains(i[n]))&&(o[a++]=i[n]);return s&&this._enabled(!1,!0),o},y.recent=function(){return this._recent},y._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},y.shiftChildren=function(t,e,r){r=r||0;for(var i,n=this._first,s=this._labels;n;)n._startTime>=r&&(n._startTime+=t),n=n._next;if(e)for(i in s)s[i]>=r&&(s[i]+=t);return this._uncache(!0)},y._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var r=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),i=r.length,n=!1;--i>-1;)r[i]._kill(t,e)&&(n=!0);return n},y.clear=function(t){var e=this.getChildren(!1,!0,!0),r=e.length;for(this._time=this._totalTime=0;--r>-1;)e[r]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},y.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},y._enabled=function(t,r){if(t===this._gc)for(var i=this._first;i;)i._enabled(t,!0),i=i._next;return e.prototype._enabled.call(this,t,r)},y.totalTime=function(e,r,i){this._forcingPlayhead=!0;var n=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,n},y.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},y.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,r,i=0,n=this._last,s=999999999999;n;)e=n._prev,n._dirty&&n.totalDuration(),n._startTime>s&&this._sortChildren&&!n._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(n,n._startTime-n._delay),this._calculatingDuration=0):s=n._startTime,n._startTime<0&&!n._paused&&(i-=n._startTime,this._timeline.smoothChildTiming&&(this._startTime+=n._startTime/this._timeScale,this._time-=n._startTime,this._totalTime-=n._startTime,this._rawPrevTime-=n._startTime),this.shiftChildren(-n._startTime,!1,-9999999999),s=0),(r=n._startTime+n._totalDuration/n._timeScale)>i&&(i=r),n=e;this._duration=this._totalDuration=i,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},y.paused=function(e){if(!e)for(var r=this._first,i=this._time;r;)r._startTime===i&&"isPause"===r.data&&(r._rawPrevTime=0),r=r._next;return t.prototype.paused.apply(this,arguments)},y.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},y.rawTime=function(t){return t&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},i},!0),n._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,r){var i=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},s=e._internals,o=s.lazyTweens,a=s.lazyRender,h=n._gsDefine.globals,u=new r(null,null,1,0),l=i.prototype=new t;return l.constructor=i,l.kill()._gc=!1,i.version="1.20.4",l.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},l.addCallback=function(t,r,i,n){return this.add(e.delayedCall(0,t,i,n),r)},l.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var r=this.getTweensOf(t,!1),i=r.length,n=this._parseTimeOrLabel(e);--i>-1;)r[i]._startTime===n&&r[i]._enabled(!1,!1);return this},l.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},l.tweenTo=function(t,r){r=r||{};var i,n,s,o={ease:u,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},a=r.repeat&&h.TweenMax||e;for(n in r)o[n]=r[n];return o.time=this._parseTimeOrLabel(t),i=Math.abs(Number(o.time)-this._time)/this._timeScale||.001,s=new a(this,i,o),o.onStart=function(){s.target.paused(!0),s.vars.time===s.target.time()||i!==s.duration()||s.isFromTo||s.duration(Math.abs(s.vars.time-s.target.time())/s.target._timeScale).render(s.time(),!0,!0),r.onStart&&r.onStart.apply(r.onStartScope||r.callbackScope||s,r.onStartParams||[])},s},l.tweenFromTo=function(t,e,r){r=r||{},t=this._parseTimeOrLabel(t),r.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},r.immediateRender=!1!==r.immediateRender;var i=this.tweenTo(e,r);return i.isFromTo=1,i.duration(Math.abs(i.vars.time-t)/this._timeScale||.001)},l.render=function(t,e,r){this._gc&&this._enabled(!0,!1);var i,n,s,h,u,l,c,f,p=this._time,d=this._dirty?this.totalDuration():this._totalDuration,m=this._duration,y=this._totalTime,v=this._startTime,g=this._timeScale,_=this._rawPrevTime,b=this._paused,x=this._cycle;if(p!==this._time&&(t+=this._time-p),t>=d-1e-7&&t>=0)this._locked||(this._totalTime=d,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(n=!0,h="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||_<0||1e-10===_)&&_!==t&&this._first&&(u=!0,_>1e-10&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,this._yoyo&&0!=(1&this._cycle)?this._time=t=0:(this._time=m,t=m+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==p||0===m&&1e-10!==_&&(_>0||t<0&&_>=0)&&!this._locked)&&(h="onReverseComplete",n=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=n=!0,h="onReverseComplete"):_>=0&&this._first&&(u=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=m||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&n)for(i=this._first;i&&0===i._startTime;)i._duration||(n=!1),i=i._next;t=0,this._initted||(u=!0)}else if(0===m&&_<0&&(u=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(l=m+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&y<=t&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!=(1&this._cycle)&&(this._time=m-this._time),this._time>m?(this._time=m,t=m+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if((t=this._time)>=p||this._repeat&&x!==this._cycle)for(i=this._first;i&&i._startTime<=t&&!c;)i._duration||"isPause"!==i.data||i.ratio||0===i._startTime&&0===this._rawPrevTime||(c=i),i=i._next;else for(i=this._last;i&&i._startTime>=t&&!c;)i._duration||"isPause"===i.data&&i._rawPrevTime>0&&(c=i),i=i._prev;c&&c._startTime<m&&(this._time=t=c._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==x&&!this._locked){var T=this._yoyo&&0!=(1&x),w=T===(this._yoyo&&0!=(1&this._cycle)),E=this._totalTime,S=this._cycle,P=this._rawPrevTime,C=this._time;if(this._totalTime=x*m,this._cycle<x?T=!T:this._totalTime+=m,this._time=p,this._rawPrevTime=0===m?_-1e-4:_,this._cycle=x,this._locked=!0,p=T?0:m,this.render(p,e,0===m),e||this._gc||this.vars.onRepeat&&(this._cycle=S,this._locked=!1,this._callback("onRepeat")),p!==this._time)return;if(w&&(this._cycle=x,this._locked=!0,p=T?m+1e-4:-1e-4,this.render(p,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=C,this._totalTime=E,this._cycle=S,this._rawPrevTime=P}if(this._time!==p&&this._first||r||u||c){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==y&&t>0&&(this._active=!0),0===y&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),(f=this._time)>=p)for(i=this._first;i&&(s=i._next,f===this._time&&(!this._paused||b));)(i._active||i._startTime<=this._time&&!i._paused&&!i._gc)&&(c===i&&this.pause(),i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,r):i.render((t-i._startTime)*i._timeScale,e,r)),i=s;else for(i=this._last;i&&(s=i._prev,f===this._time&&(!this._paused||b));){if(i._active||i._startTime<=p&&!i._paused&&!i._gc){if(c===i){for(c=i._prev;c&&c.endTime()>this._time;)c.render(c._reversed?c.totalDuration()-(t-c._startTime)*c._timeScale:(t-c._startTime)*c._timeScale,e,r),c=c._prev;c=null,this.pause()}i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,r):i.render((t-i._startTime)*i._timeScale,e,r)}i=s}this._onUpdate&&(e||(o.length&&a(),this._callback("onUpdate"))),h&&(this._locked||this._gc||v!==this._startTime&&g===this._timeScale||(0===this._time||d>=this.totalDuration())&&(n&&(o.length&&a(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[h]&&this._callback(h)))}else y!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},l.getActive=function(t,e,r){null==t&&(t=!0),null==e&&(e=!0),null==r&&(r=!1);var i,n,s=[],o=this.getChildren(t,e,r),a=0,h=o.length;for(i=0;i<h;i++)(n=o[i]).isActive()&&(s[a++]=n);return s},l.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,r=this.getLabelsArray(),i=r.length;for(e=0;e<i;e++)if(r[e].time>t)return r[e].name;return null},l.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),r=e.length;--r>-1;)if(e[r].time<t)return e[r].name;return null},l.getLabelsArray=function(){var t,e=[],r=0;for(t in this._labels)e[r++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},l.invalidate=function(){return this._locked=!1,t.prototype.invalidate.call(this)},l.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},l.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},l.totalDuration=function(e){return arguments.length?-1!==this._repeat&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},l.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},i},!0),function(){var t=180/Math.PI,e=[],r=[],i=[],s={},o=n._gsDefine.globals,a=function(t,e,r,i){r===i&&(r=i-(i-e)/1e6),t===e&&(e=t+(r-t)/1e6),this.a=t,this.b=e,this.c=r,this.d=i,this.da=i-t,this.ca=r-t,this.ba=e-t},h=function(t,e,r,i){var n={a:t},s={},o={},a={c:i},h=(t+e)/2,u=(e+r)/2,l=(r+i)/2,c=(h+u)/2,f=(u+l)/2,p=(f-c)/8;return n.b=h+(t-h)/4,s.b=c+p,n.c=s.a=(n.b+s.b)/2,s.c=o.a=(c+f)/2,o.b=f-p,a.b=l+(i-l)/4,o.c=a.a=(o.b+a.b)/2,[n,s,o,a]},u=function(t,n,s,o,a){var u,l,c,f,p,d,m,y,v,g,_,b,x,T=t.length-1,w=0,E=t[0].a;for(u=0;u<T;u++)l=(p=t[w]).a,c=p.d,f=t[w+1].d,a?(_=e[u],x=((b=r[u])+_)*n*.25/(o?.5:i[u]||.5),y=c-((d=c-(c-l)*(o?.5*n:0!==_?x/_:0))+(((m=c+(f-c)*(o?.5*n:0!==b?x/b:0))-d)*(3*_/(_+b)+.5)/4||0))):y=c-((d=c-(c-l)*n*.5)+(m=c+(f-c)*n*.5))/2,d+=y,m+=y,p.c=v=d,p.b=0!==u?E:E=p.a+.6*(p.c-p.a),p.da=c-l,p.ca=v-l,p.ba=E-l,s?(g=h(l,E,v,c),t.splice(w,1,g[0],g[1],g[2],g[3]),w+=4):w++,E=m;(p=t[w]).b=E,p.c=E+.4*(p.d-E),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=E-p.a,s&&(g=h(p.a,E,p.c,p.d),t.splice(w,1,g[0],g[1],g[2],g[3]))},l=function(t,i,n,s){var o,h,u,l,c,f,p=[];if(s)for(h=(t=[s].concat(t)).length;--h>-1;)"string"==typeof(f=t[h][i])&&"="===f.charAt(1)&&(t[h][i]=s[i]+Number(f.charAt(0)+f.substr(2)));if((o=t.length-2)<0)return p[0]=new a(t[0][i],0,0,t[0][i]),p;for(h=0;h<o;h++)u=t[h][i],l=t[h+1][i],p[h]=new a(u,0,0,l),n&&(c=t[h+2][i],e[h]=(e[h]||0)+(l-u)*(l-u),r[h]=(r[h]||0)+(c-l)*(c-l));return p[h]=new a(t[h][i],0,0,t[h+1][i]),p},c=function(t,n,o,a,h,c){var f,p,d,m,y,v,g,_,b={},x=[],T=c||t[0];for(p in h="string"==typeof h?","+h+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==n&&(n=1),t[0])x.push(p);if(t.length>1){for(_=t[t.length-1],g=!0,f=x.length;--f>-1;)if(p=x[f],Math.abs(T[p]-_[p])>.05){g=!1;break}g&&(t=t.concat(),c&&t.unshift(c),t.push(t[1]),c=t[t.length-3])}for(e.length=r.length=i.length=0,f=x.length;--f>-1;)p=x[f],s[p]=-1!==h.indexOf(","+p+","),b[p]=l(t,p,s[p],c);for(f=e.length;--f>-1;)e[f]=Math.sqrt(e[f]),r[f]=Math.sqrt(r[f]);if(!a){for(f=x.length;--f>-1;)if(s[p])for(v=(d=b[x[f]]).length-1,m=0;m<v;m++)y=d[m+1].da/r[m]+d[m].da/e[m]||0,i[m]=(i[m]||0)+y*y;for(f=i.length;--f>-1;)i[f]=Math.sqrt(i[f])}for(f=x.length,m=o?4:1;--f>-1;)d=b[p=x[f]],u(d,n,o,a,s[p]),g&&(d.splice(0,m),d.splice(d.length-m,m));return b},f=function(t,e,r){for(var i,n,s,o,a,h,u,l,c,f,p,d=1/r,m=t.length;--m>-1;)for(s=(f=t[m]).a,o=f.d-s,a=f.c-s,h=f.b-s,i=n=0,l=1;l<=r;l++)i=n-(n=((u=d*l)*u*o+3*(c=1-u)*(u*a+c*h))*u),e[p=m*r+l-1]=(e[p]||0)+i*i},p=n._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(t,e,r){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var i,n,s,o,h,u=e.values||[],l={},p=u[0],d=e.autoRotate||r.vars.orientToBezier;for(i in this._autoRotate=d?d instanceof Array?d:[["x","y","rotation",!0===d?0:Number(d)||0]]:null,p)this._props.push(i);for(s=this._props.length;--s>-1;)i=this._props[s],this._overwriteProps.push(i),n=this._func[i]="function"==typeof t[i],l[i]=n?t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]():parseFloat(t[i]),h||l[i]!==u[0][i]&&(h=l);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?c(u,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,h):function(t,e,r){var i,n,s,o,h,u,l,c,f,p,d,m={},y="cubic"===(e=e||"soft")?3:2,v="soft"===e,g=[];if(v&&r&&(t=[r].concat(t)),null==t||t.length<y+1)throw"invalid Bezier data";for(f in t[0])g.push(f);for(u=g.length;--u>-1;){for(m[f=g[u]]=h=[],p=0,c=t.length,l=0;l<c;l++)i=null==r?t[l][f]:"string"==typeof(d=t[l][f])&&"="===d.charAt(1)?r[f]+Number(d.charAt(0)+d.substr(2)):Number(d),v&&l>1&&l<c-1&&(h[p++]=(i+h[p-2])/2),h[p++]=i;for(c=p-y+1,p=0,l=0;l<c;l+=y)i=h[l],n=h[l+1],s=h[l+2],o=2===y?0:h[l+3],h[p++]=d=3===y?new a(i,n,s,o):new a(i,(2*n+i)/3,(2*n+s)/3,s);h.length=p}return m}(u,e.type,l),this._segCount=this._beziers[i].length,this._timeRes){var m=function(t,e){var r,i,n,s,o=[],a=[],h=0,u=0,l=(e=e>>0||6)-1,c=[],p=[];for(r in t)f(t[r],o,e);for(n=o.length,i=0;i<n;i++)h+=Math.sqrt(o[i]),p[s=i%e]=h,s===l&&(u+=h,c[s=i/e>>0]=p,a[s]=u,h=0,p=[]);return{length:u,lengths:a,segments:c}}(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(d=this._autoRotate)for(this._initialRotations=[],d[0]instanceof Array||(this._autoRotate=d=[d]),s=d.length;--s>-1;){for(o=0;o<3;o++)i=d[s][o],this._func[i]="function"==typeof t[i]&&t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)];i=d[s][2],this._initialRotations[s]=(this._func[i]?this._func[i].call(this._target):this._target[i])||0,this._overwriteProps.push(i)}return this._startRatio=r.vars.runBackwards?1:0,!0},set:function(e){var r,i,n,s,o,a,h,u,l,c,f=this._segCount,p=this._func,d=this._target,m=e!==this._startRatio;if(this._timeRes){if(l=this._lengths,c=this._curSeg,e*=this._length,n=this._li,e>this._l2&&n<f-1){for(u=f-1;n<u&&(this._l2=l[++n])<=e;);this._l1=l[n-1],this._li=n,this._curSeg=c=this._segments[n],this._s2=c[this._s1=this._si=0]}else if(e<this._l1&&n>0){for(;n>0&&(this._l1=l[--n])>=e;);0===n&&e<this._l1?this._l1=0:n++,this._l2=l[n],this._li=n,this._curSeg=c=this._segments[n],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]}if(r=n,e-=this._l1,n=this._si,e>this._s2&&n<c.length-1){for(u=c.length-1;n<u&&(this._s2=c[++n])<=e;);this._s1=c[n-1],this._si=n}else if(e<this._s1&&n>0){for(;n>0&&(this._s1=c[--n])>=e;);0===n&&e<this._s1?this._s1=0:n++,this._s2=c[n],this._si=n}a=(n+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else a=(e-(r=e<0?0:e>=1?f-1:f*e>>0)*(1/f))*f;for(i=1-a,n=this._props.length;--n>-1;)s=this._props[n],h=(a*a*(o=this._beziers[s][r]).da+3*i*(a*o.ca+i*o.ba))*a+o.a,this._mod[s]&&(h=this._mod[s](h,d)),p[s]?d[s](h):d[s]=h;if(this._autoRotate){var y,v,g,_,b,x,T,w=this._autoRotate;for(n=w.length;--n>-1;)s=w[n][2],x=w[n][3]||0,T=!0===w[n][4]?1:t,o=this._beziers[w[n][0]],y=this._beziers[w[n][1]],o&&y&&(o=o[r],y=y[r],v=o.a+(o.b-o.a)*a,v+=((_=o.b+(o.c-o.b)*a)-v)*a,_+=(o.c+(o.d-o.c)*a-_)*a,g=y.a+(y.b-y.a)*a,g+=((b=y.b+(y.c-y.b)*a)-g)*a,b+=(y.c+(y.d-y.c)*a-b)*a,h=m?Math.atan2(b-g,_-v)*T+x:this._initialRotations[n],this._mod[s]&&(h=this._mod[s](h,d)),p[s]?d[s](h):d[s]=h)}}}),d=p.prototype;p.bezierThrough=c,p.cubicToQuadratic=h,p._autoCSS=!0,p.quadraticToCubic=function(t,e,r){return new a(t,(2*e+t)/3,(2*e+r)/3,r)},p._cssRegister=function(){var t=o.CSSPlugin;if(t){var e=t._internals,r=e._parseToProxy,i=e._setPluginRatio,n=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,s,o,a,h){e instanceof Array&&(e={values:e}),h=new p;var u,l,c,f=e.values,d=f.length-1,m=[],y={};if(d<0)return a;for(u=0;u<=d;u++)c=r(t,f[u],o,a,h,d!==u),m[u]=c.end;for(l in e)y[l]=e[l];return y.values=m,(a=new n(t,"bezier",0,0,c.pt,2)).data=c,a.plugin=h,a.setRatio=i,0===y.autoRotate&&(y.autoRotate=!0),!y.autoRotate||y.autoRotate instanceof Array||(u=!0===y.autoRotate?0:Number(y.autoRotate),y.autoRotate=null!=c.end.left?[["left","top","rotation",u,!1]]:null!=c.end.x&&[["x","y","rotation",u,!1]]),y.autoRotate&&(o._transform||o._enableTransforms(!1),c.autoRotate=o._target._gsTransform,c.proxy.rotation=c.autoRotate.rotation||0,o._overwriteProps.push("rotation")),h._onInitTween(c.proxy,y,o._tween),a}})}},d._mod=function(t){for(var e,r=this._overwriteProps,i=r.length;--i>-1;)(e=t[r[i]])&&"function"==typeof e&&(this._mod[r[i]]=e)},d._kill=function(t){var e,r,i=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],r=i.length;--r>-1;)i[r]===e&&i.splice(r,1);if(i=this._autoRotate)for(r=i.length;--r>-1;)t[i[r][2]]&&i.splice(r,1);return this._super._kill.call(this,t)}}(),n._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var r,i,s,o,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},h=n._gsDefine.globals,u={},l=a.prototype=new t("css");l.constructor=a,a.version="1.20.4",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,l="px",a.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var c,f,p,d,m,y,v,g,_=/(?:\-|\.|\b)(\d|\.|e\-)+/g,b=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,x=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,T=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,w=/(?:\d|\-|\+|=|#|\.)*/g,E=/opacity *= *([^)]*)/i,S=/opacity:([^;]*)/i,P=/alpha\(opacity *=.+?\)/i,C=/^(rgb|hsl)/,A=/([A-Z])/g,M=/-([a-z])/gi,O=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,I=function(t,e){return e.toUpperCase()},D=/(?:Left|Right|Width)/i,R=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,k=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,F=/,(?=[^\)]*(?:\(|$))/gi,L=/[\s,\(]/i,N=Math.PI/180,B=180/Math.PI,j={},V={style:{}},z=n.document||{createElement:function(){return V}},G=function(t,e){return z.createElementNS?z.createElementNS(e||"http://www.w3.org/1999/xhtml",t):z.createElement(t)},U=G("div"),X=G("img"),H=a._internals={_specialProps:u},W=(n.navigator||{}).userAgent||"",Y=function(){var t=W.indexOf("Android"),e=G("a");return p=-1!==W.indexOf("Safari")&&-1===W.indexOf("Chrome")&&(-1===t||parseFloat(W.substr(t+8,2))>3),m=p&&parseFloat(W.substr(W.indexOf("Version/")+8,2))<6,d=-1!==W.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(W)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(W))&&(y=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),q=function(t){return E.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},$=function(t){n.console&&console.log(t)},K="",Z="",J=function(t,e){var r,i,n=(e=e||U).style;if(void 0!==n[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),r=["O","Moz","ms","Ms","Webkit"],i=5;--i>-1&&void 0===n[r[i]+t];);return i>=0?(K="-"+(Z=3===i?"ms":r[i]).toLowerCase()+"-",Z+t):null},Q=z.defaultView?z.defaultView.getComputedStyle:function(){},tt=a.getStyle=function(t,e,r,i,n){var s;return Y||"opacity"!==e?(!i&&t.style[e]?s=t.style[e]:(r=r||Q(t))?s=r[e]||r.getPropertyValue(e)||r.getPropertyValue(e.replace(A,"-$1").toLowerCase()):t.currentStyle&&(s=t.currentStyle[e]),null==n||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:n):q(t)},et=H.convertToPixels=function(t,r,i,n,s){if("px"===n||!n&&"lineHeight"!==r)return i;if("auto"===n||!i)return 0;var o,h,u,l=D.test(r),c=t,f=U.style,p=i<0,d=1===i;if(p&&(i=-i),d&&(i*=100),"lineHeight"!==r||n)if("%"===n&&-1!==r.indexOf("border"))o=i/100*(l?t.clientWidth:t.clientHeight);else{if(f.cssText="border:0 solid red;position:"+tt(t,"position")+";line-height:0;","%"!==n&&c.appendChild&&"v"!==n.charAt(0)&&"rem"!==n)f[l?"borderLeftWidth":"borderTopWidth"]=i+n;else{if(c=t.parentNode||z.body,-1!==tt(c,"display").indexOf("flex")&&(f.position="absolute"),h=c._gsCache,u=e.ticker.frame,h&&l&&h.time===u)return h.width*i/100;f[l?"width":"height"]=i+n}c.appendChild(U),o=parseFloat(U[l?"offsetWidth":"offsetHeight"]),c.removeChild(U),l&&"%"===n&&!1!==a.cacheWidths&&((h=c._gsCache=c._gsCache||{}).time=u,h.width=o/i*100),0!==o||s||(o=et(t,r,i,n,!0))}else h=Q(t).lineHeight,t.style.lineHeight=i,o=parseFloat(Q(t).lineHeight),t.style.lineHeight=h;return d&&(o/=100),p?-o:o},rt=H.calculateOffset=function(t,e,r){if("absolute"!==tt(t,"position",r))return 0;var i="left"===e?"Left":"Top",n=tt(t,"margin"+i,r);return t["offset"+i]-(et(t,e,parseFloat(n),n.replace(w,""))||0)},it=function(t,e){var r,i,n,s={};if(e=e||Q(t,null))if(r=e.length)for(;--r>-1;)-1!==(n=e[r]).indexOf("-transform")&&Ot!==n||(s[n.replace(M,I)]=e.getPropertyValue(n));else for(r in e)-1!==r.indexOf("Transform")&&Mt!==r||(s[r]=e[r]);else if(e=t.currentStyle||t.style)for(r in e)"string"==typeof r&&void 0===s[r]&&(s[r.replace(M,I)]=e[r]);return Y||(s.opacity=q(t)),i=Ut(t,e,!1),s.rotation=i.rotation,s.skewX=i.skewX,s.scaleX=i.scaleX,s.scaleY=i.scaleY,s.x=i.x,s.y=i.y,Dt&&(s.z=i.z,s.rotationX=i.rotationX,s.rotationY=i.rotationY,s.scaleZ=i.scaleZ),s.filters&&delete s.filters,s},nt=function(t,e,r,i,n){var s,o,a,h={},u=t.style;for(o in r)"cssText"!==o&&"length"!==o&&isNaN(o)&&(e[o]!==(s=r[o])||n&&n[o])&&-1===o.indexOf("Origin")&&("number"!=typeof s&&"string"!=typeof s||(h[o]="auto"!==s||"left"!==o&&"top"!==o?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof e[o]||""===e[o].replace(T,"")?s:0:rt(t,o),void 0!==u[o]&&(a=new _t(u,o,u[o],a))));if(i)for(o in i)"className"!==o&&(h[o]=i[o]);return{difs:h,firstMPT:a}},st={width:["Left","Right"],height:["Top","Bottom"]},ot=["marginLeft","marginRight","marginTop","marginBottom"],at=function(t,e,r){if("svg"===(t.nodeName+"").toLowerCase())return(r||Q(t))[e]||0;if(t.getCTM&&Vt(t))return t.getBBox()[e]||0;var i=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),n=st[e],s=n.length;for(r=r||Q(t,null);--s>-1;)i-=parseFloat(tt(t,"padding"+n[s],r,!0))||0,i-=parseFloat(tt(t,"border"+n[s]+"Width",r,!0))||0;return i},ht=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var r,i=t.split(" "),n=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],s=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];if(i.length>3&&!e){for(i=t.split(", ").join(",").split(","),t=[],r=0;r<i.length;r++)t.push(ht(i[r]));return t.join(",")}return null==s?s="center"===n?"50%":"0":"center"===s&&(s="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),t=n+" "+s+(i.length>2?" "+i[2]:""),e&&(e.oxp=-1!==n.indexOf("%"),e.oyp=-1!==s.indexOf("%"),e.oxr="="===n.charAt(1),e.oyr="="===s.charAt(1),e.ox=parseFloat(n.replace(T,"")),e.oy=parseFloat(s.replace(T,"")),e.v=t),e||t},ut=function(t,e){return"function"==typeof t&&(t=t(g,v)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},lt=function(t,e){return"function"==typeof t&&(t=t(g,v)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ct=function(t,e,r,i){var n,s,o,a,h;return"function"==typeof t&&(t=t(g,v)),null==t?a=e:"number"==typeof t?a=t:(n=360,s=t.split("_"),o=((h="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(s[0].substr(2)):parseFloat(s[0]))*(-1===t.indexOf("rad")?1:B)-(h?0:e),s.length&&(i&&(i[r]=e+o),-1!==t.indexOf("short")&&(o%=n)!=o%(n/2)&&(o=o<0?o+n:o-n),-1!==t.indexOf("_cw")&&o<0?o=(o+9999999999*n)%n-(o/n|0)*n:-1!==t.indexOf("ccw")&&o>0&&(o=(o-9999999999*n)%n-(o/n|0)*n)),a=e+o),a<1e-6&&a>-1e-6&&(a=0),a},ft={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},pt=function(t,e,r){return 255*(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(r-e)*t*6:t<.5?r:3*t<2?e+(r-e)*(2/3-t)*6:e)+.5|0},dt=a.parseColor=function(t,e){var r,i,n,s,o,a,h,u,l,c,f;if(t)if("number"==typeof t)r=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ft[t])r=ft[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(i=t.charAt(1))+i+(n=t.charAt(2))+n+(s=t.charAt(3))+s),r=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(r=f=t.match(_),e){if(-1!==t.indexOf("="))return t.match(b)}else o=Number(r[0])%360/360,a=Number(r[1])/100,i=2*(h=Number(r[2])/100)-(n=h<=.5?h*(a+1):h+a-h*a),r.length>3&&(r[3]=Number(r[3])),r[0]=pt(o+1/3,i,n),r[1]=pt(o,i,n),r[2]=pt(o-1/3,i,n);else r=t.match(_)||ft.transparent;r[0]=Number(r[0]),r[1]=Number(r[1]),r[2]=Number(r[2]),r.length>3&&(r[3]=Number(r[3]))}else r=ft.black;return e&&!f&&(i=r[0]/255,n=r[1]/255,s=r[2]/255,h=((u=Math.max(i,n,s))+(l=Math.min(i,n,s)))/2,u===l?o=a=0:(c=u-l,a=h>.5?c/(2-u-l):c/(u+l),o=u===i?(n-s)/c+(n<s?6:0):u===n?(s-i)/c+2:(i-n)/c+4,o*=60),r[0]=o+.5|0,r[1]=100*a+.5|0,r[2]=100*h+.5|0),r},mt=function(t,e){var r,i,n,s=t.match(yt)||[],o=0,a="";if(!s.length)return t;for(r=0;r<s.length;r++)i=s[r],o+=(n=t.substr(o,t.indexOf(i,o)-o)).length+i.length,3===(i=dt(i,e)).length&&i.push(1),a+=n+(e?"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:"rgba("+i.join(","))+")";return a+t.substr(o)},yt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(l in ft)yt+="|"+l+"\\b";yt=new RegExp(yt+")","gi"),a.colorStringFilter=function(t){var e,r=t[0]+" "+t[1];yt.test(r)&&(e=-1!==r.indexOf("hsl(")||-1!==r.indexOf("hsla("),t[0]=mt(t[0],e),t[1]=mt(t[1],e)),yt.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=a.colorStringFilter);var vt=function(t,e,r,i){if(null==t)return function(t){return t};var n,s=e?(t.match(yt)||[""])[0]:"",o=t.split(s).join("").match(x)||[],a=t.substr(0,t.indexOf(o[0])),h=")"===t.charAt(t.length-1)?")":"",u=-1!==t.indexOf(" ")?" ":",",l=o.length,c=l>0?o[0].replace(_,""):"";return l?n=e?function(t){var e,f,p,d;if("number"==typeof t)t+=c;else if(i&&F.test(t)){for(d=t.replace(F,"|").split("|"),p=0;p<d.length;p++)d[p]=n(d[p]);return d.join(",")}if(e=(t.match(yt)||[s])[0],p=(f=t.split(e).join("").match(x)||[]).length,l>p--)for(;++p<l;)f[p]=r?f[(p-1)/2|0]:o[p];return a+f.join(u)+u+e+h+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,s,f;if("number"==typeof t)t+=c;else if(i&&F.test(t)){for(s=t.replace(F,"|").split("|"),f=0;f<s.length;f++)s[f]=n(s[f]);return s.join(",")}if(f=(e=t.match(x)||[]).length,l>f--)for(;++f<l;)e[f]=r?e[(f-1)/2|0]:o[f];return a+e.join(u)+h}:function(t){return t}},gt=function(t){return t=t.split(","),function(e,r,i,n,s,o,a){var h,u=(r+"").split(" ");for(a={},h=0;h<4;h++)a[t[h]]=u[h]=u[h]||u[(h-1)/2>>0];return n.parse(e,a,s,o)}},_t=(H._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,r,i,n,s,o=this.data,a=o.proxy,h=o.firstMPT;h;)e=a[h.v],h.r?e=Math.round(e):e<1e-6&&e>-1e-6&&(e=0),h.t[h.p]=e,h=h._next;if(o.autoRotate&&(o.autoRotate.rotation=o.mod?o.mod(a.rotation,this.t):a.rotation),1===t||0===t)for(h=o.firstMPT,s=1===t?"e":"b";h;){if((r=h.t).type){if(1===r.type){for(n=r.xs0+r.s+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r[s]=n}}else r[s]=r.s+r.xs0;h=h._next}},function(t,e,r,i,n){this.t=t,this.p=e,this.v=r,this.r=n,i&&(i._prev=this,this._next=i)}),bt=(H._parseToProxy=function(t,e,r,i,n,s){var o,a,h,u,l,c=i,f={},p={},d=r._transform,m=j;for(r._transform=null,j=e,i=l=r.parse(t,e,i,n),j=m,s&&(r._transform=d,c&&(c._prev=null,c._prev&&(c._prev._next=null)));i&&i!==c;){if(i.type<=1&&(p[a=i.p]=i.s+i.c,f[a]=i.s,s||(u=new _t(i,"s",a,u,i.r),i.c=0),1===i.type))for(o=i.l;--o>0;)h="xn"+o,p[a=i.p+"_"+h]=i.data[h],f[a]=i[h],s||(u=new _t(i,h,a,u,i.rxp[h]));i=i._next}return{proxy:f,end:p,firstMPT:u,pt:l}},H.CSSPropTween=function(t,e,i,n,s,a,h,u,l,c,f){this.t=t,this.p=e,this.s=i,this.c=n,this.n=h||e,t instanceof bt||o.push(this.n),this.r=u,this.type=a||0,l&&(this.pr=l,r=!0),this.b=void 0===c?i:c,this.e=void 0===f?i+n:f,s&&(this._next=s,s._prev=this)}),xt=function(t,e,r,i,n,s){var o=new bt(t,e,r,i-r,n,-1,s);return o.b=r,o.e=o.xs0=i,o},Tt=a.parseComplex=function(t,e,r,i,n,s,o,h,u,l){r=r||s||"","function"==typeof i&&(i=i(g,v)),o=new bt(t,e,0,0,o,l?2:1,null,!1,h,r,i),i+="",n&&yt.test(i+r)&&(i=[r,i],a.colorStringFilter(i),r=i[0],i=i[1]);var f,p,d,m,y,x,T,w,E,S,P,C,A,M=r.split(", ").join(",").split(" "),O=i.split(", ").join(",").split(" "),I=M.length,D=!1!==c;for(-1===i.indexOf(",")&&-1===r.indexOf(",")||(-1!==(i+r).indexOf("rgb")||-1!==(i+r).indexOf("hsl")?(M=M.join(" ").replace(F,", ").split(" "),O=O.join(" ").replace(F,", ").split(" ")):(M=M.join(" ").split(",").join(", ").split(" "),O=O.join(" ").split(",").join(", ").split(" ")),I=M.length),I!==O.length&&(I=(M=(s||"").split(" ")).length),o.plugin=u,o.setRatio=l,yt.lastIndex=0,f=0;f<I;f++)if(m=M[f],y=O[f],(w=parseFloat(m))||0===w)o.appendXtra("",w,ut(y,w),y.replace(b,""),D&&-1!==y.indexOf("px"),!0);else if(n&&yt.test(m))C=")"+((C=y.indexOf(")")+1)?y.substr(C):""),A=-1!==y.indexOf("hsl")&&Y,S=y,m=dt(m,A),y=dt(y,A),(E=m.length+y.length>6)&&!Y&&0===y[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(O[f]).join("transparent")):(Y||(E=!1),A?o.appendXtra(S.substr(0,S.indexOf("hsl"))+(E?"hsla(":"hsl("),m[0],ut(y[0],m[0]),",",!1,!0).appendXtra("",m[1],ut(y[1],m[1]),"%,",!1).appendXtra("",m[2],ut(y[2],m[2]),E?"%,":"%"+C,!1):o.appendXtra(S.substr(0,S.indexOf("rgb"))+(E?"rgba(":"rgb("),m[0],y[0]-m[0],",",!0,!0).appendXtra("",m[1],y[1]-m[1],",",!0).appendXtra("",m[2],y[2]-m[2],E?",":C,!0),E&&(m=m.length<4?1:m[3],o.appendXtra("",m,(y.length<4?1:y[3])-m,C,!1))),yt.lastIndex=0;else if(x=m.match(_)){if(!(T=y.match(b))||T.length!==x.length)return o;for(d=0,p=0;p<x.length;p++)P=x[p],S=m.indexOf(P,d),o.appendXtra(m.substr(d,S-d),Number(P),ut(T[p],P),"",D&&"px"===m.substr(S+P.length,2),0===p),d=S+P.length;o["xs"+o.l]+=m.substr(d)}else o["xs"+o.l]+=o.l||o["xs"+o.l]?" "+y:y;if(-1!==i.indexOf("=")&&o.data){for(C=o.xs0+o.data.s,f=1;f<o.l;f++)C+=o["xs"+f]+o.data["xn"+f];o.e=C+o["xs"+f]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},wt=9;for((l=bt.prototype).l=l.pr=0;--wt>0;)l["xn"+wt]=0,l["xs"+wt]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(t,e,r,i,n,s){var o=this,a=o.l;return o["xs"+a]+=s&&(a||o["xs"+a])?" "+t:t||"",r||0===a||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=i||"",a>0?(o.data["xn"+a]=e+r,o.rxp["xn"+a]=n,o["xn"+a]=e,o.plugin||(o.xfirst=new bt(o,"xn"+a,e,r,o.xfirst||o,0,o.n,n,o.pr),o.xfirst.xs0=0),o):(o.data={s:e+r},o.rxp={},o.s=e,o.c=r,o.r=n,o)):(o["xs"+a]+=e+(i||""),o)};var Et=function(t,e){e=e||{},this.p=e.prefix&&J(t)||t,u[t]=u[this.p]=this,this.format=e.formatter||vt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},St=H._registerComplexSpecialProp=function(t,e,r){"object"!=typeof e&&(e={parser:r});var i,n=t.split(","),s=e.defaultValue;for(r=r||[s],i=0;i<n.length;i++)e.prefix=0===i&&e.prefix,e.defaultValue=r[i]||s,new Et(n[i],e)},Pt=H._registerPluginProp=function(t){if(!u[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";St(t,{parser:function(t,r,i,n,s,o,a){var l=h.com.greensock.plugins[e];return l?(l._cssRegister(),u[i].parse(t,r,i,n,s,o,a)):($("Error: "+e+" js file not loaded."),s)}})}};(l=Et.prototype).parseComplex=function(t,e,r,i,n,s){var o,a,h,u,l,c,f=this.keyword;if(this.multi&&(F.test(r)||F.test(e)?(a=e.replace(F,"|").split("|"),h=r.replace(F,"|").split("|")):f&&(a=[e],h=[r])),h){for(u=h.length>a.length?h.length:a.length,o=0;o<u;o++)e=a[o]=a[o]||this.dflt,r=h[o]=h[o]||this.dflt,f&&(l=e.indexOf(f))!==(c=r.indexOf(f))&&(-1===c?a[o]=a[o].split(f).join(""):-1===l&&(a[o]+=" "+f));e=a.join(", "),r=h.join(", ")}return Tt(t,this.p,e,r,this.clrs,this.dflt,i,this.pr,n,s)},l.parse=function(t,e,r,i,n,o,a){return this.parseComplex(t.style,this.format(tt(t,this.p,s,!1,this.dflt)),this.format(e),n,o)},a.registerSpecialProp=function(t,e,r){St(t,{parser:function(t,i,n,s,o,a,h){var u=new bt(t,n,0,0,o,2,n,!1,r);return u.plugin=a,u.setRatio=e(t,i,s._tween,n),u},priority:r})},a.useSVGTransformAttr=!0;var Ct,At="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Mt=J("transform"),Ot=K+"transform",It=J("transformOrigin"),Dt=null!==J("perspective"),Rt=H.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=!(!1===a.defaultForce3D||!Dt)&&(a.defaultForce3D||"auto")},kt=n.SVGElement,Ft=function(t,e,r){var i,n=z.createElementNS("http://www.w3.org/2000/svg",t),s=/([a-z])([A-Z])/g;for(i in r)n.setAttributeNS(null,i.replace(s,"$1-$2").toLowerCase(),r[i]);return e.appendChild(n),n},Lt=z.documentElement||{},Nt=function(){var t,e,r,i=y||/Android/i.test(W)&&!n.chrome;return z.createElementNS&&!i&&(t=Ft("svg",Lt),r=(e=Ft("rect",t,{width:100,height:50,x:100})).getBoundingClientRect().width,e.style[It]="50% 50%",e.style[Mt]="scaleX(0.5)",i=r===e.getBoundingClientRect().width&&!(d&&Dt),Lt.removeChild(t)),i}(),Bt=function(t,e,r,i,n,s){var o,h,u,l,c,f,p,d,m,y,v,g,_,b,x=t._gsTransform,T=Gt(t,!0);x&&(_=x.xOrigin,b=x.yOrigin),(!i||(o=i.split(" ")).length<2)&&(0===(p=t.getBBox()).x&&0===p.y&&p.width+p.height===0&&(p={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),o=[(-1!==(e=ht(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*p.width:parseFloat(e[0]))+p.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*p.height:parseFloat(e[1]))+p.y]),r.xOrigin=l=parseFloat(o[0]),r.yOrigin=c=parseFloat(o[1]),i&&T!==zt&&(f=T[0],p=T[1],d=T[2],m=T[3],y=T[4],v=T[5],(g=f*m-p*d)&&(h=l*(m/g)+c*(-d/g)+(d*v-m*y)/g,u=l*(-p/g)+c*(f/g)-(f*v-p*y)/g,l=r.xOrigin=o[0]=h,c=r.yOrigin=o[1]=u)),x&&(s&&(r.xOffset=x.xOffset,r.yOffset=x.yOffset,x=r),n||!1!==n&&!1!==a.defaultSmoothOrigin?(h=l-_,u=c-b,x.xOffset+=h*T[0]+u*T[2]-h,x.yOffset+=h*T[1]+u*T[3]-u):x.xOffset=x.yOffset=0),s||t.setAttribute("data-svg-origin",o.join(" "))},jt=function(t){var e,r=G("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,n=this.nextSibling,s=this.style.cssText;if(Lt.appendChild(r),r.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=jt}catch(t){}else this._originalGetBBox&&(e=this._originalGetBBox());return n?i.insertBefore(this,n):i.appendChild(this),Lt.removeChild(r),this.style.cssText=s,e},Vt=function(t){return!(!kt||!t.getCTM||t.parentNode&&!t.ownerSVGElement||!function(t){try{return t.getBBox()}catch(e){return jt.call(t,!0)}}(t))},zt=[1,0,0,1,0,0],Gt=function(t,e){var r,i,n,s,o,a,h=t._gsTransform||new Rt,u=t.style;if(Mt?i=tt(t,Ot,null,!0):t.currentStyle&&(i=(i=t.currentStyle.filter.match(R))&&4===i.length?[i[0].substr(4),Number(i[2].substr(4)),Number(i[1].substr(4)),i[3].substr(4),h.x||0,h.y||0].join(","):""),r=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,!Mt||!(a=!Q(t)||"none"===Q(t).display)&&t.parentNode||(a&&(s=u.display,u.display="block"),t.parentNode||(o=1,Lt.appendChild(t)),r=!(i=tt(t,Ot,null,!0))||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,s?u.display=s:a&&Yt(u,"display"),o&&Lt.removeChild(t)),(h.svg||t.getCTM&&Vt(t))&&(r&&-1!==(u[Mt]+"").indexOf("matrix")&&(i=u[Mt],r=0),n=t.getAttribute("transform"),r&&n&&(i="matrix("+(n=t.transform.baseVal.consolidate().matrix).a+","+n.b+","+n.c+","+n.d+","+n.e+","+n.f+")",r=0)),r)return zt;for(n=(i||"").match(_)||[],wt=n.length;--wt>-1;)s=Number(n[wt]),n[wt]=(o=s-(s|=0))?(1e5*o+(o<0?-.5:.5)|0)/1e5+s:s;return e&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n},Ut=H.getTransform=function(t,r,i,n){if(t._gsTransform&&i&&!n)return t._gsTransform;var s,o,h,u,l,c,f=i&&t._gsTransform||new Rt,p=f.scaleX<0,d=Dt&&(parseFloat(tt(t,It,r,!1,"0 0 0").split(" ")[2])||f.zOrigin)||0,m=parseFloat(a.defaultTransformPerspective)||0;if(f.svg=!(!t.getCTM||!Vt(t)),f.svg&&(Bt(t,tt(t,It,r,!1,"50% 50%")+"",f,t.getAttribute("data-svg-origin")),Ct=a.useSVGTransformAttr||Nt),(s=Gt(t))!==zt){if(16===s.length){var y,v,g,_,b,x=s[0],T=s[1],w=s[2],E=s[3],S=s[4],P=s[5],C=s[6],A=s[7],M=s[8],O=s[9],I=s[10],D=s[12],R=s[13],k=s[14],F=s[11],L=Math.atan2(C,I);f.zOrigin&&(D=M*(k=-f.zOrigin)-s[12],R=O*k-s[13],k=I*k+f.zOrigin-s[14]),f.rotationX=L*B,L&&(y=S*(_=Math.cos(-L))+M*(b=Math.sin(-L)),v=P*_+O*b,g=C*_+I*b,M=S*-b+M*_,O=P*-b+O*_,I=C*-b+I*_,F=A*-b+F*_,S=y,P=v,C=g),L=Math.atan2(-w,I),f.rotationY=L*B,L&&(v=T*(_=Math.cos(-L))-O*(b=Math.sin(-L)),g=w*_-I*b,O=T*b+O*_,I=w*b+I*_,F=E*b+F*_,x=y=x*_-M*b,T=v,w=g),L=Math.atan2(T,x),f.rotation=L*B,L&&(y=x*(_=Math.cos(L))+T*(b=Math.sin(L)),v=S*_+P*b,g=M*_+O*b,T=T*_-x*b,P=P*_-S*b,O=O*_-M*b,x=y,S=v,M=g),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY=180-f.rotationY),L=Math.atan2(S,P),f.scaleX=(1e5*Math.sqrt(x*x+T*T+w*w)+.5|0)/1e5,f.scaleY=(1e5*Math.sqrt(P*P+C*C)+.5|0)/1e5,f.scaleZ=(1e5*Math.sqrt(M*M+O*O+I*I)+.5|0)/1e5,x/=f.scaleX,S/=f.scaleY,T/=f.scaleX,P/=f.scaleY,Math.abs(L)>2e-5?(f.skewX=L*B,S=0,"simple"!==f.skewType&&(f.scaleY*=1/Math.cos(L))):f.skewX=0,f.perspective=F?1/(F<0?-F:F):0,f.x=D,f.y=R,f.z=k,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*x-f.yOrigin*S),f.y-=f.yOrigin-(f.yOrigin*T-f.xOrigin*P))}else if(!Dt||n||!s.length||f.x!==s[4]||f.y!==s[5]||!f.rotationX&&!f.rotationY){var N=s.length>=6,j=N?s[0]:1,V=s[1]||0,z=s[2]||0,G=N?s[3]:1;f.x=s[4]||0,f.y=s[5]||0,h=Math.sqrt(j*j+V*V),u=Math.sqrt(G*G+z*z),l=j||V?Math.atan2(V,j)*B:f.rotation||0,c=z||G?Math.atan2(z,G)*B+l:f.skewX||0,f.scaleX=h,f.scaleY=u,f.rotation=l,f.skewX=c,Dt&&(f.rotationX=f.rotationY=f.z=0,f.perspective=m,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*j+f.yOrigin*z),f.y-=f.yOrigin-(f.xOrigin*V+f.yOrigin*G))}for(o in Math.abs(f.skewX)>90&&Math.abs(f.skewX)<270&&(p?(f.scaleX*=-1,f.skewX+=f.rotation<=0?180:-180,f.rotation+=f.rotation<=0?180:-180):(f.scaleY*=-1,f.skewX+=f.skewX<=0?180:-180)),f.zOrigin=d,f)f[o]<2e-5&&f[o]>-2e-5&&(f[o]=0)}return i&&(t._gsTransform=f,f.svg&&(Ct&&t.style[Mt]?e.delayedCall(.001,function(){Yt(t.style,Mt)}):!Ct&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),f},Xt=function(t){var e,r,i=this.data,n=-i.rotation*N,s=n+i.skewX*N,o=(Math.cos(n)*i.scaleX*1e5|0)/1e5,a=(Math.sin(n)*i.scaleX*1e5|0)/1e5,h=(Math.sin(s)*-i.scaleY*1e5|0)/1e5,u=(Math.cos(s)*i.scaleY*1e5|0)/1e5,l=this.t.style,c=this.t.currentStyle;if(c){r=a,a=-h,h=-r,e=c.filter,l.filter="";var f,p,d=this.t.offsetWidth,m=this.t.offsetHeight,v="absolute"!==c.position,g="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+a+", M21="+h+", M22="+u,_=i.x+d*i.xPercent/100,b=i.y+m*i.yPercent/100;if(null!=i.ox&&(_+=(f=(i.oxp?d*i.ox*.01:i.ox)-d/2)-(f*o+(p=(i.oyp?m*i.oy*.01:i.oy)-m/2)*a),b+=p-(f*h+p*u)),g+=v?", Dx="+((f=d/2)-(f*o+(p=m/2)*a)+_)+", Dy="+(p-(f*h+p*u)+b)+")":", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?l.filter=e.replace(k,g):l.filter=g+" "+e,0!==t&&1!==t||1===o&&0===a&&0===h&&1===u&&(v&&-1===g.indexOf("Dx=0, Dy=0")||E.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&l.removeAttribute("filter")),!v){var x,T,S,P=y<8?1:-1;for(f=i.ieOffsetX||0,p=i.ieOffsetY||0,i.ieOffsetX=Math.round((d-((o<0?-o:o)*d+(a<0?-a:a)*m))/2+_),i.ieOffsetY=Math.round((m-((u<0?-u:u)*m+(h<0?-h:h)*d))/2+b),wt=0;wt<4;wt++)S=(r=-1!==(x=c[T=ot[wt]]).indexOf("px")?parseFloat(x):et(this.t,T,parseFloat(x),x.replace(w,""))||0)!==i[T]?wt<2?-i.ieOffsetX:-i.ieOffsetY:wt<2?f-i.ieOffsetX:p-i.ieOffsetY,l[T]=(i[T]=Math.round(r-S*(0===wt||2===wt?1:P)))+"px"}}},Ht=H.set3DTransformRatio=H.setTransformRatio=function(t){var e,r,i,n,s,o,a,h,u,l,c,f,p,m,y,v,g,_,b,x,T,w=this.data,E=this.t.style,S=w.rotation,P=w.rotationX,C=w.rotationY,A=w.scaleX,M=w.scaleY,O=w.scaleZ,I=w.x,D=w.y,R=w.z,k=w.svg,F=w.perspective,L=w.force3D,B=w.skewY,j=w.skewX;if(B&&(j+=B,S+=B),!((1!==t&&0!==t||"auto"!==L||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&L||R||F||C||P||1!==O)||Ct&&k||!Dt)S||j||k?(S*=N,x=j*N,T=1e5,r=Math.cos(S)*A,s=Math.sin(S)*A,i=Math.sin(S-x)*-M,o=Math.cos(S-x)*M,x&&"simple"===w.skewType&&(e=Math.tan(x-B*N),i*=e=Math.sqrt(1+e*e),o*=e,B&&(e=Math.tan(B*N),r*=e=Math.sqrt(1+e*e),s*=e)),k&&(I+=w.xOrigin-(w.xOrigin*r+w.yOrigin*i)+w.xOffset,D+=w.yOrigin-(w.xOrigin*s+w.yOrigin*o)+w.yOffset,Ct&&(w.xPercent||w.yPercent)&&(y=this.t.getBBox(),I+=.01*w.xPercent*y.width,D+=.01*w.yPercent*y.height),I<(y=1e-6)&&I>-y&&(I=0),D<y&&D>-y&&(D=0)),b=(r*T|0)/T+","+(s*T|0)/T+","+(i*T|0)/T+","+(o*T|0)/T+","+I+","+D+")",k&&Ct?this.t.setAttribute("transform","matrix("+b):E[Mt]=(w.xPercent||w.yPercent?"translate("+w.xPercent+"%,"+w.yPercent+"%) matrix(":"matrix(")+b):E[Mt]=(w.xPercent||w.yPercent?"translate("+w.xPercent+"%,"+w.yPercent+"%) matrix(":"matrix(")+A+",0,0,"+M+","+I+","+D+")";else{if(d&&(A<(y=1e-4)&&A>-y&&(A=O=2e-5),M<y&&M>-y&&(M=O=2e-5),!F||w.z||w.rotationX||w.rotationY||(F=0)),S||j)S*=N,v=r=Math.cos(S),g=s=Math.sin(S),j&&(S-=j*N,v=Math.cos(S),g=Math.sin(S),"simple"===w.skewType&&(e=Math.tan((j-B)*N),v*=e=Math.sqrt(1+e*e),g*=e,w.skewY&&(e=Math.tan(B*N),r*=e=Math.sqrt(1+e*e),s*=e))),i=-g,o=v;else{if(!(C||P||1!==O||F||k))return void(E[Mt]=(w.xPercent||w.yPercent?"translate("+w.xPercent+"%,"+w.yPercent+"%) translate3d(":"translate3d(")+I+"px,"+D+"px,"+R+"px)"+(1!==A||1!==M?" scale("+A+","+M+")":""));r=o=1,i=s=0}l=1,n=a=h=u=c=f=0,p=F?-1/F:0,m=w.zOrigin,y=1e-6,(S=C*N)&&(v=Math.cos(S),h=-(g=Math.sin(S)),c=p*-g,n=r*g,a=s*g,l=v,p*=v,r*=v,s*=v),(S=P*N)&&(e=i*(v=Math.cos(S))+n*(g=Math.sin(S)),_=o*v+a*g,u=l*g,f=p*g,n=i*-g+n*v,a=o*-g+a*v,l*=v,p*=v,i=e,o=_),1!==O&&(n*=O,a*=O,l*=O,p*=O),1!==M&&(i*=M,o*=M,u*=M,f*=M),1!==A&&(r*=A,s*=A,h*=A,c*=A),(m||k)&&(m&&(I+=n*-m,D+=a*-m,R+=l*-m+m),k&&(I+=w.xOrigin-(w.xOrigin*r+w.yOrigin*i)+w.xOffset,D+=w.yOrigin-(w.xOrigin*s+w.yOrigin*o)+w.yOffset),I<y&&I>-y&&(I="0"),D<y&&D>-y&&(D="0"),R<y&&R>-y&&(R=0)),b=w.xPercent||w.yPercent?"translate("+w.xPercent+"%,"+w.yPercent+"%) matrix3d(":"matrix3d(",b+=(r<y&&r>-y?"0":r)+","+(s<y&&s>-y?"0":s)+","+(h<y&&h>-y?"0":h),b+=","+(c<y&&c>-y?"0":c)+","+(i<y&&i>-y?"0":i)+","+(o<y&&o>-y?"0":o),P||C||1!==O?(b+=","+(u<y&&u>-y?"0":u)+","+(f<y&&f>-y?"0":f)+","+(n<y&&n>-y?"0":n),b+=","+(a<y&&a>-y?"0":a)+","+(l<y&&l>-y?"0":l)+","+(p<y&&p>-y?"0":p)+","):b+=",0,0,0,0,1,0,",b+=I+","+D+","+R+","+(F?1+-R/F:1)+")",E[Mt]=b}};(l=Rt.prototype).x=l.y=l.z=l.skewX=l.skewY=l.rotation=l.rotationX=l.rotationY=l.zOrigin=l.xPercent=l.yPercent=l.xOffset=l.yOffset=0,l.scaleX=l.scaleY=l.scaleZ=1,St("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,r,i,n,o,h){if(i._lastParsedTransform===h)return n;i._lastParsedTransform=h;var u,l=h.scale&&"function"==typeof h.scale?h.scale:0;"function"==typeof h[r]&&(u=h[r],h[r]=e),l&&(h.scale=l(g,t));var c,f,p,d,m,y,_,b,x,T=t._gsTransform,w=t.style,E=At.length,S=h,P={},C=Ut(t,s,!0,S.parseTransform),A=S.transform&&("function"==typeof S.transform?S.transform(g,v):S.transform);if(C.skewType=S.skewType||C.skewType||a.defaultSkewType,i._transform=C,A&&"string"==typeof A&&Mt)(f=U.style)[Mt]=A,f.display="block",f.position="absolute",z.body.appendChild(U),c=Ut(U,null,!1),"simple"===C.skewType&&(c.scaleY*=Math.cos(c.skewX*N)),C.svg&&(y=C.xOrigin,_=C.yOrigin,c.x-=C.xOffset,c.y-=C.yOffset,(S.transformOrigin||S.svgOrigin)&&(A={},Bt(t,ht(S.transformOrigin),A,S.svgOrigin,S.smoothOrigin,!0),y=A.xOrigin,_=A.yOrigin,c.x-=A.xOffset-C.xOffset,c.y-=A.yOffset-C.yOffset),(y||_)&&(b=Gt(U,!0),c.x-=y-(y*b[0]+_*b[2]),c.y-=_-(y*b[1]+_*b[3]))),z.body.removeChild(U),c.perspective||(c.perspective=C.perspective),null!=S.xPercent&&(c.xPercent=lt(S.xPercent,C.xPercent)),null!=S.yPercent&&(c.yPercent=lt(S.yPercent,C.yPercent));else if("object"==typeof S){if(c={scaleX:lt(null!=S.scaleX?S.scaleX:S.scale,C.scaleX),scaleY:lt(null!=S.scaleY?S.scaleY:S.scale,C.scaleY),scaleZ:lt(S.scaleZ,C.scaleZ),x:lt(S.x,C.x),y:lt(S.y,C.y),z:lt(S.z,C.z),xPercent:lt(S.xPercent,C.xPercent),yPercent:lt(S.yPercent,C.yPercent),perspective:lt(S.transformPerspective,C.perspective)},null!=(m=S.directionalRotation))if("object"==typeof m)for(f in m)S[f]=m[f];else S.rotation=m;"string"==typeof S.x&&-1!==S.x.indexOf("%")&&(c.x=0,c.xPercent=lt(S.x,C.xPercent)),"string"==typeof S.y&&-1!==S.y.indexOf("%")&&(c.y=0,c.yPercent=lt(S.y,C.yPercent)),c.rotation=ct("rotation"in S?S.rotation:"shortRotation"in S?S.shortRotation+"_short":"rotationZ"in S?S.rotationZ:C.rotation,C.rotation,"rotation",P),Dt&&(c.rotationX=ct("rotationX"in S?S.rotationX:"shortRotationX"in S?S.shortRotationX+"_short":C.rotationX||0,C.rotationX,"rotationX",P),c.rotationY=ct("rotationY"in S?S.rotationY:"shortRotationY"in S?S.shortRotationY+"_short":C.rotationY||0,C.rotationY,"rotationY",P)),c.skewX=ct(S.skewX,C.skewX),c.skewY=ct(S.skewY,C.skewY)}for(Dt&&null!=S.force3D&&(C.force3D=S.force3D,d=!0),(p=C.force3D||C.z||C.rotationX||C.rotationY||c.z||c.rotationX||c.rotationY||c.perspective)||null==S.scale||(c.scaleZ=1);--E>-1;)((A=c[x=At[E]]-C[x])>1e-6||A<-1e-6||null!=S[x]||null!=j[x])&&(d=!0,n=new bt(C,x,C[x],A,n),x in P&&(n.e=P[x]),n.xs0=0,n.plugin=o,i._overwriteProps.push(n.n));return A=S.transformOrigin,C.svg&&(A||S.svgOrigin)&&(y=C.xOffset,_=C.yOffset,Bt(t,ht(A),c,S.svgOrigin,S.smoothOrigin),n=xt(C,"xOrigin",(T?C:c).xOrigin,c.xOrigin,n,"transformOrigin"),n=xt(C,"yOrigin",(T?C:c).yOrigin,c.yOrigin,n,"transformOrigin"),y===C.xOffset&&_===C.yOffset||(n=xt(C,"xOffset",T?y:C.xOffset,C.xOffset,n,"transformOrigin"),n=xt(C,"yOffset",T?_:C.yOffset,C.yOffset,n,"transformOrigin")),A="0px 0px"),(A||Dt&&p&&C.zOrigin)&&(Mt?(d=!0,x=It,A=(A||tt(t,x,s,!1,"50% 50%"))+"",(n=new bt(w,x,0,0,n,-1,"transformOrigin")).b=w[x],n.plugin=o,Dt?(f=C.zOrigin,A=A.split(" "),C.zOrigin=(A.length>2&&(0===f||"0px"!==A[2])?parseFloat(A[2]):f)||0,n.xs0=n.e=A[0]+" "+(A[1]||"50%")+" 0px",(n=new bt(C,"zOrigin",0,0,n,-1,n.n)).b=f,n.xs0=n.e=C.zOrigin):n.xs0=n.e=A):ht(A+"",C)),d&&(i._transformType=C.svg&&Ct||!p&&3!==this._transformType?2:3),u&&(h[r]=u),l&&(h.scale=l),n},prefix:!0}),St("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),St("borderRadius",{defaultValue:"0px",parser:function(t,e,r,n,o,a){e=this.format(e);var h,u,l,c,f,p,d,m,y,v,g,_,b,x,T,w,E=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],S=t.style;for(y=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),h=e.split(" "),u=0;u<E.length;u++)this.p.indexOf("border")&&(E[u]=J(E[u])),-1!==(f=c=tt(t,E[u],s,!1,"0px")).indexOf(" ")&&(f=(c=f.split(" "))[0],c=c[1]),p=l=h[u],d=parseFloat(f),_=f.substr((d+"").length),(b="="===p.charAt(1))?(m=parseInt(p.charAt(0)+"1",10),p=p.substr(2),m*=parseFloat(p),g=p.substr((m+"").length-(m<0?1:0))||""):(m=parseFloat(p),g=p.substr((m+"").length)),""===g&&(g=i[r]||_),g!==_&&(x=et(t,"borderLeft",d,_),T=et(t,"borderTop",d,_),"%"===g?(f=x/y*100+"%",c=T/v*100+"%"):"em"===g?(f=x/(w=et(t,"borderLeft",1,"em"))+"em",c=T/w+"em"):(f=x+"px",c=T+"px"),b&&(p=parseFloat(f)+m+g,l=parseFloat(c)+m+g)),o=Tt(S,E[u],f+" "+c,p+" "+l,!1,"0px",o);return o},prefix:!0,formatter:vt("0px 0px 0px 0px",!1,!0)}),St("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,r,i,n,o){return Tt(t.style,r,this.format(tt(t,r,s,!1,"0px 0px")),this.format(e),!1,"0px",n)},prefix:!0,formatter:vt("0px 0px",!1,!0)}),St("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,r,i,n,o){var a,h,u,l,c,f,p="background-position",d=s||Q(t,null),m=this.format((d?y?d.getPropertyValue(p+"-x")+" "+d.getPropertyValue(p+"-y"):d.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(-1!==m.indexOf("%")!=(-1!==v.indexOf("%"))&&v.split(",").length<2&&(f=tt(t,"backgroundImage").replace(O,""))&&"none"!==f){for(a=m.split(" "),h=v.split(" "),X.setAttribute("src",f),u=2;--u>-1;)(l=-1!==(m=a[u]).indexOf("%"))!=(-1!==h[u].indexOf("%"))&&(c=0===u?t.offsetWidth-X.width:t.offsetHeight-X.height,a[u]=l?parseFloat(m)/100*c+"px":parseFloat(m)/c*100+"%");m=a.join(" ")}return this.parseComplex(t.style,m,v,n,o)},formatter:ht}),St("backgroundSize",{defaultValue:"0 0",formatter:function(t){return ht(-1===(t+="").indexOf(" ")?t+" "+t:t)}}),St("perspective",{defaultValue:"0px",prefix:!0}),St("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),St("transformStyle",{prefix:!0}),St("backfaceVisibility",{prefix:!0}),St("userSelect",{prefix:!0}),St("margin",{parser:gt("marginTop,marginRight,marginBottom,marginLeft")}),St("padding",{parser:gt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),St("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,r,i,n,o){var a,h,u;return y<9?(h=t.currentStyle,u=y<8?" ":",",a="rect("+h.clipTop+u+h.clipRight+u+h.clipBottom+u+h.clipLeft+")",e=this.format(e).split(",").join(u)):(a=this.format(tt(t,this.p,s,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,a,e,n,o)}}),St("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),St("autoRound,strictUnits",{parser:function(t,e,r,i,n){return n}}),St("border",{defaultValue:"0px solid #000",parser:function(t,e,r,i,n,o){var a=tt(t,"borderTopWidth",s,!1,"0px"),h=this.format(e).split(" "),u=h[0].replace(w,"");return"px"!==u&&(a=parseFloat(a)/et(t,"borderTopWidth",1,u)+u),this.parseComplex(t.style,this.format(a+" "+tt(t,"borderTopStyle",s,!1,"solid")+" "+tt(t,"borderTopColor",s,!1,"#000")),h.join(" "),n,o)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(yt)||["#000"])[0]}}),St("borderWidth",{parser:gt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),St("float,cssFloat,styleFloat",{parser:function(t,e,r,i,n,s){var o=t.style,a="cssFloat"in o?"cssFloat":"styleFloat";return new bt(o,a,0,0,n,-1,r,!1,0,o[a],e)}});var Wt=function(t){var e,r=this.t,i=r.filter||tt(this.data,"filter")||"",n=this.s+this.c*t|0;100===n&&(-1===i.indexOf("atrix(")&&-1===i.indexOf("radient(")&&-1===i.indexOf("oader(")?(r.removeAttribute("filter"),e=!tt(this.data,"filter")):(r.filter=i.replace(P,""),e=!0)),e||(this.xn1&&(r.filter=i=i||"alpha(opacity="+n+")"),-1===i.indexOf("pacity")?0===n&&this.xn1||(r.filter=i+" alpha(opacity="+n+")"):r.filter=i.replace(E,"opacity="+n))};St("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,r,i,n,o){var a=parseFloat(tt(t,"opacity",s,!1,"1")),h=t.style,u="autoAlpha"===r;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),u&&1===a&&"hidden"===tt(t,"visibility",s)&&0!==e&&(a=0),Y?n=new bt(h,"opacity",a,e-a,n):((n=new bt(h,"opacity",100*a,100*(e-a),n)).xn1=u?1:0,h.zoom=1,n.type=2,n.b="alpha(opacity="+n.s+")",n.e="alpha(opacity="+(n.s+n.c)+")",n.data=t,n.plugin=o,n.setRatio=Wt),u&&((n=new bt(h,"visibility",0,0,n,-1,null,!1,0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",i._overwriteProps.push(n.n),i._overwriteProps.push(r)),n}});var Yt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(A,"-$1").toLowerCase())):t.removeAttribute(e))},qt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,r=this.t.style;e;)e.v?r[e.p]=e.v:Yt(r,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};St("className",{parser:function(t,e,i,n,o,a,h){var u,l,c,f,p,d=t.getAttribute("class")||"",m=t.style.cssText;if((o=n._classNamePT=new bt(t,i,0,0,o,2)).setRatio=qt,o.pr=-11,r=!0,o.b=d,l=it(t,s),c=t._gsClassPT){for(f={},p=c.data;p;)f[p.p]=1,p=p._next;c.setRatio(1)}return t._gsClassPT=o,o.e="="!==e.charAt(1)?e:d.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",o.e),u=nt(t,l,it(t),h,f),t.setAttribute("class",d),o.data=u.firstMPT,t.style.cssText=m,o.xfirst=n.parse(t,u.difs,o,a)}});var $t=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,r,i,n,s,o=this.t.style,a=u.transform.parse;if("all"===this.e)o.cssText="",n=!0;else for(i=(e=this.e.split(" ").join("").split(",")).length;--i>-1;)r=e[i],u[r]&&(u[r].parse===a?n=!0:r="transformOrigin"===r?It:u[r].p),Yt(o,r);n&&(Yt(o,Mt),(s=this.t._gsTransform)&&(s.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(St("clearProps",{parser:function(t,e,i,n,s){return(s=new bt(t,i,0,0,s,2)).setRatio=$t,s.e=e,s.pr=-10,s.data=n._tween,r=!0,s}}),l="bezier,throwProps,physicsProps,physics2D".split(","),wt=l.length;wt--;)Pt(l[wt]);(l=a.prototype)._firstPT=l._lastParsedTransform=l._transform=null,l._onInitTween=function(t,e,n,h){if(!t.nodeType)return!1;this._target=v=t,this._tween=n,this._vars=e,g=h,c=e.autoRound,r=!1,i=e.suffixMap||a.suffixMap,s=Q(t,""),o=this._overwriteProps;var l,d,y,_,b,x,T,w,E,P=t.style;if(f&&""===P.zIndex&&("auto"!==(l=tt(t,"zIndex",s))&&""!==l||this._addLazySet(P,"zIndex",0)),"string"==typeof e&&(_=P.cssText,l=it(t,s),P.cssText=_+";"+e,l=nt(t,l,it(t)).difs,!Y&&S.test(e)&&(l.opacity=parseFloat(RegExp.$1)),e=l,P.cssText=_),e.className?this._firstPT=d=u.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=d=this.parse(t,e,null),this._transformType){for(E=3===this._transformType,Mt?p&&(f=!0,""===P.zIndex&&("auto"!==(T=tt(t,"zIndex",s))&&""!==T||this._addLazySet(P,"zIndex",0)),m&&this._addLazySet(P,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(E?"visible":"hidden"))):P.zoom=1,y=d;y&&y._next;)y=y._next;w=new bt(t,"transform",0,0,null,2),this._linkCSSP(w,null,y),w.setRatio=Mt?Ht:Xt,w.data=this._transform||Ut(t,s,!0),w.tween=n,w.pr=-1,o.pop()}if(r){for(;d;){for(x=d._next,y=_;y&&y.pr>d.pr;)y=y._next;(d._prev=y?y._prev:b)?d._prev._next=d:_=d,(d._next=y)?y._prev=d:b=d,d=x}this._firstPT=_}return!0},l.parse=function(t,e,r,n){var o,a,h,l,f,p,d,m,y,_,b=t.style;for(o in e){if("function"==typeof(p=e[o])&&(p=p(g,v)),a=u[o])r=a.parse(t,p,o,this,r,n,e);else{if("--"===o.substr(0,2)){this._tween._propLookup[o]=this._addTween.call(this._tween,t.style,"setProperty",Q(t).getPropertyValue(o)+"",p+"",o,!1,o);continue}f=tt(t,o,s)+"",y="string"==typeof p,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||y&&C.test(p)?(y||(p=((p=dt(p)).length>3?"rgba(":"rgb(")+p.join(",")+")"),r=Tt(b,o,f,p,!0,"transparent",r,0,n)):y&&L.test(p)?r=Tt(b,o,f,p,!0,null,r,0,n):(d=(h=parseFloat(f))||0===h?f.substr((h+"").length):"",""!==f&&"auto"!==f||("width"===o||"height"===o?(h=at(t,o,s),d="px"):"left"===o||"top"===o?(h=rt(t,o,s),d="px"):(h="opacity"!==o?0:1,d="")),(_=y&&"="===p.charAt(1))?(l=parseInt(p.charAt(0)+"1",10),p=p.substr(2),l*=parseFloat(p),m=p.replace(w,"")):(l=parseFloat(p),m=y?p.replace(w,""):""),""===m&&(m=o in i?i[o]:d),p=l||0===l?(_?l+h:l)+m:e[o],d!==m&&(""===m&&"lineHeight"!==o||(l||0===l)&&h&&(h=et(t,o,h,d),"%"===m?(h/=et(t,o,100,"%")/100,!0!==e.strictUnits&&(f=h+"%")):"em"===m||"rem"===m||"vw"===m||"vh"===m?h/=et(t,o,1,m):"px"!==m&&(l=et(t,o,l,m),m="px"),_&&(l||0===l)&&(p=l+h+m))),_&&(l+=h),!h&&0!==h||!l&&0!==l?void 0!==b[o]&&(p||p+""!="NaN"&&null!=p)?(r=new bt(b,o,l||h||0,0,r,-1,o,!1,0,f,p)).xs0="none"!==p||"display"!==o&&-1===o.indexOf("Style")?p:f:$("invalid "+o+" tween value: "+e[o]):(r=new bt(b,o,h,l-h,r,0,o,!1!==c&&("px"===m||"zIndex"===o),0,f,p)).xs0=m)}n&&r&&!r.plugin&&(r.plugin=n)}return r},l.setRatio=function(t){var e,r,i,n=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;n;){if(e=n.c*t+n.s,n.r?e=Math.round(e):e<1e-6&&e>-1e-6&&(e=0),n.type)if(1===n.type)if(2===(i=n.l))n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2;else if(3===i)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3;else if(4===i)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4;else if(5===i)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4+n.xn4+n.xs5;else{for(r=n.xs0+e+n.xs1,i=1;i<n.l;i++)r+=n["xn"+i]+n["xs"+(i+1)];n.t[n.p]=r}else-1===n.type?n.t[n.p]=n.xs0:n.setRatio&&n.setRatio(t);else n.t[n.p]=e+n.xs0;n=n._next}else for(;n;)2!==n.type?n.t[n.p]=n.b:n.setRatio(t),n=n._next;else for(;n;){if(2!==n.type)if(n.r&&-1!==n.type)if(e=Math.round(n.s+n.c),n.type){if(1===n.type){for(i=n.l,r=n.xs0+e+n.xs1,i=1;i<n.l;i++)r+=n["xn"+i]+n["xs"+(i+1)];n.t[n.p]=r}}else n.t[n.p]=e+n.xs0;else n.t[n.p]=n.e;else n.setRatio(t);n=n._next}},l._enableTransforms=function(t){this._transform=this._transform||Ut(this._target,s,!0),this._transformType=this._transform.svg&&Ct||!t&&3!==this._transformType?2:3};var Kt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};l._addLazySet=function(t,e,r){var i=this._firstPT=new bt(t,e,0,0,this._firstPT,2);i.e=r,i.setRatio=Kt,i.data=this},l._linkCSSP=function(t,e,r,i){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,i=!0),r?r._next=t:i||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=r),t},l._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},l._kill=function(e){var r,i,n,s=e;if(e.autoAlpha||e.alpha){for(i in s={},e)s[i]=e[i];s.opacity=1,s.autoAlpha&&(s.visibility=1)}for(e.className&&(r=this._classNamePT)&&((n=r.xfirst)&&n._prev?this._linkCSSP(n._prev,r._next,n._prev._prev):n===this._firstPT&&(this._firstPT=r._next),r._next&&this._linkCSSP(r._next,r._next._next,n._prev),this._classNamePT=null),r=this._firstPT;r;)r.plugin&&r.plugin!==i&&r.plugin._kill&&(r.plugin._kill(e),i=r.plugin),r=r._next;return t.prototype._kill.call(this,s)};var Zt=function(t,e,r){var i,n,s,o;if(t.slice)for(n=t.length;--n>-1;)Zt(t[n],e,r);else for(n=(i=t.childNodes).length;--n>-1;)o=(s=i[n]).type,s.style&&(e.push(it(s)),r&&r.push(s)),1!==o&&9!==o&&11!==o||!s.childNodes.length||Zt(s,e,r)};return a.cascadeTo=function(t,r,i){var n,s,o,a,h=e.to(t,r,i),u=[h],l=[],c=[],f=[],p=e._internals.reservedProps;for(t=h._targets||h.target,Zt(t,l,f),h.render(r,!0,!0),Zt(t,c),h.render(0,!0,!0),h._enabled(!0),n=f.length;--n>-1;)if((s=nt(f[n],l[n],c[n])).firstMPT){for(o in s=s.difs,i)p[o]&&(s[o]=i[o]);for(o in a={},s)a[o]=l[n][o];u.push(e.fromTo(f[n],r,a,s))}return u},t.activate([a]),a},!0),function(){var t=function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next},e=n._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,r){return this._tween=r,!0}}).prototype;e._onInitAllProps=function(){for(var e,r,i,n=this._tween,s=n.vars.roundProps.join?n.vars.roundProps:n.vars.roundProps.split(","),o=s.length,a={},h=n._propLookup.roundProps;--o>-1;)a[s[o]]=Math.round;for(o=s.length;--o>-1;)for(e=s[o],r=n._firstPT;r;)i=r._next,r.pg?r.t._mod(a):r.n===e&&(2===r.f&&r.t?t(r.t._firstPT):(this._add(r.t,e,r.s,r.c),i&&(i._prev=r._prev),r._prev?r._prev._next=i:n._firstPT===r&&(n._firstPT=i),r._next=r._prev=null,n._propLookup[e]=h)),r=i;return!1},e._add=function(t,e,r,i){this._addTween(t,e,r,r+i,e,Math.round),this._overwriteProps.push(e)}}(),n._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(t,e,r,i){var n,s;if("function"!=typeof t.setAttribute)return!1;for(n in e)"function"==typeof(s=e[n])&&(s=s(i,t)),this._addTween(t,"setAttribute",t.getAttribute(n)+"",s+"",n,!1,n),this._overwriteProps.push(n);return!0}}),n._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(t,e,r,i){"object"!=typeof e&&(e={rotation:e}),this.finals={};var n,s,o,a,h,u,l=!0===e.useRadians?2*Math.PI:360;for(n in e)"useRadians"!==n&&("function"==typeof(a=e[n])&&(a=a(i,t)),s=(u=(a+"").split("_"))[0],o=parseFloat("function"!=typeof t[n]?t[n]:t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]()),h=(a=this.finals[n]="string"==typeof s&&"="===s.charAt(1)?o+parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)):Number(s)||0)-o,u.length&&(-1!==(s=u.join("_")).indexOf("short")&&(h%=l)!=h%(l/2)&&(h=h<0?h+l:h-l),-1!==s.indexOf("_cw")&&h<0?h=(h+9999999999*l)%l-(h/l|0)*l:-1!==s.indexOf("ccw")&&h>0&&(h=(h-9999999999*l)%l-(h/l|0)*l)),(h>1e-6||h<-1e-6)&&(this._addTween(t,n,o,o+h,n),this._overwriteProps.push(n)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,n._gsDefine("easing.Back",["easing.Ease"],function(t){var e,r,i,s,o=n.GreenSockGlobals||n,a=o.com.greensock,h=2*Math.PI,u=Math.PI/2,l=a._class,c=function(e,r){var i=l("easing."+e,function(){},!0),n=i.prototype=new t;return n.constructor=i,n.getRatio=r,i},f=t.register||function(){},p=function(t,e,r,i,n){var s=l("easing."+t,{easeOut:new e,easeIn:new r,easeInOut:new i},!0);return f(s,t),s},d=function(t,e,r){this.t=t,this.v=e,r&&(this.next=r,r.prev=this,this.c=r.v-e,this.gap=r.t-t)},m=function(e,r){var i=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),n=i.prototype=new t;return n.constructor=i,n.getRatio=r,n.config=function(t){return new i(t)},i},y=p("Back",m("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),m("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),m("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),v=l("easing.SlowMo",function(t,e,r){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===r},!0),g=v.prototype=new t;return g.constructor=v,g.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1===t?0:1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},v.ease=new v(.7,.7),g.config=v.config=function(t,e,r){return new v(t,e,r)},(g=(e=l("easing.SteppedEase",function(t,e){t=t||1,this._p1=1/t,this._p2=t+(e?0:1),this._p3=e?1:0},!0)).prototype=new t).constructor=e,g.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),((this._p2*t|0)+this._p3)*this._p1},g.config=e.config=function(t,r){return new e(t,r)},(g=(r=l("easing.ExpoScaleEase",function(t,e,r){this._p1=Math.log(e/t),this._p2=e-t,this._p3=t,this._ease=r},!0)).prototype=new t).constructor=r,g.getRatio=function(t){return this._ease&&(t=this._ease.getRatio(t)),(this._p3*Math.exp(this._p1*t)-this._p3)/this._p2},g.config=r.config=function(t,e,i){return new r(t,e,i)},(g=(i=l("easing.RoughEase",function(e){for(var r,i,n,s,o,a,h=(e=e||{}).taper||"none",u=[],l=0,c=0|(e.points||20),f=c,p=!1!==e.randomize,m=!0===e.clamp,y=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--f>-1;)r=p?Math.random():1/c*f,i=y?y.getRatio(r):r,n="none"===h?v:"out"===h?(s=1-r)*s*v:"in"===h?r*r*v:r<.5?(s=2*r)*s*.5*v:(s=2*(1-r))*s*.5*v,p?i+=Math.random()*n-.5*n:f%2?i+=.5*n:i-=.5*n,m&&(i>1?i=1:i<0&&(i=0)),u[l++]={x:r,y:i};for(u.sort(function(t,e){return t.x-e.x}),a=new d(1,1,null),f=c;--f>-1;)o=u[f],a=new d(o.x,o.y,a);this._prev=new d(0,0,0!==a.t?a:a.next)},!0)).prototype=new t).constructor=i,g.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},g.config=function(t){return new i(t)},i.ease=new i,p("Bounce",c("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),c("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),c("BounceInOut",function(t){var e=t<.5;return(t=e?1-2*t:2*t-1)<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),p("Circ",c("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),c("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),c("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),p("Elastic",(s=function(e,r,i){var n=l("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||i)/(t<1?t:1),this._p3=this._p2/h*(Math.asin(1/this._p1)||0),this._p2=h/this._p2},!0),s=n.prototype=new t;return s.constructor=n,s.getRatio=r,s.config=function(t,e){return new n(t,e)},n})("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),s("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)},.3),s("ElasticInOut",function(t){return(t*=2)<1?this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),p("Expo",c("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),c("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),c("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),p("Sine",c("SineOut",function(t){return Math.sin(t*u)}),c("SineIn",function(t){return 1-Math.cos(t*u)}),c("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),f(o.SlowMo,"SlowMo","ease,"),f(i,"RoughEase","ease,"),f(e,"SteppedEase","ease,"),y},!0)}),n._gsDefine&&n._gsQueue.pop()(),function(r,n){"use strict";var s={},o=r.document,a=r.GreenSockGlobals=r.GreenSockGlobals||r;if(!a.TweenLite){var h,u,l,c,f,p=function(t){var e,r=t.split("."),i=a;for(e=0;e<r.length;e++)i[r[e]]=i=i[r[e]]||{};return i},d=p("com.greensock"),m=function(t){var e,r=[],i=t.length;for(e=0;e!==i;r.push(t[e++]));return r},y=function(){},v=function(){var t=Object.prototype.toString,e=t.call([]);return function(r){return null!=r&&(r instanceof Array||"object"==typeof r&&!!r.push&&t.call(r)===e)}}(),g={},_=function(r,n,o,h){this.sc=g[r]?g[r].sc:[],g[r]=this,this.gsClass=null,this.func=o;var u=[];this.check=function(l){for(var c,f,d,m,y=n.length,v=y;--y>-1;)(c=g[n[y]]||new _(n[y],[])).gsClass?(u[y]=c.gsClass,v--):l&&c.sc.push(this);if(0===v&&o){if(d=(f=("com.greensock."+r).split(".")).pop(),m=p(f.join("."))[d]=this.gsClass=o.apply(o,u),h)if(a[d]=s[d]=m,void 0!==t&&t.exports)if("TweenMax"===r)for(y in t.exports=s.TweenMax=m,s)m[y]=s[y];else s.TweenMax&&(s.TweenMax[d]=m);else void 0===(i=function(){return m}.apply(e,[]))||(t.exports=i);for(y=0;y<this.sc.length;y++)this.sc[y].check()}},this.check(!0)},b=r._gsDefine=function(t,e,r,i){return new _(t,e,r,i)},x=d._class=function(t,e,r){return e=e||function(){},b(t,[],function(){return e},r),e};b.globals=a;var T=[0,0,1,1],w=x("easing.Ease",function(t,e,r,i){this._func=t,this._type=r||0,this._power=i||0,this._params=e?T.concat(e):T},!0),E=w.map={},S=w.register=function(t,e,r,i){for(var n,s,o,a,h=e.split(","),u=h.length,l=(r||"easeIn,easeOut,easeInOut").split(",");--u>-1;)for(s=h[u],n=i?x("easing."+s,null,!0):d.easing[s]||{},o=l.length;--o>-1;)a=l[o],E[s+"."+a]=E[a+s]=n[a]=t.getRatio?t:t[a]||new t};for((l=w.prototype)._calcEnd=!1,l.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,r=this._power,i=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===r?i*=i:2===r?i*=i*i:3===r?i*=i*i*i:4===r&&(i*=i*i*i*i),1===e?1-i:2===e?i:t<.5?i/2:1-i/2},u=(h=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--u>-1;)l=h[u]+",Power"+u,S(new w(null,null,1,u),l,"easeOut",!0),S(new w(null,null,2,u),l,"easeIn"+(0===u?",easeNone":"")),S(new w(null,null,3,u),l,"easeInOut");E.linear=d.easing.Linear.easeIn,E.swing=d.easing.Quad.easeInOut;var P=x("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(l=P.prototype).addEventListener=function(t,e,r,i,n){n=n||0;var s,o,a=this._listeners[t],h=0;for(this!==c||f||c.wake(),null==a&&(this._listeners[t]=a=[]),o=a.length;--o>-1;)(s=a[o]).c===e&&s.s===r?a.splice(o,1):0===h&&s.pr<n&&(h=o+1);a.splice(h,0,{c:e,s:r,up:i,pr:n})},l.removeEventListener=function(t,e){var r,i=this._listeners[t];if(i)for(r=i.length;--r>-1;)if(i[r].c===e)return void i.splice(r,1)},l.dispatchEvent=function(t){var e,r,i,n=this._listeners[t];if(n)for((e=n.length)>1&&(n=n.slice(0)),r=this._eventTarget;--e>-1;)(i=n[e])&&(i.up?i.c.call(i.s||r,{type:t,target:r}):i.c.call(i.s||r))};var C=r.requestAnimationFrame,A=r.cancelAnimationFrame,M=Date.now||function(){return(new Date).getTime()},O=M();for(u=(h=["ms","moz","webkit","o"]).length;--u>-1&&!C;)C=r[h[u]+"RequestAnimationFrame"],A=r[h[u]+"CancelAnimationFrame"]||r[h[u]+"CancelRequestAnimationFrame"];x("Ticker",function(t,e){var r,i,n,s,a,h=this,u=M(),l=!(!1===e||!C)&&"auto",p=500,d=33,m=function(t){var e,o,l=M()-O;l>p&&(u+=l-d),O+=l,h.time=(O-u)/1e3,e=h.time-a,(!r||e>0||!0===t)&&(h.frame++,a+=e+(e>=s?.004:s-e),o=!0),!0!==t&&(n=i(m)),o&&h.dispatchEvent("tick")};P.call(h),h.time=h.frame=0,h.tick=function(){m(!0)},h.lagSmoothing=function(t,e){if(!arguments.length)return p<1e10;p=t||1e10,d=Math.min(e,p,0)},h.sleep=function(){null!=n&&(l&&A?A(n):clearTimeout(n),i=y,n=null,h===c&&(f=!1))},h.wake=function(t){null!==n?h.sleep():t?u+=-O+(O=M()):h.frame>10&&(O=M()-p+5),i=0===r?y:l&&C?C:function(t){return setTimeout(t,1e3*(a-h.time)+1|0)},h===c&&(f=!0),m(2)},h.fps=function(t){if(!arguments.length)return r;s=1/((r=t)||60),a=this.time+s,h.wake()},h.useRAF=function(t){if(!arguments.length)return l;h.sleep(),l=t,h.fps(r)},h.fps(t),setTimeout(function(){"auto"===l&&h.frame<5&&"hidden"!==(o||{}).visibilityState&&h.useRAF(!1)},1500)}),(l=d.Ticker.prototype=new d.events.EventDispatcher).constructor=d.Ticker;var I=x("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,K){f||c.wake();var r=this.vars.useFrames?$:K;r.add(this,r._time),this.vars.paused&&this.paused(!0)}});c=I.ticker=new d.Ticker,(l=I.prototype)._dirty=l._gc=l._initted=l._paused=!1,l._totalTime=l._time=0,l._rawPrevTime=-1,l._next=l._last=l._onUpdate=l._timeline=l.timeline=null,l._paused=!1;var D=function(){f&&M()-O>2e3&&("hidden"!==(o||{}).visibilityState||!c.lagSmoothing())&&c.wake();var t=setTimeout(D,2e3);t.unref&&t.unref()};D(),l.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},l.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},l.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},l.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},l.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},l.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},l.render=function(t,e,r){},l.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},l.isActive=function(){var t,e=this._timeline,r=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=r&&t<r+this.totalDuration()/this._timeScale-1e-7},l._enabled=function(t,e){return f||c.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},l._kill=function(t,e){return this._enabled(!1,!1)},l.kill=function(t,e){return this._kill(t,e),this},l._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},l._swapSelfInParams=function(t){for(var e=t.length,r=t.concat();--e>-1;)"{self}"===t[e]&&(r[e]=this);return r},l._callback=function(t){var e=this.vars,r=e[t],i=e[t+"Params"],n=e[t+"Scope"]||e.callbackScope||this;switch(i?i.length:0){case 0:r.call(n);break;case 1:r.call(n,i[0]);break;case 2:r.call(n,i[0],i[1]);break;default:r.apply(n,i)}},l.eventCallback=function(t,e,r,i){if("on"===(t||"").substr(0,2)){var n=this.vars;if(1===arguments.length)return n[t];null==e?delete n[t]:(n[t]=e,n[t+"Params"]=v(r)&&-1!==r.join("").indexOf("{self}")?this._swapSelfInParams(r):r,n[t+"Scope"]=i),"onUpdate"===t&&(this._onUpdate=e)}return this},l.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},l.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},l.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},l.totalTime=function(t,e,r){if(f||c.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!r&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var i=this._totalDuration,n=this._timeline;if(t>i&&!r&&(t=i),this._startTime=(this._paused?this._pauseTime:n._time)-(this._reversed?i-t:t)/this._timeScale,n._dirty||this._uncache(!1),n._timeline)for(;n._timeline;)n._timeline._time!==(n._startTime+n._totalTime)/n._timeScale&&n.totalTime(n._totalTime,!0),n=n._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(L.length&&J(),this.render(t,e,!1),L.length&&J())}return this},l.progress=l.totalProgress=function(t,e){var r=this.duration();return arguments.length?this.totalTime(r*t,e):r?this._time/r:this.ratio},l.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},l.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},l.timeScale=function(t){if(!arguments.length)return this._timeScale;var e,r;for(t=t||1e-10,this._timeline&&this._timeline.smoothChildTiming&&(r=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=r-(r-this._startTime)*this._timeScale/t),this._timeScale=t,r=this.timeline;r&&r.timeline;)r._dirty=!0,r.totalDuration(),r=r.timeline;return this},l.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},l.paused=function(t){if(!arguments.length)return this._paused;var e,r,i=this._timeline;return t!=this._paused&&i&&(f||t||c.wake(),r=(e=i.rawTime())-this._pauseTime,!t&&i.smoothChildTiming&&(this._startTime+=r,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==r&&this._initted&&this.duration()&&(e=i.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var R=x("core.SimpleTimeline",function(t){I.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(l=R.prototype=new I).constructor=R,l.kill()._gc=!1,l._first=l._last=l._recent=null,l._sortChildren=!1,l.add=l.insert=function(t,e,r,i){var n,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),n=this._last,this._sortChildren)for(s=t._startTime;n&&n._startTime>s;)n=n._prev;return n?(t._next=n._next,n._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=n,this._recent=t,this._timeline&&this._uncache(!0),this},l._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},l.render=function(t,e,r){var i,n=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;n;)i=n._next,(n._active||t>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,r):n.render((t-n._startTime)*n._timeScale,e,r)),n=i},l.rawTime=function(){return f||c.wake(),this._totalTime};var k=x("TweenLite",function(t,e,i){if(I.call(this,e,i),this.render=k.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:k.selector(t)||t;var n,s,o,a=t.jquery||t.length&&t!==r&&t[0]&&(t[0]===r||t[0].nodeType&&t[0].style&&!t.nodeType),h=this.vars.overwrite;if(this._overwrite=h=null==h?q[k.defaultOverwrite]:"number"==typeof h?h>>0:q[h],(a||t instanceof Array||t.push&&v(t))&&"number"!=typeof t[0])for(this._targets=o=m(t),this._propLookup=[],this._siblings=[],n=0;n<o.length;n++)(s=o[n])?"string"!=typeof s?s.length&&s!==r&&s[0]&&(s[0]===r||s[0].nodeType&&s[0].style&&!s.nodeType)?(o.splice(n--,1),this._targets=o=o.concat(m(s))):(this._siblings[n]=Q(s,this,!1),1===h&&this._siblings[n].length>1&&et(s,this,null,1,this._siblings[n])):"string"==typeof(s=o[n--]=k.selector(s))&&o.splice(n+1,1):o.splice(n--,1);else this._propLookup={},this._siblings=Q(t,this,!1),1===h&&this._siblings.length>1&&et(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-10,this.render(Math.min(0,-this._delay)))},!0),F=function(t){return t&&t.length&&t!==r&&t[0]&&(t[0]===r||t[0].nodeType&&t[0].style&&!t.nodeType)};(l=k.prototype=new I).constructor=k,l.kill()._gc=!1,l.ratio=0,l._firstPT=l._targets=l._overwrittenProps=l._startAt=null,l._notifyPluginsOfEnabled=l._lazy=!1,k.version="1.20.4",k.defaultEase=l._ease=new w(null,null,1,1),k.defaultOverwrite="auto",k.ticker=c,k.autoSleep=120,k.lagSmoothing=function(t,e){c.lagSmoothing(t,e)},k.selector=r.$||r.jQuery||function(t){var e=r.$||r.jQuery;return e?(k.selector=e,e(t)):void 0===o?t:o.querySelectorAll?o.querySelectorAll(t):o.getElementById("#"===t.charAt(0)?t.substr(1):t)};var L=[],N={},B=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,j=/[\+-]=-?[\.\d]/,V=function(t){for(var e,r=this._firstPT;r;)e=r.blob?1===t&&null!=this.end?this.end:t?this.join(""):this.start:r.c*t+r.s,r.m?e=r.m(e,this._target||r.t):e<1e-6&&e>-1e-6&&!r.blob&&(e=0),r.f?r.fp?r.t[r.p](r.fp,e):r.t[r.p](e):r.t[r.p]=e,r=r._next},z=function(t,e,r,i){var n,s,o,a,h,u,l,c=[],f=0,p="",d=0;for(c.start=t,c.end=e,t=c[0]=t+"",e=c[1]=e+"",r&&(r(c),t=c[0],e=c[1]),c.length=0,n=t.match(B)||[],s=e.match(B)||[],i&&(i._next=null,i.blob=1,c._firstPT=c._applyPT=i),h=s.length,a=0;a<h;a++)l=s[a],p+=(u=e.substr(f,e.indexOf(l,f)-f))||!a?u:",",f+=u.length,d?d=(d+1)%5:"rgba("===u.substr(-5)&&(d=1),l===n[a]||n.length<=a?p+=l:(p&&(c.push(p),p=""),o=parseFloat(n[a]),c.push(o),c._firstPT={_next:c._firstPT,t:c,p:c.length-1,s:o,c:("="===l.charAt(1)?parseInt(l.charAt(0)+"1",10)*parseFloat(l.substr(2)):parseFloat(l)-o)||0,f:0,m:d&&d<4?Math.round:0}),f+=l.length;return(p+=e.substr(f))&&c.push(p),c.setRatio=V,j.test(e)&&(c.end=null),c},G=function(t,e,r,i,n,s,o,a,h){"function"==typeof i&&(i=i(h||0,t));var u=typeof t[e],l="function"!==u?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),c="get"!==r?r:l?o?t[l](o):t[l]():t[e],f="string"==typeof i&&"="===i.charAt(1),p={t:t,p:e,s:c,f:"function"===u,pg:0,n:n||e,m:s?"function"==typeof s?s:Math.round:0,pr:0,c:f?parseInt(i.charAt(0)+"1",10)*parseFloat(i.substr(2)):parseFloat(i)-c||0};if(("number"!=typeof c||"number"!=typeof i&&!f)&&(o||isNaN(c)||!f&&isNaN(i)||"boolean"==typeof c||"boolean"==typeof i?(p.fp=o,p={t:z(c,f?parseFloat(p.s)+p.c+(p.s+"").replace(/[0-9\-\.]/g,""):i,a||k.defaultStringFilter,p),p:"setRatio",s:0,c:1,f:2,pg:0,n:n||e,pr:0,m:0}):(p.s=parseFloat(c),f||(p.c=parseFloat(i)-p.s||0))),p.c)return(p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p},U=k._internals={isArray:v,isSelector:F,lazyTweens:L,blobDif:z},X=k._plugins={},H=U.tweenLookup={},W=0,Y=U.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},q={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},$=I._rootFramesTimeline=new R,K=I._rootTimeline=new R,Z=30,J=U.lazyRender=function(){var t,e=L.length;for(N={};--e>-1;)(t=L[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);L.length=0};K._startTime=c.time,$._startTime=c.frame,K._active=$._active=!0,setTimeout(J,1),I._updateRoot=k.render=function(){var t,e,r;if(L.length&&J(),K.render((c.time-K._startTime)*K._timeScale,!1,!1),$.render((c.frame-$._startTime)*$._timeScale,!1,!1),L.length&&J(),c.frame>=Z){for(r in Z=c.frame+(parseInt(k.autoSleep,10)||120),H){for(t=(e=H[r].tweens).length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete H[r]}if((!(r=K._first)||r._paused)&&k.autoSleep&&!$._first&&1===c._listeners.tick.length){for(;r&&r._paused;)r=r._next;r||c.sleep()}}},c.addEventListener("tick",I._updateRoot);var Q=function(t,e,r){var i,n,s=t._gsTweenID;if(H[s||(t._gsTweenID=s="t"+W++)]||(H[s]={target:t,tweens:[]}),e&&((i=H[s].tweens)[n=i.length]=e,r))for(;--n>-1;)i[n]===e&&i.splice(n,1);return H[s].tweens},tt=function(t,e,r,i){var n,s,o=t.vars.onOverwrite;return o&&(n=o(t,e,r,i)),(o=k.onOverwrite)&&(s=o(t,e,r,i)),!1!==n&&!1!==s},et=function(t,e,r,i,n){var s,o,a,h;if(1===i||i>=4){for(h=n.length,s=0;s<h;s++)if((a=n[s])!==e)a._gc||a._kill(null,t,e)&&(o=!0);else if(5===i)break;return o}var u,l=e._startTime+1e-10,c=[],f=0,p=0===e._duration;for(s=n.length;--s>-1;)(a=n[s])===e||a._gc||a._paused||(a._timeline!==e._timeline?(u=u||rt(e,0,p),0===rt(a,u,p)&&(c[f++]=a)):a._startTime<=l&&a._startTime+a.totalDuration()/a._timeScale>l&&((p||!a._initted)&&l-a._startTime<=2e-10||(c[f++]=a)));for(s=f;--s>-1;)if(a=c[s],2===i&&a._kill(r,t,e)&&(o=!0),2!==i||!a._firstPT&&a._initted){if(2!==i&&!tt(a,e))continue;a._enabled(!1,!1)&&(o=!0)}return o},rt=function(t,e,r){for(var i=t._timeline,n=i._timeScale,s=t._startTime;i._timeline;){if(s+=i._startTime,n*=i._timeScale,i._paused)return-100;i=i._timeline}return(s/=n)>e?s-e:r&&s===e||!t._initted&&s-e<2e-10?1e-10:(s+=t.totalDuration()/t._timeScale/n)>e+1e-10?0:s-e-1e-10};l._init=function(){var t,e,r,i,n,s,o=this.vars,a=this._overwrittenProps,h=this._duration,u=!!o.immediateRender,l=o.ease;if(o.startAt){for(i in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),n={},o.startAt)n[i]=o.startAt[i];if(n.data="isStart",n.overwrite=!1,n.immediateRender=!0,n.lazy=u&&!1!==o.lazy,n.startAt=n.delay=null,n.onUpdate=o.onUpdate,n.onUpdateParams=o.onUpdateParams,n.onUpdateScope=o.onUpdateScope||o.callbackScope||this,this._startAt=k.to(this.target,0,n),u)if(this._time>0)this._startAt=null;else if(0!==h)return}else if(o.runBackwards&&0!==h)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(i in 0!==this._time&&(u=!1),r={},o)Y[i]&&"autoCSS"!==i||(r[i]=o[i]);if(r.overwrite=0,r.data="isFromStart",r.lazy=u&&!1!==o.lazy,r.immediateRender=u,this._startAt=k.to(this.target,0,r),u){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=l=l?l instanceof w?l:"function"==typeof l?new w(l,o.easeParams):E[l]||k.defaultEase:k.defaultEase,o.easeParams instanceof Array&&l.config&&(this._ease=l.config.apply(l,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(s=this._targets.length,t=0;t<s;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a,0);if(e&&k._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(r=this._firstPT;r;)r.s+=r.c,r.c=-r.c,r=r._next;this._onUpdate=o.onUpdate,this._initted=!0},l._initProps=function(t,e,i,n,s){var o,a,h,u,l,c;if(null==t)return!1;for(o in N[t._gsTweenID]&&J(),this.vars.css||t.style&&t!==r&&t.nodeType&&X.css&&!1!==this.vars.autoCSS&&function(t,e){var r,i={};for(r in t)Y[r]||r in e&&"transform"!==r&&"x"!==r&&"y"!==r&&"width"!==r&&"height"!==r&&"className"!==r&&"border"!==r||!(!X[r]||X[r]&&X[r]._autoCSS)||(i[r]=t[r],delete t[r]);t.css=i}(this.vars,t),this.vars)if(c=this.vars[o],Y[o])c&&(c instanceof Array||c.push&&v(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[o]=c=this._swapSelfInParams(c,this));else if(X[o]&&(u=new X[o])._onInitTween(t,this.vars[o],this,s)){for(this._firstPT=l={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:u._priority,m:0},a=u._overwriteProps.length;--a>-1;)e[u._overwriteProps[a]]=this._firstPT;(u._priority||u._onInitAllProps)&&(h=!0),(u._onDisable||u._onEnable)&&(this._notifyPluginsOfEnabled=!0),l._next&&(l._next._prev=l)}else e[o]=G.call(this,t,o,"get",c,o,0,null,this.vars.stringFilter,s);return n&&this._kill(n,t)?this._initProps(t,e,i,n,s):this._overwrite>1&&this._firstPT&&i.length>1&&et(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,n,s)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(N[t._gsTweenID]=!0),h)},l.render=function(t,e,r){var i,n,s,o,a=this._time,h=this._duration,u=this._rawPrevTime;if(t>=h-1e-7&&t>=0)this._totalTime=this._time=h,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(i=!0,n="onComplete",r=r||this._timeline.autoRemoveChildren),0===h&&(this._initted||!this.vars.lazy||r)&&(this._startTime===this._timeline._duration&&(t=0),(u<0||t<=0&&t>=-1e-7||1e-10===u&&"isPause"!==this.data)&&u!==t&&(r=!0,u>1e-10&&(n="onReverseComplete")),this._rawPrevTime=o=!e||t||u===t?t:1e-10);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===h&&u>0)&&(n="onReverseComplete",i=this._reversed),t<0&&(this._active=!1,0===h&&(this._initted||!this.vars.lazy||r)&&(u>=0&&(1e-10!==u||"isPause"!==this.data)&&(r=!0),this._rawPrevTime=o=!e||t||u===t?t:1e-10)),(!this._initted||this._startAt&&this._startAt.progress())&&(r=!0);else if(this._totalTime=this._time=t,this._easeType){var l=t/h,c=this._easeType,f=this._easePower;(1===c||3===c&&l>=.5)&&(l=1-l),3===c&&(l*=2),1===f?l*=l:2===f?l*=l*l:3===f?l*=l*l*l:4===f&&(l*=l*l*l*l),this.ratio=1===c?1-l:2===c?l:t/h<.5?l/2:1-l/2}else this.ratio=this._ease.getRatio(t/h);if(this._time!==a||r){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!r&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=u,L.push(this),void(this._lazy=[t,e]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/h):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,!0,r):n||(n="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==h||e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,!0,r),e||(this._time!==a||i||r)&&this._callback("onUpdate")),n&&(this._gc&&!r||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,!0,r),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this._callback(n),0===h&&1e-10===this._rawPrevTime&&1e-10!==o&&(this._rawPrevTime=0)))}},l._kill=function(t,e,r){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:k.selector(e)||e;var i,n,s,o,a,h,u,l,c,f=r&&this._time&&r._startTime===this._startTime&&this._timeline===r._timeline;if((v(e)||F(e))&&"number"!=typeof e[0])for(i=e.length;--i>-1;)this._kill(t,e[i],r)&&(h=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(e===this._targets[i]){a=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[i]=t?this._overwrittenProps[i]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,n=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(u=t||a,l=t!==n&&"all"!==n&&t!==a&&("object"!=typeof t||!t._tempKill),r&&(k.onOverwrite||this.vars.onOverwrite)){for(s in u)a[s]&&(c||(c=[]),c.push(s));if((c||!t)&&!tt(this,r,e,c))return!1}for(s in u)(o=a[s])&&(f&&(o.f?o.t[o.p](o.s):o.t[o.p]=o.s,h=!0),o.pg&&o.t._kill(u)&&(h=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete a[s]),l&&(n[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},l.invalidate=function(){return this._notifyPluginsOfEnabled&&k._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],I.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(Math.min(0,-this._delay))),this},l._enabled=function(t,e){if(f||c.wake(),t&&this._gc){var r,i=this._targets;if(i)for(r=i.length;--r>-1;)this._siblings[r]=Q(i[r],this,!0);else this._siblings=Q(this.target,this,!0)}return I.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&k._onPluginEvent(t?"_onEnable":"_onDisable",this)},k.to=function(t,e,r){return new k(t,e,r)},k.from=function(t,e,r){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,new k(t,e,r)},k.fromTo=function(t,e,r,i){return i.startAt=r,i.immediateRender=0!=i.immediateRender&&0!=r.immediateRender,new k(t,e,i)},k.delayedCall=function(t,e,r,i,n){return new k(e,0,{delay:t,onComplete:e,onCompleteParams:r,callbackScope:i,onReverseComplete:e,onReverseCompleteParams:r,immediateRender:!1,lazy:!1,useFrames:n,overwrite:0})},k.set=function(t,e){return new k(t,0,e)},k.getTweensOf=function(t,e){if(null==t)return[];var r,i,n,s;if(t="string"!=typeof t?t:k.selector(t)||t,(v(t)||F(t))&&"number"!=typeof t[0]){for(r=t.length,i=[];--r>-1;)i=i.concat(k.getTweensOf(t[r],e));for(r=i.length;--r>-1;)for(s=i[r],n=r;--n>-1;)s===i[n]&&i.splice(r,1)}else if(t._gsTweenID)for(r=(i=Q(t).concat()).length;--r>-1;)(i[r]._gc||e&&!i[r].isActive())&&i.splice(r,1);return i||[]},k.killTweensOf=k.killDelayedCallsTo=function(t,e,r){"object"==typeof e&&(r=e,e=!1);for(var i=k.getTweensOf(t,e),n=i.length;--n>-1;)i[n]._kill(r,t)};var it=x("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=it.prototype},!0);if(l=it.prototype,it.version="1.19.0",it.API=2,l._firstPT=null,l._addTween=G,l.setRatio=V,l._kill=function(t){var e,r=this._overwriteProps,i=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=r.length;--e>-1;)null!=t[r[e]]&&r.splice(e,1);for(;i;)null!=t[i.n]&&(i._next&&(i._next._prev=i._prev),i._prev?(i._prev._next=i._next,i._prev=null):this._firstPT===i&&(this._firstPT=i._next)),i=i._next;return!1},l._mod=l._roundProps=function(t){for(var e,r=this._firstPT;r;)(e=t[this._propName]||null!=r.n&&t[r.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===r.f?r.t._applyPT.m=e:r.m=e),r=r._next},k._onPluginEvent=function(t,e){var r,i,n,s,o,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(o=a._next,i=n;i&&i.pr>a.pr;)i=i._next;(a._prev=i?i._prev:s)?a._prev._next=a:n=a,(a._next=i)?i._prev=a:s=a,a=o}a=e._firstPT=n}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(r=!0),a=a._next;return r},it.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===it.API&&(X[(new t[e])._propName]=t[e]);return!0},b.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,r=t.propName,i=t.priority||0,n=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},o=x("plugins."+r.charAt(0).toUpperCase()+r.substr(1)+"Plugin",function(){it.call(this,r,i),this._overwriteProps=n||[]},!0===t.global),a=o.prototype=new it(r);for(e in a.constructor=o,o.API=t.API,s)"function"==typeof t[e]&&(a[s[e]]=t[e]);return o.version=t.version,it.activate([o]),o},h=r._gsQueue){for(u=0;u<h.length;u++)h[u]();for(l in g)g[l].func||r.console.log("GSAP encountered missing dependency: "+l)}f=!1}}(void 0!==t&&t.exports&&void 0!==r?r:this||window)}).call(this,r(58))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(73),n={position:50,duration:2,startTime:1};e.SlideDownTransition=class extends i.BaseTransition{constructor(){super({transId:"slide-down",name:"Slide down",desc:"",cat:"Sliding",thumb:"https://cdn0.iconfinder.com/data/icons/line-design-multimedia-set-2/21/transition-cover-512.png"})}buildTimelineScript(t,e,r){r=Object.assign({},n,r),t.set(e,{pixi:{y:`-=${r.position}`}}).to(e,`${r.duration}`,{pixi:{y:e.y}},`${r.startTime}`)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(73),n={duration:2,startTime:1};e.FadeInTransition=class extends i.BaseTransition{constructor(){super({transId:"fade-in",name:"Fade in",desc:"",cat:"Fading",thumb:"https://cdn0.iconfinder.com/data/icons/line-design-multimedia-set-2/21/transition-fade-512.png"})}buildTimelineScript(t,e,r){r=Object.assign({},n,r),t.set(e,{pixi:{alpha:0}}).to(e,r.duration,{pixi:{alpha:1}},`${r.startTime}`)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(73),n={duration:2,startTime:1};e.FadeOutTransition=class extends i.BaseTransition{constructor(){super({transId:"fade-out",name:"Fade out",desc:"",cat:"Fading",thumb:"https://cdn0.iconfinder.com/data/icons/line-design-multimedia-set-2/21/transition-fade-512.png"})}buildTimelineScript(t,e,r){r=Object.assign({},n,r),t.set(e,{pixi:{alpha:1}}).to(e,r.duration,{pixi:{alpha:0}},`${r.startTime}`)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(110),n=r(293),s=r(43);e.EffectPlayer=class extends i.ClipPlayer{constructor(t){super(t),this.timeline=new s.TimelineFull({paused:!0,onPause:this.onTlPause.bind(this),onPlay:this.onTlPlay.bind(this),onRestart:this.onTlRestart.bind(this)}),this.effectsProvider=n.EffectsProvider.getInstance(),this.effectId=t.effectId,this.defaultConfig=t.config,this.defaultAnimations=t.animations,this.effectFactory=this.effectsProvider.getEffect(this.effectId),this.init(),this.stop()}init(){this.host=new PIXI.Container;const t=this.defaultConfig||this.effectFactory.getDefaultConfig(),e=this.defaultAnimations||[];this.effect=this.effectFactory.factory({container:this.host,editor:this.editor,config:t,animations:e}),this.effect.onClick=this.onEffectClick.bind(this),this.effect.onTransform=this.onEffectTransform.bind(this),this.effect.onDurationChange=this.updateDuration.bind(this),this.timeline.add(this.effect.timeline.play(),0),this.duration=this.timeline.duration(),this.endTime=this.startTime+this.duration,this.updateDuration(this.duration),this.container&&this.container.addChild(this.host)}updateEffect(t){this.effect&&(this.effect.updateVisible(t.visible),this.effect.updateCongig(t.config),this.effect.updateAnimation(t.animations))}update(t){return this.effect&&this.effect.update()}setCurrentTime(t){super.setCurrentTime(t),this.timeline&&this.timeline.progress(t/this.timeline.duration())}reset(){super.reset(),this.timeline&&this.timeline.restart()}stop(){this.reset(),this.pause()}pause(){super.pause(),this.timeline&&this.timeline.pause()}play(){super.play(),this.timeline&&(this.timeline.play(),this.timeline.resume())}onTlPlay(){}onTlPause(){}onTlRestart(){}select(){this.effect.select()}unselect(){this.effect.unselect()}onEffectClick(t){"function"==typeof this.onClick&&(console.log("onEffectClick"),this.onClick(t))}onEffectSize(t){"function"==typeof this.onClick&&this.onSelect(t)}onEffectTransform(t){"function"==typeof this.onTransform&&this.onTransform(t)}destroy(){console.log("EffectPlayer","destroy"),this.host.destroy(),this.timeline.kill(),delete this.host,delete this.effect,delete this.effectFactory,delete this.timeline}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(294),n=r(109);class s{constructor(){this.injector=n.Injector.getInstance()}static getInstance(){return s.instance||(s.instance=new s),s.instance}getEffect(t){return this.injector.get(i.EffectsManagerService).getEffect(t)}}e.EffectsProvider=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(295),n=r(112),s=r(168),o=r(296),a=r(300),h=r(303),u=r(306),l=r(310);class c{constructor(){this.effectsRes$=new n.BehaviorSubject([]),this.loadEffects()}static getInstance(){return c.instance||(c.instance=new c),c.instance}loadEffects(){this.effects=[h.SimpleTextEffectFactory.getInstance(),a.LogoEffectFactory.getInstance(),u.VideoEffectFactory.getInstance(),o.BodymovinEffectFactory.getInstance(),l.GroupButtonEffectFactory.getInstance()]}getEffect(t){const e=this.effects.find(e=>e.effectData.effectId===t);if(!e)throw new Error("no effect with id "+t+" was found.");return e}addResource(t){const e=this.effectsRes$.value;e.push(t),this.effectsRes$.next(e)}getResources(){return this.effectsRes$.asObservable()}getCategories(){return this.effects.filter(t=>!t.effectData.hidden).map(t=>t.effectData.cat)}getEfffectResources(){return this.textEffect$}getImageResources(){return this.imageEffect$}getDefaultConfig(t){const e=this.getEffect(t).getDefaultConfig(),r=s.GLOBAL_DEFAULT_CONFIG;return i(r,e)}getEffectManager(t){return this.getEffect(t).getManager()}}e.EffectsManagerService=c},function(t,e,r){"use strict";r.r(e);var i=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===n}(t)}(t)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function s(t,e){return!1!==e.clone&&e.isMergeableObject(t)?a(function(t){return Array.isArray(t)?[]:{}}(t),t,e):t}function o(t,e,r){return t.concat(e).map(function(t){return s(t,r)})}function a(t,e,r){(r=r||{}).arrayMerge=r.arrayMerge||o,r.isMergeableObject=r.isMergeableObject||i;var n=Array.isArray(e);return n===Array.isArray(t)?n?r.arrayMerge(t,e,r):function(t,e,r){var i={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(e){i[e]=s(t[e],r)}),Object.keys(e).forEach(function(n){r.isMergeableObject(e[n])&&t[n]?i[n]=a(t[n],e[n],r):i[n]=s(e[n],r)}),i}(t,e,r):s(e,r)}a.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,r){return a(t,r,e)},{})};var h=a;e.default=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(65),n=r(297),s=r(299);class o extends i.BaseEffectFactory{constructor(){super({effectId:"bodymovin-effect",title:"Bodymovin Effect",description:"some description",thumbnail:"https://cdn.dribbble.com/users/385065/screenshots/1200768/aedribbble2_1x.png",enableTransition:!0,hidden:!0,cat:"text"}),this.manager=new s.BodymovinManagerService}static getInstance(){return o.instance||(o.instance=new o),o.instance}factory(t){return new n.BodymovinEffect({manager:this.getManager(),container:t.container,config:t.config,animations:t.animations})}getDefaultConfig(){return{name:"Bodymovin"}}getManager(){return this.manager}}e.BodymovinEffectFactory=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(66),n=r(298);e.BodymovinEffect=class extends i.BaseEffect{constructor(t){super(t)}load(){this.src=this.opt.config.src}init(){this.el=document.createElement("div"),this.el.style.width="400px",this.el.style.height="300px",this.el.style.position="fixed",this.el.style.top="0",this.el.style.left="-999px",document.body.appendChild(this.el);const t={container:this.el,renderer:"canvas",loop:!1,autoplay:!1,autoloadSegments:!0,rendererSettings:{progressiveLoad:!1},path:this.src};this.anim=n.loadAnimation(t),this.anim.addEventListener("DOMLoaded",this.onDomLoadded.bind(this)),this.ready=!0}onDomLoadded(){this.texture=PIXI.Texture.fromCanvas(this.el.querySelector("canvas")),this.sprite=new PIXI.Sprite(this.texture),this.host.addChild(this.sprite),this.timelineFactory(),this.render()}render(){this.texture.update(),this.ticker=window.requestAnimationFrame(this.render.bind(this))}destroy(){cancelAnimationFrame(this.ticker)}timelineFactory(){const t=1/this.anim.frameRate,e=this.anim.totalFrames;this.timeline.duration(t*e),this.timeline.duration(2),this.timeline.repeat(-1)}onPlay(){this.playAnim()}onPause(){this.pauseAnim()}onRestart(){this.anim.goToAndPlay(0)}playAnim(){this.anim.play()}pauseAnim(){this.anim.pause()}}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof navigator&&function(root,factory){void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return function(window){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};function ProjectInterface(){return{}}(function(){var t,e=Object.getOwnPropertyNames(Math),r=e.length;for(t=0;t<r;t+=1)BMMath[e[t]]=Math[e[t]]})(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"===typeof t&&t.length){var e,r=createSizedArray(t.length),i=t.length;for(e=0;e<i;e+=1)r[e]=Math.abs(t[e]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){bm_rnd=t?Math.round:function(t){return t}}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin=t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility=t.style.webkitBackfaceVisibility="visible",t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,r,i){this.type=t,this.currentTime=e,this.totalTime=r,this.direction=i<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,r,i){this.type=t,this.currentLoop=r,this.totalLoops=e,this.direction=i<0?-1:1}function BMSegmentStartEvent(t,e,r){this.type=t,this.firstFrame=e,this.totalFrames=r}function BMDestroyEvent(t,e){this.type=t,this.target=e}function randomString(t,e){var r;void 0===e&&(e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890");var i="";for(r=t;r>0;--r)i+=e[Math.round(Math.random()*(e.length-1))];return i}function HSVtoRGB(t,e,r){var i,n,s,o,a,h,u,l;switch(h=r*(1-e),u=r*(1-(a=6*t-(o=Math.floor(6*t)))*e),l=r*(1-(1-a)*e),o%6){case 0:i=r,n=l,s=h;break;case 1:i=u,n=r,s=h;break;case 2:i=h,n=r,s=l;break;case 3:i=h,n=u,s=r;break;case 4:i=l,n=h,s=r;break;case 5:i=r,n=h,s=u}return[i,n,s]}function RGBtoHSV(t,e,r){var i,n=Math.max(t,e,r),s=Math.min(t,e,r),o=n-s,a=0===n?0:o/n,h=n/255;switch(n){case s:i=0;break;case t:i=e-r+o*(e<r?6:0),i/=6*o;break;case e:i=r-t+2*o,i/=6*o;break;case r:i=t-e+4*o,i/=6*o}return[i,a,h]}function addSaturationToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[1]+=e,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[2]+=e,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[0]+=e/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}roundValues(!1);var rgbToHex=function(){var t,e,r=[];for(t=0;t<256;t+=1)e=t.toString(16),r[t]=1==e.length?"0"+e:e;return function(t,e,i){return t<0&&(t=0),e<0&&(e=0),i<0&&(i=0),"#"+r[t]+r[e]+r[i]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var r=this._cbs[t].length,i=0;i<r;i++)this._cbs[t][i](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var r=0,i=this._cbs[t].length;r<i;)this._cbs[t][r]===e&&(this._cbs[t].splice(r,1),r-=1,i-=1),r+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var createTypedArray="function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,e){return"float32"===t?new Float32Array(e):"int16"===t?new Int16Array(e):"uint8c"===t?new Uint8ClampedArray(e):void 0}:function(t,e){var r,i=0,n=[];switch(t){case"int16":case"uint8c":r=1;break;default:r=1.1}for(i=0;i<e;i+=1)n.push(r);return n};function createSizedArray(t){return Array.apply(null,{length:t})}function createNS(t){return document.createElementNS(svgNS,t)}function createTag(t){return document.createElement(t)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1
/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */}};var Matrix=function(){var t=Math.cos,e=Math.sin,r=Math.tan,i=Math.round;function n(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function s(r){if(0===r)return this;var i=t(r),n=e(r);return this._t(i,-n,0,0,n,i,0,0,0,0,1,0,0,0,0,1)}function o(r){if(0===r)return this;var i=t(r),n=e(r);return this._t(1,0,0,0,0,i,-n,0,0,n,i,0,0,0,0,1)}function a(r){if(0===r)return this;var i=t(r),n=e(r);return this._t(i,0,n,0,0,1,0,0,-n,0,i,0,0,0,0,1)}function h(r){if(0===r)return this;var i=t(r),n=e(r);return this._t(i,-n,0,0,n,i,0,0,0,0,1,0,0,0,0,1)}function u(t,e){return this._t(1,e,t,1,0,0)}function l(t,e){return this.shear(r(t),r(e))}function c(i,n){var s=t(n),o=e(n);return this._t(s,o,0,0,-o,s,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(i),1,0,0,0,0,1,0,0,0,0,1)._t(s,-o,0,0,o,s,0,0,0,0,1,0,0,0,0,1)}function f(t,e,r){return r=isNaN(r)?1:r,1==t&&1==e&&1==r?this:this._t(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1)}function p(t,e,r,i,n,s,o,a,h,u,l,c,f,p,d,m){return this.props[0]=t,this.props[1]=e,this.props[2]=r,this.props[3]=i,this.props[4]=n,this.props[5]=s,this.props[6]=o,this.props[7]=a,this.props[8]=h,this.props[9]=u,this.props[10]=l,this.props[11]=c,this.props[12]=f,this.props[13]=p,this.props[14]=d,this.props[15]=m,this}function d(t,e,r){return r=r||0,0!==t||0!==e||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,r,1):this}function m(t,e,r,i,n,s,o,a,h,u,l,c,f,p,d,m){var y=this.props;if(1===t&&0===e&&0===r&&0===i&&0===n&&1===s&&0===o&&0===a&&0===h&&0===u&&1===l&&0===c)return y[12]=y[12]*t+y[15]*f,y[13]=y[13]*s+y[15]*p,y[14]=y[14]*l+y[15]*d,y[15]=y[15]*m,this._identityCalculated=!1,this;var v=y[0],g=y[1],_=y[2],b=y[3],x=y[4],T=y[5],w=y[6],E=y[7],S=y[8],P=y[9],C=y[10],A=y[11],M=y[12],O=y[13],I=y[14],D=y[15];return y[0]=v*t+g*n+_*h+b*f,y[1]=v*e+g*s+_*u+b*p,y[2]=v*r+g*o+_*l+b*d,y[3]=v*i+g*a+_*c+b*m,y[4]=x*t+T*n+w*h+E*f,y[5]=x*e+T*s+w*u+E*p,y[6]=x*r+T*o+w*l+E*d,y[7]=x*i+T*a+w*c+E*m,y[8]=S*t+P*n+C*h+A*f,y[9]=S*e+P*s+C*u+A*p,y[10]=S*r+P*o+C*l+A*d,y[11]=S*i+P*a+C*c+A*m,y[12]=M*t+O*n+I*h+D*f,y[13]=M*e+O*s+I*u+D*p,y[14]=M*r+O*o+I*l+D*d,y[15]=M*i+O*a+I*c+D*m,this._identityCalculated=!1,this}function y(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function v(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function g(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e]}function _(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function b(t,e,r){return{x:t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}}function x(t,e,r){return t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12]}function T(t,e,r){return t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13]}function w(t,e,r){return t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}function E(t){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],r=this.props[5]/e,i=-this.props[1]/e,n=-this.props[4]/e,s=this.props[0]/e,o=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,a=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e;return[t[0]*r+t[1]*n+o,t[0]*i+t[1]*s+a,0]}function S(t){var e,r=t.length,i=[];for(e=0;e<r;e+=1)i[e]=E(t[e]);return i}function P(t,e,r){var i=createTypedArray("float32",6);if(this.isIdentity())i[0]=t[0],i[1]=t[1],i[2]=e[0],i[3]=e[1],i[4]=r[0],i[5]=r[1];else{var n=this.props[0],s=this.props[1],o=this.props[4],a=this.props[5],h=this.props[12],u=this.props[13];i[0]=t[0]*n+t[1]*o+h,i[1]=t[0]*s+t[1]*a+u,i[2]=e[0]*n+e[1]*o+h,i[3]=e[0]*s+e[1]*a+u,i[4]=r[0]*n+r[1]*o+h,i[5]=r[0]*s+r[1]*a+u}return i}function C(t,e,r){return this.isIdentity()?[t,e,r]:[t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]]}function A(t,e){if(this.isIdentity())return t+","+e;var r=this.props;return Math.round(100*(t*r[0]+e*r[4]+r[12]))/100+","+Math.round(100*(t*r[1]+e*r[5]+r[13]))/100}function M(){for(var t=0,e=this.props,r="matrix3d(";t<16;)r+=i(1e4*e[t])/1e4,r+=15===t?")":",",t+=1;return r}function O(t){return t<1e-6&&t>0||t>-1e-6&&t<0?i(1e4*t)/1e4:t}function I(){var t=this.props;return"matrix("+O(t[0])+","+O(t[1])+","+O(t[4])+","+O(t[5])+","+O(t[12])+","+O(t[13])+")"}return function(){this.reset=n,this.rotate=s,this.rotateX=o,this.rotateY=a,this.rotateZ=h,this.skew=l,this.skewFromAxis=c,this.shear=u,this.scale=f,this.setTransform=p,this.translate=d,this.transform=m,this.applyToPoint=b,this.applyToX=x,this.applyToY=T,this.applyToZ=w,this.applyToPointArray=C,this.applyToTriplePoints=P,this.applyToPointStringified=A,this.toCSS=M,this.to2dCSS=I,this.clone=g,this.cloneFromProps=_,this.equals=v,this.inversePoints=S,this.inversePoint=E,this._t=this.transform,this.isIdentity=y,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();!function(t,e){var r,i=this,n=256,s="random",o=e.pow(n,6),a=e.pow(2,52),h=2*a,u=255;function l(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function c(t,e){for(var r,i=t+"",n=0;n<i.length;)e[u&n]=u&(r^=19*e[u&n])+i.charCodeAt(n++);return f(e)}function f(t){return String.fromCharCode.apply(0,t)}e["seed"+s]=function(p,d,m){var y=[],v=c(function t(e,r){var i,n=[],s=typeof e;if(r&&"object"==s)for(i in e)try{n.push(t(e[i],r-1))}catch(t){}return n.length?n:"string"==s?e:e+"\0"}((d=!0===d?{entropy:!0}:d||{}).entropy?[p,f(t)]:null===p?function(){try{r;var e=new Uint8Array(n);return(i.crypto||i.msCrypto).getRandomValues(e),f(e)}catch(e){var s=i.navigator,o=s&&s.plugins;return[+new Date,i,o,i.screen,f(t)]}}():p,3),y),g=new function(t){var e,r=t.length,i=this,s=0,o=i.i=i.j=0,a=i.S=[];for(r||(t=[r++]);s<n;)a[s]=s++;for(s=0;s<n;s++)a[s]=a[o=u&o+t[s%r]+(e=a[s])],a[o]=e;i.g=function(t){for(var e,r=0,s=i.i,o=i.j,a=i.S;t--;)e=a[s=u&s+1],r=r*n+a[u&(a[s]=a[o=u&o+e])+(a[o]=e)];return i.i=s,i.j=o,r}}(y),_=function(){for(var t=g.g(6),e=o,r=0;t<a;)t=(t+r)*n,e*=n,r=g.g(1);for(;t>=h;)t/=2,e/=2,r>>>=1;return(t+r)/e};return _.int32=function(){return 0|g.g(4)},_.quick=function(){return g.g(4)/4294967296},_.double=_,c(f(g.S),t),(d.pass||m||function(t,r,i,n){return n&&(n.S&&l(n,g),t.state=function(){return l(g,{})}),i?(e[s]=t,r):t})(_,v,"global"in d?d.global:this==e,d.state)},c(e.random(),t)}([],BMMath);var BezierFactory=function(){var t={getBezierEasing:function(t,r,i,n,s){var o=s||("bez_"+t+"_"+r+"_"+i+"_"+n).replace(/\./g,"p");if(e[o])return e[o];var a=new l([t,r,i,n]);return e[o]=a,a}},e={},r=11,i=1/(r-1),n="function"==typeof Float32Array;function s(t,e){return 1-3*e+3*t}function o(t,e){return 3*e-6*t}function a(t){return 3*t}function h(t,e,r){return((s(e,r)*t+o(e,r))*t+a(e))*t}function u(t,e,r){return 3*s(e,r)*t*t+2*o(e,r)*t+a(e)}function l(t){this._p=t,this._mSampleValues=n?new Float32Array(r):new Array(r),this._precomputed=!1,this.get=this.get.bind(this)}return l.prototype={get:function(t){var e=this._p[0],r=this._p[1],i=this._p[2],n=this._p[3];return this._precomputed||this._precompute(),e===r&&i===n?t:0===t?0:1===t?1:h(this._getTForX(t),r,n)},_precompute:function(){var t=this._p[0],e=this._p[1],r=this._p[2],i=this._p[3];this._precomputed=!0,t===e&&r===i||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],n=0;n<r;++n)this._mSampleValues[n]=h(n*i,t,e)},_getTForX:function(t){for(var e=this._p[0],n=this._p[2],s=this._mSampleValues,o=0,a=1,l=r-1;a!==l&&s[a]<=t;++a)o+=i;var c=o+(t-s[--a])/(s[a+1]-s[a])*i,f=u(c,e,n);return f>=.001?function(t,e,r,i){for(var n=0;n<4;++n){var s=u(e,r,i);if(0===s)return e;e-=(h(e,r,i)-t)/s}return e}(t,c,e,n):0===f?c:function(t,e,r,i,n){var s,o,a=0;do{(s=h(o=e+(r-e)/2,i,n)-t)>0?r=o:e=o}while(Math.abs(s)>1e-7&&++a<10);return o}(t,o,o+i,e,n)}},t}();function extendPrototype(t,e){var r,i,n=t.length;for(r=0;r<n;r+=1)for(var s in i=t[r].prototype)i.hasOwnProperty(s)&&(e.prototype[s]=i[s])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}function bezFunction(){function t(t,e,r,i,n,s){var o=t*i+e*n+r*s-n*i-s*t-r*e;return o>-.001&&o<.001}Math;var e=function(t,e,r,i){var n,s,o,a,h,u,l=defaultCurveSegments,c=0,f=[],p=[],d=bezier_length_pool.newElement();for(o=r.length,n=0;n<l;n+=1){for(h=n/(l-1),u=0,s=0;s<o;s+=1)a=bm_pow(1-h,3)*t[s]+3*bm_pow(1-h,2)*h*r[s]+3*(1-h)*bm_pow(h,2)*i[s]+bm_pow(h,3)*e[s],f[s]=a,null!==p[s]&&(u+=bm_pow(f[s]-p[s],2)),p[s]=f[s];u&&(c+=u=bm_sqrt(u)),d.percents[n]=h,d.lengths[n]=c}return d.addedLength=c,d};function r(t,e){this.partialLength=t,this.point=e}var i=function(){var e={};return function(i){var n=i.s,s=i.e,o=i.to,a=i.ti,h=(n[0]+"_"+n[1]+"_"+s[0]+"_"+s[1]+"_"+o[0]+"_"+o[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(e[h])i.bezierData=e[h];else{var u,l,c,f,p,d,m,y=defaultCurveSegments,v=0,g=null;2===n.length&&(n[0]!=s[0]||n[1]!=s[1])&&t(n[0],n[1],s[0],s[1],n[0]+o[0],n[1]+o[1])&&t(n[0],n[1],s[0],s[1],s[0]+a[0],s[1]+a[1])&&(y=2);var _=new function(t){this.segmentLength=0,this.points=new Array(t)}(y);for(c=o.length,u=0;u<y;u+=1){for(m=createSizedArray(c),p=u/(y-1),d=0,l=0;l<c;l+=1)f=bm_pow(1-p,3)*n[l]+3*bm_pow(1-p,2)*p*(n[l]+o[l])+3*(1-p)*bm_pow(p,2)*(s[l]+a[l])+bm_pow(p,3)*s[l],m[l]=f,null!==g&&(d+=bm_pow(m[l]-g[l],2));v+=d=bm_sqrt(d),_.points[u]=new r(d,m),g=m}_.segmentLength=v,i.bezierData=_,e[h]=_}}}();function n(t,e){var r=e.percents,i=e.lengths,n=r.length,s=bm_floor((n-1)*t),o=t*e.addedLength,a=0;if(s===n-1||0===s||o===i[s])return r[s];for(var h=i[s]>o?-1:1,u=!0;u;)if(i[s]<=o&&i[s+1]>o?(a=(o-i[s])/(i[s+1]-i[s]),u=!1):s+=h,s<0||s>=n-1){if(s===n-1)return r[s];u=!1}return r[s]+(r[s+1]-r[s])*a}var s=createTypedArray("float32",8);return{getSegmentsLength:function(t){var r,i=segments_length_pool.newElement(),n=t.c,s=t.v,o=t.o,a=t.i,h=t._length,u=i.lengths,l=0;for(r=0;r<h-1;r+=1)u[r]=e(s[r],s[r+1],o[r],a[r+1]),l+=u[r].addedLength;return n&&h&&(u[r]=e(s[r],s[0],o[r],a[0]),l+=u[r].addedLength),i.totalLength=l,i},getNewSegment:function(t,e,r,i,o,a,h){var u,l=n(o=o<0?0:o>1?1:o,h),c=n(a=a>1?1:a,h),f=t.length,p=1-l,d=1-c,m=p*p*p,y=l*p*p*3,v=l*l*p*3,g=l*l*l,_=p*p*d,b=l*p*d+p*l*d+p*p*c,x=l*l*d+p*l*c+l*p*c,T=l*l*c,w=p*d*d,E=l*d*d+p*c*d+p*d*c,S=l*c*d+p*c*c+l*d*c,P=l*c*c,C=d*d*d,A=c*d*d+d*c*d+d*d*c,M=c*c*d+d*c*c+c*d*c,O=c*c*c;for(u=0;u<f;u+=1)s[4*u]=Math.round(1e3*(m*t[u]+y*r[u]+v*i[u]+g*e[u]))/1e3,s[4*u+1]=Math.round(1e3*(_*t[u]+b*r[u]+x*i[u]+T*e[u]))/1e3,s[4*u+2]=Math.round(1e3*(w*t[u]+E*r[u]+S*i[u]+P*e[u]))/1e3,s[4*u+3]=Math.round(1e3*(C*t[u]+A*r[u]+M*i[u]+O*e[u]))/1e3;return s},getPointInSegment:function(t,e,r,i,s,o){var a=n(s,o),h=1-a;return[Math.round(1e3*(h*h*h*t[0]+(a*h*h+h*a*h+h*h*a)*r[0]+(a*a*h+h*a*a+a*h*a)*i[0]+a*a*a*e[0]))/1e3,Math.round(1e3*(h*h*h*t[1]+(a*h*h+h*a*h+h*h*a)*r[1]+(a*a*h+h*a*a+a*h*a)*i[1]+a*a*a*e[1]))/1e3]},buildBezierData:i,pointOnLine2D:t,pointOnLine3D:function(e,r,i,n,s,o,a,h,u){if(0===i&&0===o&&0===u)return t(e,r,n,s,a,h);var l,c=Math.sqrt(Math.pow(n-e,2)+Math.pow(s-r,2)+Math.pow(o-i,2)),f=Math.sqrt(Math.pow(a-e,2)+Math.pow(h-r,2)+Math.pow(u-i,2)),p=Math.sqrt(Math.pow(a-n,2)+Math.pow(h-s,2)+Math.pow(u-o,2));return(l=c>f?c>p?c-f-p:p-f-c:p>f?p-f-c:f-c-p)>-1e-4&&l<1e-4}}}!function(){for(var t=0,e=["ms","moz","webkit","o"],r=0;r<e.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[e[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[r]+"CancelAnimationFrame"]||window[e[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,r){var i=(new Date).getTime(),n=Math.max(0,16-(i-t)),s=setTimeout(function(){e(i+n)},n);return t=i+n,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction();function dataFunctionManager(){function t(t,e){for(var r=0,i=e.length;r<i;){if(e[r].id===t)return e[r].layers.__used?JSON.parse(JSON.stringify(e[r].layers)):(e[r].layers.__used=!0,e[r].layers);r+=1}}function e(t){var i,n,s;for(i=t.length-1;i>=0;i-=1)if("sh"==t[i].ty)if(t[i].ks.k.i)r(t[i].ks.k);else for(s=t[i].ks.k.length,n=0;n<s;n+=1)t[i].ks.k[n].s&&r(t[i].ks.k[n].s[0]),t[i].ks.k[n].e&&r(t[i].ks.k[n].e[0]);else"gr"==t[i].ty&&e(t[i].it)}function r(t){var e,r=t.i.length;for(e=0;e<r;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function i(t,e){var r=e?e.split("."):[100,100,100];return t[0]>r[0]||!(r[0]>t[0])&&(t[1]>r[1]||!(r[1]>t[1])&&(t[2]>r[2]||!(r[2]>t[2])&&void 0))}var n=function(){var t=[4,4,14];function e(t){var e=t.t.d;t.t.d={k:[{s:e,t:0}]}}function r(t){var r,i=t.length;for(r=0;r<i;r+=1)5===t[r].ty&&e(t[r])}return function(e){if(i(t,e.v)&&(r(e.layers),e.assets)){var n,s=e.assets.length;for(n=0;n<s;n+=1)e.assets[n].layers&&r(e.assets[n].layers)}}}(),s=function(){var t=[4,7,99];return function(e){if(e.chars&&!i(t,e.v)){var n,s,o,a,h,u=e.chars.length;for(n=0;n<u;n+=1)if(e.chars[n].data&&e.chars[n].data.shapes)for(o=(h=e.chars[n].data.shapes[0].it).length,s=0;s<o;s+=1)(a=h[s].ks.k).__converted||(r(h[s].ks.k),a.__converted=!0)}}}(),o=function(){var t=[4,1,9];function e(t){var r,i,n,s=t.length;for(r=0;r<s;r+=1)if("gr"===t[r].ty)e(t[r].it);else if("fl"===t[r].ty||"st"===t[r].ty)if(t[r].c.k&&t[r].c.k[0].i)for(n=t[r].c.k.length,i=0;i<n;i+=1)t[r].c.k[i].s&&(t[r].c.k[i].s[0]/=255,t[r].c.k[i].s[1]/=255,t[r].c.k[i].s[2]/=255,t[r].c.k[i].s[3]/=255),t[r].c.k[i].e&&(t[r].c.k[i].e[0]/=255,t[r].c.k[i].e[1]/=255,t[r].c.k[i].e[2]/=255,t[r].c.k[i].e[3]/=255);else t[r].c.k[0]/=255,t[r].c.k[1]/=255,t[r].c.k[2]/=255,t[r].c.k[3]/=255}function r(t){var r,i=t.length;for(r=0;r<i;r+=1)4===t[r].ty&&e(t[r].shapes)}return function(e){if(i(t,e.v)&&(r(e.layers),e.assets)){var n,s=e.assets.length;for(n=0;n<s;n+=1)e.assets[n].layers&&r(e.assets[n].layers)}}}(),a=function(){var t=[4,4,18];function e(t){var r,i,n;for(r=t.length-1;r>=0;r-=1)if("sh"==t[r].ty)if(t[r].ks.k.i)t[r].ks.k.c=t[r].closed;else for(n=t[r].ks.k.length,i=0;i<n;i+=1)t[r].ks.k[i].s&&(t[r].ks.k[i].s[0].c=t[r].closed),t[r].ks.k[i].e&&(t[r].ks.k[i].e[0].c=t[r].closed);else"gr"==t[r].ty&&e(t[r].it)}function r(t){var r,i,n,s,o,a,h=t.length;for(i=0;i<h;i+=1){if((r=t[i]).hasMask){var u=r.masksProperties;for(s=u.length,n=0;n<s;n+=1)if(u[n].pt.k.i)u[n].pt.k.c=u[n].cl;else for(a=u[n].pt.k.length,o=0;o<a;o+=1)u[n].pt.k[o].s&&(u[n].pt.k[o].s[0].c=u[n].cl),u[n].pt.k[o].e&&(u[n].pt.k[o].e[0].c=u[n].cl)}4===r.ty&&e(r.shapes)}}return function(e){if(i(t,e.v)&&(r(e.layers),e.assets)){var n,s=e.assets.length;for(n=0;n<s;n+=1)e.assets[n].layers&&r(e.assets[n].layers)}}}();function h(t,e){0!==t.t.a.length||"m"in t.t.p||(t.singleShape=!0)}var u={completeData:function(i,u){i.__complete||(o(i),n(i),s(i),a(i),function i(n,s,o){var a,u,l,c,f,p,d=n.length;for(u=0;u<d;u+=1)if("ks"in(a=n[u])&&!a.completed){if(a.completed=!0,a.tt&&(n[u-1].td=a.tt),a.hasMask){var m=a.masksProperties;for(c=m.length,l=0;l<c;l+=1)if(m[l].pt.k.i)r(m[l].pt.k);else for(p=m[l].pt.k.length,f=0;f<p;f+=1)m[l].pt.k[f].s&&r(m[l].pt.k[f].s[0]),m[l].pt.k[f].e&&r(m[l].pt.k[f].e[0])}0===a.ty?(a.layers=t(a.refId,s),i(a.layers,s,o)):4===a.ty?e(a.shapes):5==a.ty&&h(a)}}(i.layers,i.assets,u),i.__complete=!0)}};return u}var dataManager=dataFunctionManager(),FontManager=function(){var t={w:0,size:0,shapes:[]},e=[];function r(t,e){var r=createTag("span");r.style.fontFamily=e;var i=createTag("span");i.innerHTML="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(i),document.body.appendChild(r);var n=i.offsetWidth;return i.style.fontFamily=t+", "+e,{node:i,w:n,parent:r}}function i(t,e){var r=createNS("text");return r.style.fontSize="100px",r.setAttribute("font-family",e.fFamily),r.setAttribute("font-style",e.fStyle),r.setAttribute("font-weight",e.fWeight),r.textContent="1",e.fClass?(r.style.fontFamily="inherit",r.className=e.fClass):r.style.fontFamily=e.fFamily,t.appendChild(r),createTag("canvas").getContext("2d").font=e.fWeight+" "+e.fStyle+" 100px "+e.fFamily,r}e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.loaded=!1,this.initTime=Date.now()};return n.getCombinedCharacterCodes=function(){return e},n.prototype.addChars=function(t){if(t){this.chars||(this.chars=[]);var e,r,i,n=t.length,s=this.chars.length;for(e=0;e<n;e+=1){for(r=0,i=!1;r<s;)this.chars[r].style===t[e].style&&this.chars[r].fFamily===t[e].fFamily&&this.chars[r].ch===t[e].ch&&(i=!0),r+=1;i||(this.chars.push(t[e]),s+=1)}}},n.prototype.addFonts=function(t,e){if(t){if(this.chars)return this.loaded=!0,void(this.fonts=t.list);var n,s=t.list,o=s.length;for(n=0;n<o;n+=1){if(s[n].loaded=!1,s[n].monoCase=r(s[n].fFamily,"monospace"),s[n].sansCase=r(s[n].fFamily,"sans-serif"),s[n].fPath){if("p"===s[n].fOrigin||3===s[n].origin){var a=createTag("style");a.type="text/css",a.innerHTML="@font-face {font-family: "+s[n].fFamily+"; font-style: normal; src: url('"+s[n].fPath+"');}",e.appendChild(a)}else if("g"===s[n].fOrigin||1===s[n].origin){var h=createTag("link");h.type="text/css",h.rel="stylesheet",h.href=s[n].fPath,document.body.appendChild(h)}else if("t"===s[n].fOrigin||2===s[n].origin){var u=createTag("script");u.setAttribute("src",s[n].fPath),e.appendChild(u)}}else s[n].loaded=!0;s[n].helper=i(e,s[n]),s[n].cache={},this.fonts.push(s[n])}setTimeout(function(){(function t(){var e,r,i,n=this.fonts.length,s=n;for(e=0;e<n;e+=1)if(this.fonts[e].loaded)s-=1;else if("t"===this.fonts[e].fOrigin||2===this.fonts[e].origin){if(window.Typekit&&window.Typekit.load&&0===this.typekitLoaded){this.typekitLoaded=1;try{window.Typekit.load({async:!0,active:function(){this.typekitLoaded=2}.bind(this)})}catch(t){}}2===this.typekitLoaded&&(this.fonts[e].loaded=!0)}else"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(r=this.fonts[e].monoCase.node,i=this.fonts[e].monoCase.w,r.offsetWidth!==i?(s-=1,this.fonts[e].loaded=!0):(r=this.fonts[e].sansCase.node,i=this.fonts[e].sansCase.w,r.offsetWidth!==i&&(s-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==s&&Date.now()-this.initTime<5e3?setTimeout(t.bind(this),20):setTimeout(function(){this.loaded=!0}.bind(this),0)}).bind(this)()}.bind(this),100)}else this.loaded=!0},n.prototype.getCharData=function(e,r,i){for(var n=0,s=this.chars.length;n<s;){if(this.chars[n].ch===e&&this.chars[n].style===r&&this.chars[n].fFamily===i)return this.chars[n];n+=1}return console&&console.warn&&console.warn("Missing character from exported characters list: ",e,r,i),t},n.prototype.getFontByName=function(t){for(var e=0,r=this.fonts.length;e<r;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},n.prototype.measureText=function(t,e,r){var i=this.getFontByName(e),n=t.charCodeAt(0);if(!i.cache[n+1]){var s=i.helper;s.textContent=t,i.cache[n+1]=s.getComputedTextLength()/100}return i.cache[n+1]*r},n}(),PropertyFactory=function(){var t=initialDefaultFrame,e=Math.abs;function r(t,e){var r,n=this.offsetTime;"multidimensional"===this.propType&&(r=createTypedArray("float32",this.pv.length));for(var s,o,a,h,u,l,c,f,p=e.lastIndex,d=p,m=this.keyframes.length-1,y=!0;y;){if(s=this.keyframes[d],o=this.keyframes[d+1],d==m-1&&t>=o.t-n){s.h&&(s=o),p=0;break}if(o.t-n>t){p=d;break}d<m-1?d+=1:(p=0,y=!1)}if(s.to){s.bezierData||bez.buildBezierData(s);var v=s.bezierData;if(t>=o.t-n||t<s.t-n){var g=t>=o.t-n?v.points.length-1:0;for(h=v.points[g].point.length,a=0;a<h;a+=1)r[a]=v.points[g].point[a];e._lastBezierData=null}else{s.__fnct?f=s.__fnct:(f=BezierFactory.getBezierEasing(s.o.x,s.o.y,s.i.x,s.i.y,s.n).get,s.__fnct=f),u=f((t-(s.t-n))/(o.t-n-(s.t-n)));var _,b=v.segmentLength*u,x=e.lastFrame<t&&e._lastBezierData===v?e._lastAddedLength:0;for(c=e.lastFrame<t&&e._lastBezierData===v?e._lastPoint:0,y=!0,l=v.points.length;y;){if(x+=v.points[c].partialLength,0===b||0===u||c==v.points.length-1){for(h=v.points[c].point.length,a=0;a<h;a+=1)r[a]=v.points[c].point[a];break}if(b>=x&&b<x+v.points[c+1].partialLength){for(_=(b-x)/v.points[c+1].partialLength,h=v.points[c].point.length,a=0;a<h;a+=1)r[a]=v.points[c].point[a]+(v.points[c+1].point[a]-v.points[c].point[a])*_;break}c<l-1?c+=1:y=!1}e._lastPoint=c,e._lastAddedLength=x-v.points[c].partialLength,e._lastBezierData=v}}else{var T,w,E,S,P;if(m=s.s.length,this.sh&&1!==s.h)if(t>=o.t-n)r[0]=s.e[0],r[1]=s.e[1],r[2]=s.e[2];else if(t<=s.t-n)r[0]=s.s[0],r[1]=s.s[1],r[2]=s.s[2];else{!function(t,e){var r=e[0],i=e[1],n=e[2],s=e[3],o=Math.atan2(2*i*s-2*r*n,1-2*i*i-2*n*n),a=Math.asin(2*r*i+2*n*s),h=Math.atan2(2*r*s-2*i*n,1-2*r*r-2*n*n);t[0]=o/degToRads,t[1]=a/degToRads,t[2]=h/degToRads}(r,function(t,e,r){var i,n,s,o,a,h=[],u=t[0],l=t[1],c=t[2],f=t[3],p=e[0],d=e[1],m=e[2],y=e[3];return(n=u*p+l*d+c*m+f*y)<0&&(n=-n,p=-p,d=-d,m=-m,y=-y),1-n>1e-6?(i=Math.acos(n),s=Math.sin(i),o=Math.sin((1-r)*i)/s,a=Math.sin(r*i)/s):(o=1-r,a=r),h[0]=o*u+a*p,h[1]=o*l+a*d,h[2]=o*c+a*m,h[3]=o*f+a*y,h}(i(s.s),i(s.e),(t-(s.t-n))/(o.t-n-(s.t-n))))}else for(d=0;d<m;d+=1)1!==s.h&&(t>=o.t-n?u=1:t<s.t-n?u=0:(s.o.x.constructor===Array?(s.__fnct||(s.__fnct=[]),s.__fnct[d]?f=s.__fnct[d]:(T=s.o.x[d]||s.o.x[0],w=s.o.y[d]||s.o.y[0],E=s.i.x[d]||s.i.x[0],S=s.i.y[d]||s.i.y[0],f=BezierFactory.getBezierEasing(T,w,E,S).get,s.__fnct[d]=f)):s.__fnct?f=s.__fnct:(T=s.o.x,w=s.o.y,E=s.i.x,S=s.i.y,f=BezierFactory.getBezierEasing(T,w,E,S).get,s.__fnct=f),u=f((t-(s.t-n))/(o.t-n-(s.t-n))))),P=1===s.h?s.s[d]:s.s[d]+(s.e[d]-s.s[d])*u,1===m?r=P:r[d]=P}return e.lastIndex=p,r}function i(t){var e=t[0]*degToRads,r=t[1]*degToRads,i=t[2]*degToRads,n=Math.cos(e/2),s=Math.cos(r/2),o=Math.cos(i/2),a=Math.sin(e/2),h=Math.sin(r/2),u=Math.sin(i/2);return[a*h*o+n*s*u,a*s*o+n*h*u,n*h*o-a*s*u,n*s*o-a*h*u]}function n(){var e=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==t&&(this._caching.lastFrame>=i&&e>=i||this._caching.lastFrame<r&&e<r))){this._caching.lastIndex=this._caching.lastFrame<e?this._caching.lastIndex:0;var n=this.interpolateValue(e,this._caching);this.pv=n}return this._caching.lastFrame=e,this.pv}function s(t){var r;if("unidimensional"===this.propType)r=t*this.mult,e(this.v-r)>1e-5&&(this.v=r,this._mdf=!0);else for(var i=0,n=this.v.length;i<n;)r=t[i]*this.mult,e(this.v[i]-r)>1e-5&&(this.v[i]=r,this._mdf=!0),i+=1}function o(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=this._isFirstFrame;var t,e=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)r=this.effectsSequence[t](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function a(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function h(t,e,r,i){this.propType="unidimensional",this.mult=r||1,this.data=e,this.v=r?e.k*r:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=i,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=o,this.setVValue=s,this.addEffect=a}function u(t,e,r,i){this.propType="multidimensional",this.mult=r||1,this.data=e,this._mdf=!1,this.elem=t,this.container=i,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var n,h=e.k.length;for(this.v=createTypedArray("float32",h),this.pv=createTypedArray("float32",h),createTypedArray("float32",h),this.vel=createTypedArray("float32",h),n=0;n<h;n+=1)this.v[n]=e.k[n]*this.mult,this.pv[n]=e.k[n];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=o,this.setVValue=s,this.addEffect=a}function l(e,i,h,u){this.propType="unidimensional",this.keyframes=i.k,this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:t,lastIndex:0,value:0},this.k=!0,this.kf=!0,this.data=i,this.mult=h||1,this.elem=e,this.container=u,this.comp=e.comp,this.v=t,this.pv=t,this._isFirstFrame=!0,this.getValue=o,this.setVValue=s,this.interpolateValue=r,this.effectsSequence=[n.bind(this)],this.addEffect=a}function c(e,i,h,u){this.propType="multidimensional";var l,c,f,p,d,m=i.k.length;for(l=0;l<m-1;l+=1)i.k[l].to&&i.k[l].s&&i.k[l].e&&(c=i.k[l].s,f=i.k[l].e,p=i.k[l].to,d=i.k[l].ti,(2===c.length&&(c[0]!==f[0]||c[1]!==f[1])&&bez.pointOnLine2D(c[0],c[1],f[0],f[1],c[0]+p[0],c[1]+p[1])&&bez.pointOnLine2D(c[0],c[1],f[0],f[1],f[0]+d[0],f[1]+d[1])||3===c.length&&(c[0]!==f[0]||c[1]!==f[1]||c[2]!==f[2])&&bez.pointOnLine3D(c[0],c[1],c[2],f[0],f[1],f[2],c[0]+p[0],c[1]+p[1],c[2]+p[2])&&bez.pointOnLine3D(c[0],c[1],c[2],f[0],f[1],f[2],f[0]+d[0],f[1]+d[1],f[2]+d[2]))&&(i.k[l].to=null,i.k[l].ti=null),c[0]===f[0]&&c[1]===f[1]&&0===p[0]&&0===p[1]&&0===d[0]&&0===d[1]&&(2===c.length||c[2]===f[2]&&0===p[2]&&0===d[2])&&(i.k[l].to=null,i.k[l].ti=null));this.effectsSequence=[n.bind(this)],this.keyframes=i.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=h||1,this.elem=e,this.container=u,this.comp=e.comp,this.getValue=o,this.setVValue=s,this.interpolateValue=r,this.frameId=-1;var y=i.k[0].s.length;for(this.v=createTypedArray("float32",y),this.pv=createTypedArray("float32",y),l=0;l<y;l+=1)this.v[l]=t,this.pv[l]=t;this._caching={lastFrame:t,lastIndex:0,value:createTypedArray("float32",y)},this.addEffect=a}return{getProp:function(t,e,r,i,n){var s;if(0===e.a)s=0===r?new h(t,e,i,n):new u(t,e,i,n);else if(1===e.a)s=0===r?new l(t,e,i,n):new c(t,e,i,n);else if(e.k.length)if("number"==typeof e.k[0])s=new u(t,e,i,n);else switch(r){case 0:s=new l(t,e,i,n);break;case 1:s=new c(t,e,i,n)}else s=new h(t,e,i,n);return s.effectsSequence.length&&n.addDynamicProperty(s),s}}}(),TransformPropertyFactory=function(){function t(t,e,r){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||t),e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p,1,0,this),e.r)this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this);else if(e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var i,n=e.or.k.length;for(i=0;i<n;i+=1)e.or.k[i].to=e.or.k[i].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),e.a&&(this.a=PropertyFactory.getProp(t,e.a,1,0,this)),e.s&&(this.s=PropertyFactory.getProp(t,e.s,1,.01,this)),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var e,r,i=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(e=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/i,0),r=this.p.getValueAtTime(this.p.keyframes[0].t/i,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(e=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/i,0),r=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.01)/i,0)):(e=this.p.pv,r=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/i,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){e=[],r=[];var n=this.px,s=this.py;n._caching.lastFrame+n.offsetTime<=n.keyframes[0].t?(e[0]=n.getValueAtTime((n.keyframes[0].t+.01)/i,0),e[1]=s.getValueAtTime((s.keyframes[0].t+.01)/i,0),r[0]=n.getValueAtTime(n.keyframes[0].t/i,0),r[1]=s.getValueAtTime(s.keyframes[0].t/i,0)):n._caching.lastFrame+n.offsetTime>=n.keyframes[n.keyframes.length-1].t?(e[0]=n.getValueAtTime(n.keyframes[n.keyframes.length-1].t/i,0),e[1]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/i,0),r[0]=n.getValueAtTime((n.keyframes[n.keyframes.length-1].t-.01)/i,0),r[1]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/i,0)):(e=[n.pv,s.pv],r[0]=n.getValueAtTime((n._caching.lastFrame+n.offsetTime-.01)/i,n.offsetTime),r[1]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/i,s.offsetTime))}this.v.rotate(-Math.atan2(e[1]-r[1],e[0]-r[0]))}this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}if(this.r){if(this.r.effectsSequence.length)return;this.pre.rotate(-this.r.v),this.appliedTransformations=4}else this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,r,i){return new t(e,r,i)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var r=0;r<e;)this.v[r]=point_pool.newElement(),this.o[r]=point_pool.newElement(),this.i[r]=point_pool.newElement(),r+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,r,i,n){var s;switch(this._length=Math.max(this._length,i+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":s=this.v;break;case"i":s=this.i;break;case"o":s=this.o}(!s[i]||s[i]&&!n)&&(s[i]=point_pool.newElement()),s[i][0]=t,s[i][1]=e},ShapePath.prototype.setTripleAt=function(t,e,r,i,n,s,o,a){this.setXYAt(t,e,"v",o,a),this.setXYAt(r,i,"o",o,a),this.setXYAt(n,s,"i",o,a)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,r=this.o,i=this.i,n=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],i[0][0],i[0][1],r[0][0],r[0][1],0,!1),n=1);var s,o=this._length-1,a=this._length;for(s=n;s<a;s+=1)t.setTripleAt(e[o][0],e[o][1],i[o][0],i[o][1],r[o][0],r[o][1],s,!1),o-=1;return t};var ShapePropertyFactory=function(){var t=-999999;function e(t,e,r){var i,n,s,o,a,h,u,l,c,f=r.lastIndex,p=this.keyframes;if(t<p[0].t-this.offsetTime)i=p[0].s[0],s=!0,f=0;else if(t>=p[p.length-1].t-this.offsetTime)i=1===p[p.length-2].h?p[p.length-1].s[0]:p[p.length-2].e[0],s=!0;else{for(var d,m,y=f,v=p.length-1,g=!0;g&&(d=p[y],!((m=p[y+1]).t-this.offsetTime>t));)y<v-1?y+=1:g=!1;if(f=y,!(s=1===d.h)){if(t>=m.t-this.offsetTime)l=1;else if(t<d.t-this.offsetTime)l=0;else{var _;d.__fnct?_=d.__fnct:(_=BezierFactory.getBezierEasing(d.o.x,d.o.y,d.i.x,d.i.y).get,d.__fnct=_),l=_((t-(d.t-this.offsetTime))/(m.t-this.offsetTime-(d.t-this.offsetTime)))}n=d.e[0]}i=d.s[0]}for(h=e._length,u=i.i[0].length,r.lastIndex=f,o=0;o<h;o+=1)for(a=0;a<u;a+=1)c=s?i.i[o][a]:i.i[o][a]+(n.i[o][a]-i.i[o][a])*l,e.i[o][a]=c,c=s?i.o[o][a]:i.o[o][a]+(n.o[o][a]-i.o[o][a])*l,e.o[o][a]=c,c=s?i.v[o][a]:i.v[o][a]+(n.v[o][a]-i.v[o][a])*l,e.v[o][a]=c}function r(){this.paths=this.localShapeCollection}function i(){if(!this.lock&&this.elem.globalData.frameId!==this.frameId){this.lock=!0,this.frameId=this.elem.globalData.frameId,this._mdf=!1;var t,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k,r=this.effectsSequence.length;for(t=0;t<r;t+=1)e=this.effectsSequence[t](e);(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var r,i=t._length;for(r=0;r<i;r+=1)if(t.v[r][0]!==e.v[r][0]||t.v[r][1]!==e.v[r][1]||t.o[r][0]!==e.o[r][0]||t.o[r][1]!==e.o[r][1]||t.i[r][0]!==e.i[r][0]||t.i[r][1]!==e.i[r][1])return!1;return!0})(this.v,e)||(this.v=shape_pool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection),this.lock=!1}}function n(t,e,i){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var n=3===i?e.pt.k:e.ks.k;this.v=shape_pool.clone(n),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r,this.effectsSequence=[]}function s(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function o(e,i,n){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===n?i.pt.k:i.ks.k,this.k=!0,this.kf=!0;var s=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length,this.v=shape_pool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,s),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=r,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[function(){var e=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime,n=this._caching.lastFrame;return n!==t&&(n<r&&e<r||n>i&&e>i)||(this._caching.lastIndex=n<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}.bind(this)]}n.prototype.interpolateShape=e,n.prototype.getValue=i,n.prototype.getValue=i,n.prototype.addEffect=s,o.prototype.getValue=i,o.prototype.interpolateShape=e,o.prototype.addEffect=s;var a=function(){var t=roundCorner;function e(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],r=this.p.v[1],i=this.s.v[0]/2,n=this.s.v[1]/2,s=3!==this.d,o=this.v;o.v[0][0]=e,o.v[0][1]=r-n,o.v[1][0]=s?e+i:e-i,o.v[1][1]=r,o.v[2][0]=e,o.v[2][1]=r+n,o.v[3][0]=s?e-i:e+i,o.v[3][1]=r,o.i[0][0]=s?e-i*t:e+i*t,o.i[0][1]=r-n,o.i[1][0]=s?e+i:e-i,o.i[1][1]=r-n*t,o.i[2][0]=s?e+i*t:e-i*t,o.i[2][1]=r+n,o.i[3][0]=s?e-i:e+i,o.i[3][1]=r+n*t,o.o[0][0]=s?e+i*t:e-i*t,o.o[0][1]=r-n,o.o[1][0]=s?e+i:e-i,o.o[1][1]=r+n*t,o.o[2][0]=s?e-i*t:e+i*t,o.o[2][1]=r+n,o.o[3][0]=s?e-i:e+i,o.o[3][1]=r-n*t}},extendPrototype([DynamicPropertyContainer],e),e}(),h=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,r,i,n=2*Math.floor(this.pt.v),s=2*Math.PI/n,o=!0,a=this.or.v,h=this.ir.v,u=this.os.v,l=this.is.v,c=2*Math.PI*a/(2*n),f=2*Math.PI*h/(2*n),p=-Math.PI/2;p+=this.r.v;var d=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<n;t+=1){e=o?a:h,r=o?u:l,i=o?c:f;var m=e*Math.cos(p),y=e*Math.sin(p),v=0===m&&0===y?0:y/Math.sqrt(m*m+y*y),g=0===m&&0===y?0:-m/Math.sqrt(m*m+y*y);m+=+this.p.v[0],y+=+this.p.v[1],this.v.setTripleAt(m,y,m-v*i*r*d,y-g*i*r*d,m+v*i*r*d,y+g*i*r*d,t,!0),o=!o,p+=s*d}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),r=2*Math.PI/e,i=this.or.v,n=this.os.v,s=2*Math.PI*i/(4*e),o=-Math.PI/2,a=3===this.data.d?-1:1;for(o+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var h=i*Math.cos(o),u=i*Math.sin(o),l=0===h&&0===u?0:u/Math.sqrt(h*h+u*u),c=0===h&&0===u?0:-h/Math.sqrt(h*h+u*u);h+=+this.p.v[0],u+=+this.p.v[1],this.v.setTripleAt(h,u,h-l*s*n*a,u-c*s*n*a,h+l*s*n*a,u+c*s*n*a,t,!0),o+=r*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),u=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],r=this.s.v[0]/2,i=this.s.v[1]/2,n=bm_min(r,i,this.r.v),s=n*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+r,e-i+n,t+r,e-i+n,t+r,e-i+s,0,!0),this.v.setTripleAt(t+r,e+i-n,t+r,e+i-s,t+r,e+i-n,1,!0),0!==n?(this.v.setTripleAt(t+r-n,e+i,t+r-n,e+i,t+r-s,e+i,2,!0),this.v.setTripleAt(t-r+n,e+i,t-r+s,e+i,t-r+n,e+i,3,!0),this.v.setTripleAt(t-r,e+i-n,t-r,e+i-n,t-r,e+i-s,4,!0),this.v.setTripleAt(t-r,e-i+n,t-r,e-i+s,t-r,e-i+n,5,!0),this.v.setTripleAt(t-r+n,e-i,t-r+n,e-i,t-r+s,e-i,6,!0),this.v.setTripleAt(t+r-n,e-i,t+r-s,e-i,t+r-n,e-i,7,!0)):(this.v.setTripleAt(t-r,e+i,t-r+s,e+i,t-r,e+i,2),this.v.setTripleAt(t-r,e-i,t-r,e-i+s,t-r,e-i,3))):(this.v.setTripleAt(t+r,e-i+n,t+r,e-i+s,t+r,e-i+n,0,!0),0!==n?(this.v.setTripleAt(t+r-n,e-i,t+r-n,e-i,t+r-s,e-i,1,!0),this.v.setTripleAt(t-r+n,e-i,t-r+s,e-i,t-r+n,e-i,2,!0),this.v.setTripleAt(t-r,e-i+n,t-r,e-i+n,t-r,e-i+s,3,!0),this.v.setTripleAt(t-r,e+i-n,t-r,e+i-s,t-r,e+i-n,4,!0),this.v.setTripleAt(t-r+n,e+i,t-r+n,e+i,t-r+s,e+i,5,!0),this.v.setTripleAt(t+r-n,e+i,t+r-s,e+i,t+r-n,e+i,6,!0),this.v.setTripleAt(t+r,e+i-n,t+r,e+i-n,t+r,e+i-s,7,!0)):(this.v.setTripleAt(t-r,e-i,t-r+s,e-i,t-r,e-i,1,!0),this.v.setTripleAt(t-r,e+i,t-r,e+i-s,t-r,e+i,2,!0),this.v.setTripleAt(t+r,e+i,t+r-s,e+i,t+r,e+i,3,!0)))},getValue:function(t){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:r},extendPrototype([DynamicPropertyContainer],t),t}();return{getShapeProp:function(t,e,r){var i;if(3===r||4===r){var s=3===r?e.pt:e.ks,l=s.k;i=1===s.a||l.length?new o(t,e,r):new n(t,e,r)}else 5===r?i=new u(t,e):6===r?i=new a(t,e):7===r&&(i=new h(t,e));return i.k&&t.addDynamicProperty(i),i},getConstructorFunction:function(){return n},getKeyframedConstructorFunction:function(){return o}}}(),ShapeModifiers=function(){var t={},e={};return t.registerModifier=function(t,r){e[t]||(e[t]=r)},t.getModifier=function(t,r,i){return new e[t](r,i)},t}();function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(t,e,r,i){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(i);var n,s,o=e.length||0;for(n=0;n<o;n+=1)s=PropertyFactory.getProp(t,e[n].v,0,0,this),this.k=s.k||this.k,this.dataProps[n]={n:e[n].n,p:s};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(t,e){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var r=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(t),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){var e={shape:t.sh,data:t,localShapeCollection:shapeCollection_pool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,r,i,n){var s=[];e<=1?s.push({s:t,e:e}):t>=1?s.push({s:t-1,e:e-1}):(s.push({s:t,e:1}),s.push({s:0,e:e-1}));var o,a,h=[],u=s.length;for(o=0;o<u;o+=1){var l,c;(a=s[o]).e*n<i||a.s*n>i+r||(l=a.s*n<=i?0:(a.s*n-i)/r,c=a.e*n>=i+r?1:(a.e*n-i)/r,h.push([l,c]))}return h.length||h.push([0,0]),h},TrimModifier.prototype.releasePathsData=function(t){var e,r=t.length;for(e=0;e<r;e+=1)segments_length_pool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,r,i;if(this._mdf||t){var n=this.o.v%360/360;if(n<0&&(n+=1),(e=this.s.v+n)>(r=this.e.v+n)){var s=e;e=r,r=s}e=Math.round(1e3*e)/1e3,r=Math.round(1e3*r)/1e3,this.sValue=e,this.eValue=r}else e=this.sValue,r=this.eValue;var o,a,h,u,l,c,f=this.shapes.length,p=0;if(r===e)for(o=0;o<f;o+=1)this.shapes[o].localShapeCollection.releaseShapes(),this.shapes[o].shape._mdf=!0,this.shapes[o].shape.paths=this.shapes[o].localShapeCollection;else if(1===r&&0===e||0===r&&1===e){if(this._mdf)for(o=0;o<f;o+=1)this.shapes[o].pathsData.length=0,this.shapes[o].shape._mdf=!0}else{var d,m,y=[];for(o=0;o<f;o+=1)if((d=this.shapes[o]).shape._mdf||this._mdf||t||2===this.m){if(h=(i=d.shape.paths)._length,c=0,!d.shape._mdf&&d.pathsData.length)c=d.totalShapeLength;else{for(u=this.releasePathsData(d.pathsData),a=0;a<h;a+=1)l=bez.getSegmentsLength(i.shapes[a]),u.push(l),c+=l.totalLength;d.totalShapeLength=c,d.pathsData=u}p+=c,d.shape._mdf=!0}else d.shape.paths=d.localShapeCollection;var v,g=e,_=r,b=0;for(o=f-1;o>=0;o-=1)if((d=this.shapes[o]).shape._mdf){for((m=d.localShapeCollection).releaseShapes(),2===this.m&&f>1?(v=this.calculateShapeEdges(e,r,d.totalShapeLength,b,p),b+=d.totalShapeLength):v=[[g,_]],h=v.length,a=0;a<h;a+=1){g=v[a][0],_=v[a][1],y.length=0,_<=1?y.push({s:d.totalShapeLength*g,e:d.totalShapeLength*_}):g>=1?y.push({s:d.totalShapeLength*(g-1),e:d.totalShapeLength*(_-1)}):(y.push({s:d.totalShapeLength*g,e:d.totalShapeLength}),y.push({s:0,e:d.totalShapeLength*(_-1)}));var x=this.addShapes(d,y[0]);if(y[0].s!==y[0].e){if(y.length>1)if(d.shape.v.c){var T=x.pop();this.addPaths(x,m),x=this.addShapes(d,y[1],T)}else this.addPaths(x,m),x=this.addShapes(d,y[1]);this.addPaths(x,m)}}d.shape.paths=m}}},TrimModifier.prototype.addPaths=function(t,e){var r,i=t.length;for(r=0;r<i;r+=1)e.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,e,r,i,n,s,o){n.setXYAt(e[0],e[1],"o",s),n.setXYAt(r[0],r[1],"i",s+1),o&&n.setXYAt(t[0],t[1],"v",s),n.setXYAt(i[0],i[1],"v",s+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,r,i){e.setXYAt(t[1],t[5],"o",r),e.setXYAt(t[2],t[6],"i",r+1),i&&e.setXYAt(t[0],t[4],"v",r),e.setXYAt(t[3],t[7],"v",r+1)},TrimModifier.prototype.addShapes=function(t,e,r){var i,n,s,o,a,h,u,l,c=t.pathsData,f=t.shape.paths.shapes,p=t.shape.paths._length,d=0,m=[],y=!0;for(r?(a=r._length,l=r._length):(r=shape_pool.newElement(),a=0,l=0),m.push(r),i=0;i<p;i+=1){for(h=c[i].lengths,r.c=f[i].c,s=f[i].c?h.length:h.length+1,n=1;n<s;n+=1)if(d+(o=h[n-1]).addedLength<e.s)d+=o.addedLength,r.c=!1;else{if(d>e.e){r.c=!1;break}e.s<=d&&e.e>=d+o.addedLength?(this.addSegment(f[i].v[n-1],f[i].o[n-1],f[i].i[n],f[i].v[n],r,a,y),y=!1):(u=bez.getNewSegment(f[i].v[n-1],f[i].v[n],f[i].o[n-1],f[i].i[n],(e.s-d)/o.addedLength,(e.e-d)/o.addedLength,h[n-1]),this.addSegmentFromArray(u,r,a,y),y=!1,r.c=!1),d+=o.addedLength,a+=1}if(f[i].c&&h.length){if(o=h[n-1],d<=e.e){var v=h[n-1].addedLength;e.s<=d&&e.e>=d+v?(this.addSegment(f[i].v[n-1],f[i].o[n-1],f[i].i[0],f[i].v[0],r,a,y),y=!1):(u=bez.getNewSegment(f[i].v[n-1],f[i].v[0],f[i].o[n-1],f[i].i[0],(e.s-d)/v,(e.e-d)/v,h[n-1]),this.addSegmentFromArray(u,r,a,y),y=!1,r.c=!1)}else r.c=!1;d+=o.addedLength,a+=1}if(r._length&&(r.setXYAt(r.v[l][0],r.v[l][1],"i",l),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),d>e.e)break;i<p-1&&(r=shape_pool.newElement(),y=!0,m.push(r),a=0)}return m},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var r=shape_pool.newElement();r.c=t.c;var i,n,s,o,a,h,u,l,c,f,p,d,m,y=t._length,v=0;for(i=0;i<y;i+=1)n=t.v[i],o=t.o[i],s=t.i[i],n[0]===o[0]&&n[1]===o[1]&&n[0]===s[0]&&n[1]===s[1]?0!==i&&i!==y-1||t.c?(a=0===i?t.v[y-1]:t.v[i-1],u=(h=Math.sqrt(Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2)))?Math.min(h/2,e)/h:0,l=d=n[0]+(a[0]-n[0])*u,c=m=n[1]-(n[1]-a[1])*u,f=l-(l-n[0])*roundCorner,p=c-(c-n[1])*roundCorner,r.setTripleAt(l,c,f,p,d,m,v),v+=1,a=i===y-1?t.v[0]:t.v[i+1],u=(h=Math.sqrt(Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2)))?Math.min(h/2,e)/h:0,l=f=n[0]+(a[0]-n[0])*u,c=p=n[1]+(a[1]-n[1])*u,d=l-(l-n[0])*roundCorner,m=c-(c-n[1])*roundCorner,r.setTripleAt(l,c,f,p,d,m,v),v+=1):(r.setTripleAt(n[0],n[1],o[0],o[1],s[0],s[1],v),v+=1):(r.setTripleAt(t.v[i][0],t.v[i][1],t.o[i][0],t.o[i][1],t.i[i][0],t.i[i][1],v),v+=1);return r},RoundCornersModifier.prototype.processShapes=function(t){var e,r,i,n,s,o,a=this.shapes.length,h=this.rd.v;if(0!==h)for(r=0;r<a;r+=1){if((s=this.shapes[r]).shape.paths,o=s.localShapeCollection,s.shape._mdf||this._mdf||t)for(o.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,n=s.shape.paths._length,i=0;i<n;i+=1)o.addShape(this.processPath(e[i],h));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,r,i,n,s){var o=s?-1:1,a=i.s.v[0]+(1-i.s.v[0])*(1-n),h=i.s.v[1]+(1-i.s.v[1])*(1-n);t.translate(i.p.v[0]*o*n,i.p.v[1]*o*n,i.p.v[2]),e.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),e.rotate(-i.r.v*o*n),e.translate(i.a.v[0],i.a.v[1],i.a.v[2]),r.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),r.scale(s?1/a:a,s?1/h:h),r.translate(i.a.v[0],i.a.v[1],i.a.v[2])},RepeaterModifier.prototype.init=function(t,e,r,i){for(this.elem=t,this.arr=e,this.pos=r,this.elemsData=i,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[r]);r>0;)r-=1,this._elements.unshift(e[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){t.length;var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var r,i=t.length;for(r=0;r<i;r+=1)t[r]._render=e,"gr"===t[r].ty&&this.changeGroupRender(t[r].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,r,i,n,s;if(this._mdf||t){var o,a=Math.ceil(this.c.v);if(this._groups.length<a){for(;this._groups.length<a;){var h={it:this.cloneElements(this._elements),ty:"gr"};h.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,h),this._groups.splice(0,0,h),this._currentCopies+=1}this.elem.reloadShapes()}for(s=0,i=0;i<=this._groups.length-1;i+=1)o=s<a,this._groups[i]._render=o,this.changeGroupRender(this._groups[i].it,o),s+=1;this._currentCopies=a;var u=this.o.v,l=u%1,c=u>0?Math.floor(u):Math.ceil(u),f=(this.tr.v.props,this.pMatrix.props),p=this.rMatrix.props,d=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var m,y,v=0;if(u>0){for(;v<c;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),v+=1;l&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,l,!1),v+=l)}else if(u<0){for(;v>c;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),v-=1;l&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-l,!0),v-=l)}for(i=1===this.data.m?0:this._currentCopies-1,n=1===this.data.m?1:-1,s=this._currentCopies;s;){if(y=(r=(e=this.elemsData[i].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,0!==v){for((0!==i&&1===n||i!==this._currentCopies-1&&-1===n)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),this.matrix.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),m=0;m<y;m+=1)r[m]=this.matrix.props[m];this.matrix.reset()}else for(this.matrix.reset(),m=0;m<y;m+=1)r[m]=this.matrix.props[m];v+=1,s-=1,i+=n}}else for(s=this._currentCopies,i=0,n=1;s;)r=(e=this.elemsData[i].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,s-=1,i+=n},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shape_pool.release(this.shapes[t]);this._length=0},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<r;e+=1)"o"!=this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(t,e){for(var r=0,i=this.o.length/2;r<i;){if(Math.abs(t[4*r]-t[4*e+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,r,i,n=4*this.data.p;for(e=0;e<n;e+=1)r=e%4==0?100:255,i=Math.round(this.prop.v[e]*r),this.c[e]!==i&&(this.c[e]=i,this._cmdf=!t);if(this.o.length)for(n=this.prop.v.length,e=4*this.data.p;e<n;e+=1)r=e%2==0?100:1,i=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==i&&(this.o[e-4*this.data.p]=i,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(t,e,r,i){if(0===e)return"";var n,s=t.o,o=t.i,a=t.v,h=" M"+i.applyToPointStringified(a[0][0],a[0][1]);for(n=1;n<e;n+=1)h+=" C"+i.applyToPointStringified(s[n-1][0],s[n-1][1])+" "+i.applyToPointStringified(o[n][0],o[n][1])+" "+i.applyToPointStringified(a[n][0],a[n][1]);return r&&e&&(h+=" C"+i.applyToPointStringified(s[n-1][0],s[n-1][1])+" "+i.applyToPointStringified(o[0][0],o[0][1])+" "+i.applyToPointStringified(a[0][0],a[0][1]),h+="z"),h},ImagePreloader=function(){function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function e(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var r=t.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),e=this.assetsPath+r}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e}function r(e){var r=createTag("img");r.addEventListener("load",t.bind(this),!1),r.addEventListener("error",t.bind(this),!1),r.src=e}function i(t,i){var n;for(this.imagesLoadedCb=i,this.totalAssets=t.length,n=0;n<this.totalAssets;n+=1)t[n].layers||(r.bind(this)(e.bind(this)(t[n])),this.totalImages+=1)}function n(t){this.path=t||""}function s(t){this.assetsPath=t||""}function o(){this.imagesLoadedCb=null}return function(){this.loadAssets=i,this.setAssetsPath=s,this.setPath=n,this.destroy=o,this.assetsPath="",this.path="",this.totalAssets=0,this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null}}(),featureSupport=function(){var t={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),t}(),filtersFactory=function(){var t={createFilter:function(t){var e=createNS("filter");return e.setAttribute("id",t),e.setAttribute("filterUnits","objectBoundingBox"),e.setAttribute("x","0%"),e.setAttribute("y","0%"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}};return t}(),assetLoader=function(){function t(t){return t.response&&"object"==typeof t.response?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.response):void 0}return{load:function(e,r,i){var n,s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType="json",s.send(),s.onreadystatechange=function(){if(4==s.readyState)if(200==s.status)n=t(s),r(n);else try{n=t(s),r(n)}catch(t){i&&i(t)}}}}}();function TextAnimatorProperty(t,e,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function TextAnimatorDataProperty(t,e,r){var i={propType:!1},n=PropertyFactory.getProp,s=e.a;this.a={r:s.r?n(t,s.r,0,degToRads,r):i,rx:s.rx?n(t,s.rx,0,degToRads,r):i,ry:s.ry?n(t,s.ry,0,degToRads,r):i,sk:s.sk?n(t,s.sk,0,degToRads,r):i,sa:s.sa?n(t,s.sa,0,degToRads,r):i,s:s.s?n(t,s.s,1,.01,r):i,a:s.a?n(t,s.a,1,0,r):i,o:s.o?n(t,s.o,0,.01,r):i,p:s.p?n(t,s.p,1,0,r):i,sw:s.sw?n(t,s.sw,0,0,r):i,sc:s.sc?n(t,s.sc,1,0,r):i,fc:s.fc?n(t,s.fc,1,0,r):i,fh:s.fh?n(t,s.fh,0,0,r):i,fs:s.fs?n(t,s.fs,0,.01,r):i,fb:s.fb?n(t,s.fb,0,.01,r):i,t:s.t?n(t,s.t,0,0,r):i},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,r),this.s.t=e.s.t}function LetterProps(t,e,r,i,n,s){this.o=t,this.sw=e,this.sc=r,this.fc=i,this.m=n,this.p=s,this._mdf={o:!0,sw:!!e,sc:!!r,fc:!!i,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,r=this._textData.a.length,i=PropertyFactory.getProp;for(t=0;t<r;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:i(this._elem,this._textData.p.f,0,0,this),l:i(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=i(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,i,n,s,o,a,h,u,l,c,f,p,d,m,y,v,g,_,b,x=this._moreOptions.alignment.v,T=this._animatorsData,w=this._textData,E=this.mHelper,S=this._renderType,P=this.renderedLetters.length,C=(this.data,t.l);if(this._hasMaskedPath){if(b=this._pathData.m,!this._pathData.n||this._pathData._mdf){var A,M=b.v;for(this._pathData.r&&(M=M.reverse()),o={tLength:0,segments:[]},s=M._length-1,v=0,n=0;n<s;n+=1)A={s:M.v[n],e:M.v[n+1],to:[M.o[n][0]-M.v[n][0],M.o[n][1]-M.v[n][1]],ti:[M.i[n+1][0]-M.v[n+1][0],M.i[n+1][1]-M.v[n+1][1]]},bez.buildBezierData(A),o.tLength+=A.bezierData.segmentLength,o.segments.push(A),v+=A.bezierData.segmentLength;n=s,b.v.c&&(A={s:M.v[n],e:M.v[0],to:[M.o[n][0]-M.v[n][0],M.o[n][1]-M.v[n][1]],ti:[M.i[0][0]-M.v[0][0],M.i[0][1]-M.v[0][1]]},bez.buildBezierData(A),o.tLength+=A.bezierData.segmentLength,o.segments.push(A),v+=A.bezierData.segmentLength),this._pathData.pi=o}if(o=this._pathData.pi,a=this._pathData.f.v,f=0,c=1,u=0,l=!0,m=o.segments,a<0&&b.v.c)for(o.tLength<Math.abs(a)&&(a=-Math.abs(a)%o.tLength),c=(d=m[f=m.length-1].bezierData.points).length-1;a<0;)a+=d[c].partialLength,(c-=1)<0&&(c=(d=m[f-=1].bezierData.points).length-1);p=(d=m[f].bezierData.points)[c-1],y=(h=d[c]).partialLength}s=C.length,r=0,i=0;var O,I,D,R,k=1.2*t.finalSize*.714,F=!0;D=T.length;var L,N,B,j,V,z,G,U,X,H,W,Y,q,$=-1,K=a,Z=f,J=c,Q=-1,tt="",et=this.defaultPropsArray;if(2===t.j||1===t.j){var rt=0,it=0,nt=2===t.j?-.5:-1,st=0,ot=!0;for(n=0;n<s;n+=1)if(C[n].n){for(rt&&(rt+=it);st<n;)C[st].animatorJustifyOffset=rt,st+=1;rt=0,ot=!0}else{for(I=0;I<D;I+=1)(O=T[I].a).t.propType&&(ot&&2===t.j&&(it+=O.t.v*nt),(L=T[I].s.getMult(C[n].anIndexes[I],w.a[I].s.totalChars)).length?rt+=O.t.v*L[0]*nt:rt+=O.t.v*L*nt);ot=!1}for(rt&&(rt+=it);st<n;)C[st].animatorJustifyOffset=rt,st+=1}for(n=0;n<s;n+=1){if(E.reset(),V=1,C[n].n)r=0,i+=t.yOffset,i+=F?1:0,a=K,F=!1,this._hasMaskedPath&&(c=J,p=(d=m[f=Z].bezierData.points)[c-1],y=(h=d[c]).partialLength,u=0),q=H=Y=tt="",et=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==C[n].line){switch(t.j){case 1:a+=v-t.lineWidths[C[n].line];break;case 2:a+=(v-t.lineWidths[C[n].line])/2}Q=C[n].line}$!==C[n].ind&&(C[$]&&(a+=C[$].extra),a+=C[n].an/2,$=C[n].ind),a+=x[0]*C[n].an/200;var at=0;for(I=0;I<D;I+=1)(O=T[I].a).p.propType&&((L=T[I].s.getMult(C[n].anIndexes[I],w.a[I].s.totalChars)).length?at+=O.p.v[0]*L[0]:at+=O.p.v[0]*L),O.a.propType&&((L=T[I].s.getMult(C[n].anIndexes[I],w.a[I].s.totalChars)).length?at+=O.a.v[0]*L[0]:at+=O.a.v[0]*L);for(l=!0;l;)u+y>=a+at||!d?(g=(a+at-u)/h.partialLength,B=p.point[0]+(h.point[0]-p.point[0])*g,j=p.point[1]+(h.point[1]-p.point[1])*g,E.translate(-x[0]*C[n].an/200,-x[1]*k/100),l=!1):d&&(u+=h.partialLength,(c+=1)>=d.length&&(c=0,m[f+=1]?d=m[f].bezierData.points:b.v.c?(c=0,d=m[f=0].bezierData.points):(u-=h.partialLength,d=null)),d&&(p=h,y=(h=d[c]).partialLength));N=C[n].an/2-C[n].add,E.translate(-N,0,0)}else N=C[n].an/2-C[n].add,E.translate(-N,0,0),E.translate(-x[0]*C[n].an/200,-x[1]*k/100,0);for(C[n].l,I=0;I<D;I+=1)(O=T[I].a).t.propType&&(L=T[I].s.getMult(C[n].anIndexes[I],w.a[I].s.totalChars),0===r&&0===t.j||(this._hasMaskedPath?L.length?a+=O.t.v*L[0]:a+=O.t.v*L:L.length?r+=O.t.v*L[0]:r+=O.t.v*L));for(C[n].l,t.strokeWidthAnim&&(G=t.sw||0),t.strokeColorAnim&&(z=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(U=[t.fc[0],t.fc[1],t.fc[2]]),I=0;I<D;I+=1)(O=T[I].a).a.propType&&((L=T[I].s.getMult(C[n].anIndexes[I],w.a[I].s.totalChars)).length?E.translate(-O.a.v[0]*L[0],-O.a.v[1]*L[1],O.a.v[2]*L[2]):E.translate(-O.a.v[0]*L,-O.a.v[1]*L,O.a.v[2]*L));for(I=0;I<D;I+=1)(O=T[I].a).s.propType&&((L=T[I].s.getMult(C[n].anIndexes[I],w.a[I].s.totalChars)).length?E.scale(1+(O.s.v[0]-1)*L[0],1+(O.s.v[1]-1)*L[1],1):E.scale(1+(O.s.v[0]-1)*L,1+(O.s.v[1]-1)*L,1));for(I=0;I<D;I+=1){if(O=T[I].a,L=T[I].s.getMult(C[n].anIndexes[I],w.a[I].s.totalChars),O.sk.propType&&(L.length?E.skewFromAxis(-O.sk.v*L[0],O.sa.v*L[1]):E.skewFromAxis(-O.sk.v*L,O.sa.v*L)),O.r.propType&&(L.length?E.rotateZ(-O.r.v*L[2]):E.rotateZ(-O.r.v*L)),O.ry.propType&&(L.length?E.rotateY(O.ry.v*L[1]):E.rotateY(O.ry.v*L)),O.rx.propType&&(L.length?E.rotateX(O.rx.v*L[0]):E.rotateX(O.rx.v*L)),O.o.propType&&(L.length?V+=(O.o.v*L[0]-V)*L[0]:V+=(O.o.v*L-V)*L),t.strokeWidthAnim&&O.sw.propType&&(L.length?G+=O.sw.v*L[0]:G+=O.sw.v*L),t.strokeColorAnim&&O.sc.propType)for(X=0;X<3;X+=1)L.length?z[X]=z[X]+(O.sc.v[X]-z[X])*L[0]:z[X]=z[X]+(O.sc.v[X]-z[X])*L;if(t.fillColorAnim&&t.fc){if(O.fc.propType)for(X=0;X<3;X+=1)L.length?U[X]=U[X]+(O.fc.v[X]-U[X])*L[0]:U[X]=U[X]+(O.fc.v[X]-U[X])*L;O.fh.propType&&(U=L.length?addHueToRGB(U,O.fh.v*L[0]):addHueToRGB(U,O.fh.v*L)),O.fs.propType&&(U=L.length?addSaturationToRGB(U,O.fs.v*L[0]):addSaturationToRGB(U,O.fs.v*L)),O.fb.propType&&(U=L.length?addBrightnessToRGB(U,O.fb.v*L[0]):addBrightnessToRGB(U,O.fb.v*L))}}for(I=0;I<D;I+=1)(O=T[I].a).p.propType&&(L=T[I].s.getMult(C[n].anIndexes[I],w.a[I].s.totalChars),this._hasMaskedPath?L.length?E.translate(0,O.p.v[1]*L[0],-O.p.v[2]*L[1]):E.translate(0,O.p.v[1]*L,-O.p.v[2]*L):L.length?E.translate(O.p.v[0]*L[0],O.p.v[1]*L[1],-O.p.v[2]*L[2]):E.translate(O.p.v[0]*L,O.p.v[1]*L,-O.p.v[2]*L));if(t.strokeWidthAnim&&(H=G<0?0:G),t.strokeColorAnim&&(W="rgb("+Math.round(255*z[0])+","+Math.round(255*z[1])+","+Math.round(255*z[2])+")"),t.fillColorAnim&&t.fc&&(Y="rgb("+Math.round(255*U[0])+","+Math.round(255*U[1])+","+Math.round(255*U[2])+")"),this._hasMaskedPath){if(E.translate(0,-t.ls),E.translate(0,x[1]*k/100+i,0),w.p.p){_=(h.point[1]-p.point[1])/(h.point[0]-p.point[0]);var ht=180*Math.atan(_)/Math.PI;h.point[0]<p.point[0]&&(ht+=180),E.rotate(-ht*Math.PI/180)}E.translate(B,j,0),a-=x[0]*C[n].an/200,C[n+1]&&$!==C[n+1].ind&&(a+=C[n].an/2,a+=t.tr/1e3*t.finalSize)}else{switch(E.translate(r,i,0),t.ps&&E.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:E.translate(C[n].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[C[n].line]),0,0);break;case 2:E.translate(C[n].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[C[n].line])/2,0,0)}E.translate(0,-t.ls),E.translate(N,0,0),E.translate(x[0]*C[n].an/200,x[1]*k/100,0),r+=C[n].l+t.tr/1e3*t.finalSize}"html"===S?tt=E.toCSS():"svg"===S?tt=E.to2dCSS():et=[E.props[0],E.props[1],E.props[2],E.props[3],E.props[4],E.props[5],E.props[6],E.props[7],E.props[8],E.props[9],E.props[10],E.props[11],E.props[12],E.props[13],E.props[14],E.props[15]],q=V}P<=n?(R=new LetterProps(q,H,W,Y,tt,et),this.renderedLetters.push(R),P+=1,this.lettersChangedFlag=!0):(R=this.renderedLetters[n],this.lettersChangedFlag=R.update(q,H,W,Y,tt,et)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(t,e,r,i,n,s){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var o=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,o=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,o=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,o=!0),this.fc!==i&&(this.fc=i,this._mdf.fc=!0,o=!0),this.m!==n&&(this.m=n,this._mdf.m=!0,o=!0),!s.length||this.p[0]===s[0]&&this.p[1]===s[1]&&this.p[4]===s[4]&&this.p[5]===s[5]&&this.p[12]===s[12]&&this.p[13]===s[13]||(this.p=s,this._mdf.p=!0,o=!0),o},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){var e=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData,currentTextValue);else{this.lock=!0,this._mdf=!1;var i,n=this.effectsSequence.length,s=t||this.data.d.k[this.keysIndex].s;for(i=0;i<n;i+=1)s=r!==this.keysIndex?this.effectsSequence[i](s,s.t):this.effectsSequence[i](this.currentData,s.t);e!==s&&this.setCurrentData(s),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,r=0,i=t.length;r<=i-1&&(t[r].s,!(r===i-1||t[r+1].t>e));)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e=FontManager.getCombinedCharacterCodes(),r=[],i=0,n=t.length;i<n;)-1!==e.indexOf(t.charCodeAt(i))?r[r.length-1]+=t.charAt(i):r.push(t.charAt(i)),i+=1;return r},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,r,i,n,s,o,a,h=this.elem.globalData.fontManager,u=this.data,l=[],c=0,f=u.m.g,p=0,d=0,m=0,y=[],v=0,g=0,_=h.getFontByName(t.f),b=0,x=_.fStyle?_.fStyle.split(" "):[],T="normal",w="normal";for(r=x.length,e=0;e<r;e+=1)switch(x[e].toLowerCase()){case"italic":w="italic";break;case"bold":T="700";break;case"black":T="900";break;case"medium":T="500";break;case"regular":case"normal":T="400";break;case"light":case"thin":T="200"}t.fWeight=_.fWeight||T,t.fStyle=w,r=t.t.length,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),t.finalLineHeight=t.lh;var E=t.tr/1e3*t.finalSize;if(t.sz)for(var S,P,C=!0,A=t.sz[0],M=t.sz[1];C;){S=0,v=0,r=(P=this.buildFinalText(t.t)).length,E=t.tr/1e3*t.finalSize;var O=-1;for(e=0;e<r;e+=1)i=!1," "===P[e]?O=e:13===P[e].charCodeAt(0)&&(v=0,i=!0,S+=t.finalLineHeight||1.2*t.finalSize),h.chars?(a=h.getCharData(P[e],_.fStyle,_.fFamily),b=i?0:a.w*t.finalSize/100):b=h.measureText(P[e],t.f,t.finalSize),v+b>A&&" "!==P[e]?(-1===O?r+=1:e=O,S+=t.finalLineHeight||1.2*t.finalSize,P.splice(e,O===e?1:0,"\r"),O=-1,v=0):(v+=b,v+=E);S+=_.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&M<S?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=P,r=t.finalText.length,C=!1)}v=-E,b=0;var I,D=0;for(e=0;e<r;e+=1)if(i=!1," "===(I=t.finalText[e])?n=" ":13===I.charCodeAt(0)?(D=0,y.push(v),g=v>g?v:g,v=-2*E,n="",i=!0,m+=1):n=t.finalText[e],h.chars?(a=h.getCharData(I,_.fStyle,h.getFontByName(t.f).fFamily),b=i?0:a.w*t.finalSize/100):b=h.measureText(n,t.f,t.finalSize)," "===I?D+=b+E:(v+=b+E+D,D=0),l.push({l:b,an:b,add:p,n:i,anIndexes:[],val:n,line:m,animatorJustifyOffset:0}),2==f){if(p+=b,""===n||" "===n||e===r-1){for(""!==n&&" "!==n||(p-=b);d<=e;)l[d].an=p,l[d].ind=c,l[d].extra=b,d+=1;c+=1,p=0}}else if(3==f){if(p+=b,""===n||e===r-1){for(""===n&&(p-=b);d<=e;)l[d].an=p,l[d].ind=c,l[d].extra=b,d+=1;p=0,c+=1}}else l[c].ind=c,l[c].extra=0,c+=1;if(t.l=l,g=v>g?v:g,y.push(v),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=g,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=y;var R,k,F=u.a;o=F.length;var L,N,B=[];for(s=0;s<o;s+=1){for((R=F[s]).a.sc&&(t.strokeColorAnim=!0),R.a.sw&&(t.strokeWidthAnim=!0),(R.a.fc||R.a.fh||R.a.fs||R.a.fb)&&(t.fillColorAnim=!0),N=0,L=R.s.b,e=0;e<r;e+=1)(k=l[e]).anIndexes[s]=N,(1==L&&""!==k.val||2==L&&""!==k.val&&" "!==k.val||3==L&&(k.n||" "==k.val||e==r-1)||4==L&&(k.n||e==r-1))&&(1===R.s.rn&&B.push(N),N+=1);u.a[s].s.totalChars=N;var j,V=-1;if(1===R.s.rn)for(e=0;e<r;e+=1)V!=(k=l[e]).anIndexes[s]&&(V=k.anIndexes[s],j=B.splice(Math.floor(Math.random()*B.length),1)[0]),k.anIndexes[s]=j}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=_.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var r=this.copyData({},this.data.d.k[e].s);r=this.copyData(r,t),this.data.d.k[e].s=r,this.recalculate(e)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,r=Math.floor;function i(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return i.prototype={getMult:function(i){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var n=BezierFactory.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,s=0,o=this.finalS,a=this.finalE,h=this.data.sh;if(2==h)s=n(s=a===o?i>=a?1:0:t(0,e(.5/(a-o)+(i-o)/(a-o),1)));else if(3==h)s=n(s=a===o?i>=a?0:1:1-t(0,e(.5/(a-o)+(i-o)/(a-o),1)));else if(4==h)a===o?s=0:(s=t(0,e(.5/(a-o)+(i-o)/(a-o),1)))<.5?s*=2:s=1-2*(s-.5),s=n(s);else if(5==h){if(a===o)s=0;else{var u=a-o,l=-u/2+(i=e(t(0,i+.5-o),a-o)),c=u/2;s=Math.sqrt(1-l*l/(c*c))}s=n(s)}else 6==h?(a===o?s=0:(i=e(t(0,i+.5-o),a-o),s=(1+Math.cos(Math.PI+2*Math.PI*i/(a-o)))/2),s=n(s)):(i>=r(o)&&(s=i-o<0?1-(o-i):t(0,e(a-i,1))),s=n(s));return s*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this._currentTextLength,r=this.o.v/e,i=this.s.v/e+r,n=this.e.v/e+r;if(i>n){var s=i;i=n,n=s}this.finalS=i,this.finalE=n}},extendPrototype([DynamicPropertyContainer],i),{getTextSelectorProp:function(t,e,r){return new i(t,e,r)}}}(),pool_factory=function(t,e,r,i){var n=0,s=t,o=createSizedArray(s);return{newElement:function(){return n?o[n-=1]:e()},release:function(t){n===s&&(o=pooling.double(o),s*=2),r&&r(t),o[n]=t,n+=1}}},pooling={double:function(t){return t.concat(createSizedArray(t.length))}},point_pool=pool_factory(8,function(){return createTypedArray("float32",2)}),shape_pool=function(){var t=pool_factory(4,function(){return new ShapePath},function(t){var e,r=t._length;for(e=0;e<r;e+=1)point_pool.release(t.v[e]),point_pool.release(t.i[e]),point_pool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1});return t.clone=function(e){var r,i=t.newElement(),n=void 0===e._length?e.v.length:e._length;for(i.setLength(n),i.c=e.c,r=0;r<n;r+=1)i.setTripleAt(e.v[r][0],e.v[r][1],e.o[r][0],e.o[r][1],e.i[r][0],e.i[r][1],r);return i},t}(),shapeCollection_pool=function(){var t={newShapeCollection:function(){return e?i[e-=1]:new ShapeCollection},release:function(t){var n,s=t._length;for(n=0;n<s;n+=1)shape_pool.release(t.shapes[n]);t._length=0,e===r&&(i=pooling.double(i),r*=2),i[e]=t,e+=1}},e=0,r=4,i=createSizedArray(r);return t}(),segments_length_pool=pool_factory(8,function(){return{lengths:[],totalLength:0}},function(t){var e,r=t.lengths.length;for(e=0;e<r;e+=1)bezier_length_pool.release(t.lengths[e]);t.lengths.length=0}),bezier_length_pool=pool_factory(8,function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}});function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r=createNS("defs");this.svgElement.appendChild(r);var i=createNS("g");this.svgElement.appendChild(i),this.layerElement=i,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!e||!1!==e.hideOnTransparent,viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||""},this.globalData={_mdf:!1,frameNum:-1,defs:r,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1}function MaskElement(t,e,r){this.data=t,this.element=e,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var i,n=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath="";var o,a,h,u,l,c,f,p=this.masksProperties,d=0,m=[],y=randomString(10),v="clipPath",g="clip-path";for(i=0;i<s;i++)if(("a"!==p[i].mode&&"n"!==p[i].mode||p[i].inv||100!==p[i].o.k)&&(v="mask",g="mask"),"s"!=p[i].mode&&"i"!=p[i].mode||0!==d?u=null:((u=createNS("rect")).setAttribute("fill","#ffffff"),u.setAttribute("width",this.element.comp.data.w||0),u.setAttribute("height",this.element.comp.data.h||0),m.push(u)),o=createNS("path"),"n"!=p[i].mode){var _;if(d+=1,o.setAttribute("fill","s"===p[i].mode?"#000000":"#ffffff"),o.setAttribute("clip-rule","nonzero"),0!==p[i].x.k?(v="mask",g="mask",f=PropertyFactory.getProp(this.element,p[i].x,0,null,this.element),_="fi_"+randomString(10),(l=createNS("filter")).setAttribute("id",_),(c=createNS("feMorphology")).setAttribute("operator","dilate"),c.setAttribute("in","SourceGraphic"),c.setAttribute("radius","0"),l.appendChild(c),n.appendChild(l),o.setAttribute("stroke","s"===p[i].mode?"#000000":"#ffffff")):(c=null,f=null),this.storedData[i]={elem:o,x:f,expan:c,lastPath:"",lastOperator:"",filterId:_,lastRadius:0},"i"==p[i].mode){h=m.length;var b=createNS("g");for(a=0;a<h;a+=1)b.appendChild(m[a]);var x=createNS("mask");x.setAttribute("mask-type","alpha"),x.setAttribute("id",y+"_"+d),x.appendChild(o),n.appendChild(x),b.setAttribute("mask","url("+locationHref+"#"+y+"_"+d+")"),m.length=0,m.push(b)}else m.push(o);p[i].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[i]={elem:o,lastPath:"",op:PropertyFactory.getProp(this.element,p[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[i],3),invRect:u},this.viewData[i].prop.k||this.drawPath(p[i],this.viewData[i].prop.v,this.viewData[i])}else this.viewData[i]={op:PropertyFactory.getProp(this.element,p[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[i],3),elem:o,lastPath:""},n.appendChild(o);for(this.maskElement=createNS(v),s=m.length,i=0;i<s;i+=1)this.maskElement.appendChild(m[i]);d>0&&(this.maskElement.setAttribute("id",y),this.element.maskedElement.setAttribute(g,"url("+locationHref+"#"+y+")"),n.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(t,e){this.elem=t,this.pos=e}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!1,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(t,e,r){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=r,this.lvl=e,this._isAnimated=!!r.k;for(var i=0,n=t.length;i<n;){if(t[i].mProps.dynamicProperties.length){this._isAnimated=!0;break}i+=1}}function SVGTransformData(t,e,r){this.transform={mProps:t,op:e,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r}function SVGGradientFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,r)}function SVGGradientStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(t){var e,r,i=this.layers.length;for(this.completeLayers=!0,e=i-1;e>=0;e--)this.elements[e]||(r=this.layers[e]).ip-r.st<=t-this.layers[e].st&&r.op-r.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 13:return this.createCamera(t)}return this.createNull(t)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,r,i=t.length,n=this.layers.length;for(e=0;e<i;e+=1)for(r=0;r<n;){if(this.layers[r].id==t[e].id){this.layers[r]=t[e];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,r){for(var i=this.elements,n=this.layers,s=0,o=n.length;s<o;)n[s].ind==e&&(i[s]&&!0!==i[s]?(r.push(i[s]),i[s].setAsParent(),void 0!==n[s].parent?this.buildElementParenting(t,n[s].parent,r):t.setHierarchy(r)):(this.buildItem(s),this.addPendingElement(t))),s+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length;for(e=0;e<r;e+=1)if(t[e].xt){var i=this.createComp(t[e]);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.elementLoaded=this.animationItem.elementLoaded.bind(this.animationItem),this.globalData.addPendingElement=this.animationItem.addPendingElement.bind(this.animationItem),this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextElement(t,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var r=createNS("clipPath"),i=createNS("rect");i.setAttribute("width",t.w),i.setAttribute("height",t.h),i.setAttribute("x",0),i.setAttribute("y",0);var n="animationMask_"+randomString(10);r.setAttribute("id",n),r.appendChild(i),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+n+")"),e.appendChild(r),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t++)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){e[t]=!0;var r=this.createItem(this.layers[t]);e[t]=r,expressionsPlugin&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt&&(this.elements[t-1]&&!0!==this.elements[t-1]?r.setMatte(e[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(r)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,r=this.elements.length;e<r;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=r-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<r;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){for(var i,n=0;n<e;)this.elements[n]&&!0!==this.elements[n]&&this.elements[n].getBaseElement()&&(i=this.elements[n].getBaseElement()),n+=1;i?this.layerElement.insertBefore(r,i):this.layerElement.appendChild(r)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,r=this.element.finalTransform.mat,i=this.masksProperties.length;for(e=0;e<i;e++)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&(this.viewData[e].invRect.setAttribute("x",-r.props[12]),this.viewData[e].invRect.setAttribute("y",-r.props[13])),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var n=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[e].filterId+")")),n.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,(t+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,r){var i,n,s=" M"+e.v[0][0]+","+e.v[0][1];for(n=e._length,i=1;i<n;i+=1)s+=" C"+e.o[i-1][0]+","+e.o[i-1][1]+" "+e.i[i][0]+","+e.i[i][1]+" "+e.v[i][0]+","+e.v[i][1];if(e.c&&n>1&&(s+=" C"+e.o[i-1][0]+","+e.o[i-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),r.lastPath!==s){var o="";r.elem&&(e.c&&(o=t.inv?this.solidPath+s:s),r.elem.setAttribute("d",o)),r.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var r,i=this.dynamicProperties.length;for(r=0;r<i;r+=1)(e||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,r=0,i=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<i;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),r=0;r<i;r+=1)t=this.hierarchy[r].finalTransform.mProp.v.props,e.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var r=!0,i=this.comp;r;)i.finalTransform?(i.data.hasMask&&e.splice(0,0,i.finalTransform),i=i.comp):r=!1;var n,s,o=e.length;for(n=0;n<o;n+=1)s=e[n].mat.applyToPointArray(0,0,0),t=[t[0]-s[0],t[1]-s[1],0];return t},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.addMasks(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd)(this.baseElement||this.layerElement).style.display="block";this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,r){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g),this.style=r,this.stops=[],this.setGradientData(r.pElem,e),this.setGradientOpacity(e,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var r="gr_"+randomString(10),i=createNS(1===e.t?"linearGradient":"radialGradient");i.setAttribute("id",r),i.setAttribute("spreadMethod","pad"),i.setAttribute("gradientUnits","userSpaceOnUse");var n,s,o,a=[];for(o=4*e.g.p,s=0;s<o;s+=4)n=createNS("stop"),i.appendChild(n),a.push(n);t.setAttribute("gf"===e.ty?"fill":"stroke","url(#"+r+")"),this.gf=i,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var r,i,n,s=createNS("mask"),o=createNS("path");s.appendChild(o);var a="op_"+randomString(10),h="mk_"+randomString(10);s.setAttribute("id",h);var u=createNS(1===t.t?"linearGradient":"radialGradient");u.setAttribute("id",a),u.setAttribute("spreadMethod","pad"),u.setAttribute("gradientUnits","userSpaceOnUse"),n=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var l=this.stops;for(i=4*t.g.p;i<n;i+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),u.appendChild(r),l.push(r);o.setAttribute("gf"===t.ty?"fill":"stroke","url(#"+a+")"),this.of=u,this.ms=s,this.ost=l,this.maskId=h,e.msElem=o}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function r(t,e,r){(r||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(r||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function i(r,i,n){var s,o,a,h,u,l,c,f,p,d,m,y=i.styles.length,v=i.lvl;for(l=0;l<y;l+=1){if(h=i.sh._mdf||n,i.styles[l].lvl<v){for(f=e.reset(),d=v-i.styles[l].lvl,m=i.transformers.length-1;!h&&d>0;)h=i.transformers[m].mProps._mdf||h,d--,m--;if(h)for(d=v-i.styles[l].lvl,m=i.transformers.length-1;d>0;)p=i.transformers[m].mProps.v.props,f.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),d--,m--}else f=t;if(o=(c=i.sh.paths)._length,h){for(a="",s=0;s<o;s+=1)(u=c.shapes[s])&&u._length&&(a+=buildShapeString(u,u._length,u.c,f));i.caches[l]=a}else a=i.caches[l];i.styles[l].d+=a,i.styles[l]._mdf=h||i.styles[l]._mdf}}function n(t,e,r){var i=e.style;(e.c._mdf||r)&&i.pElem.setAttribute("fill","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||r)&&i.pElem.setAttribute("fill-opacity",e.o.v)}function s(t,e,r){o(t,e,r),a(t,e,r)}function o(t,e,r){var i,n,s,o,a,h=e.gf,u=e.g._hasOpacity,l=e.s.v,c=e.e.v;if(e.o._mdf||r){var f="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(f,e.o.v)}if(e.s._mdf||r){var p=1===t.t?"x1":"cx",d="x1"===p?"y1":"cy";h.setAttribute(p,l[0]),h.setAttribute(d,l[1]),u&&!e.g._collapsable&&(e.of.setAttribute(p,l[0]),e.of.setAttribute(d,l[1]))}if(e.g._cmdf||r){i=e.cst;var m=e.g.c;for(s=i.length,n=0;n<s;n+=1)(o=i[n]).setAttribute("offset",m[4*n]+"%"),o.setAttribute("stop-color","rgb("+m[4*n+1]+","+m[4*n+2]+","+m[4*n+3]+")")}if(u&&(e.g._omdf||r)){var y=e.g.o;for(s=(i=e.g._collapsable?e.cst:e.ost).length,n=0;n<s;n+=1)o=i[n],e.g._collapsable||o.setAttribute("offset",y[2*n]+"%"),o.setAttribute("stop-opacity",y[2*n+1])}if(1===t.t)(e.e._mdf||r)&&(h.setAttribute("x2",c[0]),h.setAttribute("y2",c[1]),u&&!e.g._collapsable&&(e.of.setAttribute("x2",c[0]),e.of.setAttribute("y2",c[1])));else if((e.s._mdf||e.e._mdf||r)&&(a=Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)),h.setAttribute("r",a),u&&!e.g._collapsable&&e.of.setAttribute("r",a)),e.e._mdf||e.h._mdf||e.a._mdf||r){a||(a=Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)));var v=Math.atan2(c[1]-l[1],c[0]-l[0]),g=a*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),_=Math.cos(v+e.a.v)*g+l[0],b=Math.sin(v+e.a.v)*g+l[1];h.setAttribute("fx",_),h.setAttribute("fy",b),u&&!e.g._collapsable&&(e.of.setAttribute("fx",_),e.of.setAttribute("fy",b))}}function a(t,e,r){var i=e.style,n=e.d;n&&(n._mdf||r)&&n.dashStr&&(i.pElem.setAttribute("stroke-dasharray",n.dashStr),i.pElem.setAttribute("stroke-dashoffset",n.dashoffset[0])),e.c&&(e.c._mdf||r)&&i.pElem.setAttribute("stroke","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||r)&&i.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||r)&&(i.pElem.setAttribute("stroke-width",e.w.v),i.msElem&&i.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty,t.ty){case"fl":return n;case"gf":return o;case"gs":return s;case"st":return a;case"sh":case"el":case"rc":case"sr":return i;case"tr":return r}}}}();function BaseElement(){}function NullElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initFrame(),this.initTransform(t,e,r),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r)}function ISolidElement(t,e,r){this.initElement(t,e,r)}function SVGCompElement(t,e,r){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGTextElement(t,e,r){this.textSpans=[],this.renderType="svg",this.initElement(t,e,r)}function SVGShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,r),this.prevViewData=[]}function SVGTintFilter(t,e){this.filterManager=e;var r=createNS("feColorMatrix");if(r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),t.appendChild(r),(r=createNS("feColorMatrix")).setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),r.setAttribute("result","f2"),t.appendChild(r),this.matrixFilter=r,100!==e.effectElements[2].p.v||e.effectElements[2].p.k){var i,n=createNS("feMerge");t.appendChild(n),(i=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),n.appendChild(i),(i=createNS("feMergeNode")).setAttribute("in","f2"),n.appendChild(i)}}function SVGFillFilter(t,e){this.filterManager=e;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(r),this.matrixFilter=r}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function SVGTritoneFilter(t,e){this.filterManager=e;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),t.appendChild(r);var i=createNS("feComponentTransfer");i.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(i),this.matrixFilter=i;var n=createNS("feFuncR");n.setAttribute("type","table"),i.appendChild(n),this.feFuncR=n;var s=createNS("feFuncG");s.setAttribute("type","table"),i.appendChild(s),this.feFuncG=s;var o=createNS("feFuncB");o.setAttribute("type","table"),i.appendChild(o),this.feFuncB=o}function SVGProLevelsFilter(t,e){this.filterManager=e;var r=this.filterManager.effectElements,i=createNS("feComponentTransfer");(r[10].p.k||0!==r[10].p.v||r[11].p.k||1!==r[11].p.v||r[12].p.k||1!==r[12].p.v||r[13].p.k||0!==r[13].p.v||r[14].p.k||1!==r[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",i)),(r[17].p.k||0!==r[17].p.v||r[18].p.k||1!==r[18].p.v||r[19].p.k||1!==r[19].p.v||r[20].p.k||0!==r[20].p.v||r[21].p.k||1!==r[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",i)),(r[24].p.k||0!==r[24].p.v||r[25].p.k||1!==r[25].p.v||r[26].p.k||1!==r[26].p.v||r[27].p.k||0!==r[27].p.v||r[28].p.k||1!==r[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",i)),(r[31].p.k||0!==r[31].p.v||r[32].p.k||1!==r[32].p.v||r[33].p.k||1!==r[33].p.v||r[34].p.k||0!==r[34].p.v||r[35].p.k||1!==r[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",i)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(i.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(i),i=createNS("feComponentTransfer")),(r[3].p.k||0!==r[3].p.v||r[4].p.k||1!==r[4].p.v||r[5].p.k||1!==r[5].p.v||r[6].p.k||0!==r[6].p.v||r[7].p.k||1!==r[7].p.v)&&(i.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(i),this.feFuncRComposed=this.createFeFunc("feFuncR",i),this.feFuncGComposed=this.createFeFunc("feFuncG",i),this.feFuncBComposed=this.createFeFunc("feFuncB",i))}function SVGDropShadowEffect(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","400%"),t.setAttribute("height","400%"),this.filterManager=e;var r=createNS("feGaussianBlur");r.setAttribute("in","SourceAlpha"),r.setAttribute("result","drop_shadow_1"),r.setAttribute("stdDeviation","0"),this.feGaussianBlur=r,t.appendChild(r);var i=createNS("feOffset");i.setAttribute("dx","25"),i.setAttribute("dy","0"),i.setAttribute("in","drop_shadow_1"),i.setAttribute("result","drop_shadow_2"),this.feOffset=i,t.appendChild(i);var n=createNS("feFlood");n.setAttribute("flood-color","#00ff00"),n.setAttribute("flood-opacity","1"),n.setAttribute("result","drop_shadow_3"),this.feFlood=n,t.appendChild(n);var s=createNS("feComposite");s.setAttribute("in","drop_shadow_3"),s.setAttribute("in2","drop_shadow_2"),s.setAttribute("operator","in"),s.setAttribute("result","drop_shadow_4"),t.appendChild(s);var o,a=createNS("feMerge");t.appendChild(a),o=createNS("feMergeNode"),a.appendChild(o),(o=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=o,this.feMerge=a,this.originalNodeAdded=!1,a.appendChild(o)}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},blendModeEnums:{1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},getBlendMode:function(){return this.blendModeEnums[this.data.bm]||""},setBlendMode:function(){var t=this.getBlendMode();(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,r){this.globalData=e,this.comp=r,this.data=t,this.layerId="ly_"+randomString(10),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type}},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,r,i=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var n=createNS("mask");n.setAttribute("id",this.layerId),n.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),n.appendChild(this.layerElement),i=n,this.globalData.defs.appendChild(n),featureSupport.maskType||1!=this.data.td||(n.setAttribute("mask-type","luminance"),t=randomString(10),e=filtersFactory.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(r=createNS("g")).appendChild(this.layerElement),i=r,n.appendChild(r),r.setAttribute("filter","url("+locationHref+"#"+t+")"))}else if(2==this.data.td){var s=createNS("mask");s.setAttribute("id",this.layerId),s.setAttribute("mask-type","alpha");var o=createNS("g");s.appendChild(o),t=randomString(10),e=filtersFactory.createFilter(t);var a=createNS("feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1"),e.appendChild(a),this.globalData.defs.appendChild(e);var h=createNS("rect");h.setAttribute("width",this.comp.data.w),h.setAttribute("height",this.comp.data.h),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("fill","#ffffff"),h.setAttribute("opacity","0"),o.setAttribute("filter","url("+locationHref+"#"+t+")"),o.appendChild(h),o.appendChild(this.layerElement),i=o,featureSupport.maskType||(s.setAttribute("mask-type","luminance"),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),r=createNS("g"),o.appendChild(h),r.appendChild(this.layerElement),i=r,o.appendChild(r)),this.globalData.defs.appendChild(s)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),i=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var u=createNS("clipPath"),l=createNS("path");l.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var c="cp_"+randomString(8);if(u.setAttribute("id",c),u.appendChild(l),this.globalData.defs.appendChild(u),this.checkMasks()){var f=createNS("g");f.setAttribute("clip-path","url("+locationHref+"#"+c+")"),f.appendChild(this.layerElement),this.transformedElement=f,i?i.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+c+")")}0!==this.data.bm&&this.setBlendMode(),this.renderableEffectsManager=new SVGEffects(this)},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},addMasks:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+t+")")}},IShapeElement.prototype={addShapeToModifiers:function(t){var e,r=this.shapeModifiers.length;for(e=0;e<r;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0;t-=1)this.shapeModifiers[t].processShapes(this._isFirstFrame)}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(t){for(var e=this.processedElements,r=0,i=e.length;r<i;){if(e[r].elem===t)return e[r].pos;r+=1}return 0},addProcessedElement:function(t,e){for(var r=this.processedElements,i=r.length;i;)if(r[i-=1].elem===t)return void(r[i].pos=e);r.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},ITextElement.prototype.initElement=function(t,e,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,r),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.addMasks(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,e){var r,i,n=e.length,s="";for(r=0;r<n;r+=1)i=e[r].ks.k,s+=buildShapeString(i,i.i.length,!0,t);return s},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,r,i,n){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0)}e.translate(i,n,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.addMasks(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var r,i=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=i-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextElement),SVGTextElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextElement.prototype.buildTextContents=function(t){for(var e=0,r=t.length,i=[],n="";e<r;)t[e]===String.fromCharCode(13)?(i.push(n),n=""):n+=t[e],e+=1;return i.push(n),i},SVGTextElement.prototype.buildNewText=function(){var t,e,r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var i=this.globalData.fontManager.getFontByName(r.f);if(i.fClass)this.layerElement.setAttribute("class",i.fClass);else{this.layerElement.setAttribute("font-family",i.fFamily);var n=r.fWeight,s=r.fStyle;this.layerElement.setAttribute("font-style",s),this.layerElement.setAttribute("font-weight",n)}var o,a=r.l||[],h=this.globalData.fontManager.chars;e=a.length;var u,l=this.mHelper,c="",f=this.data.singleShape,p=0,d=0,m=!0,y=r.tr/1e3*r.finalSize;if(!f||h||r.sz){var v,g,_=this.textSpans.length;for(t=0;t<e;t+=1)h&&f&&0!==t||(o=_>t?this.textSpans[t]:createNS(h?"path":"text"),_<=t&&(o.setAttribute("stroke-linecap","butt"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke-miterlimit","4"),this.textSpans[t]=o,this.layerElement.appendChild(o)),o.style.display="inherit"),l.reset(),l.scale(r.finalSize/100,r.finalSize/100),f&&(a[t].n&&(p=-y,d+=r.yOffset,d+=m?1:0,m=!1),this.applyTextPropertiesToMatrix(r,l,a[t].line,p,d),p+=a[t].l||0,p+=y),h?(u=(v=(g=this.globalData.fontManager.getCharData(r.finalText[t],i.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily))&&g.data||{}).shapes?v.shapes[0].it:[],f?c+=this.createPathShape(l,u):o.setAttribute("d",this.createPathShape(l,u))):(f&&o.setAttribute("transform","translate("+l.props[12]+","+l.props[13]+")"),o.textContent=a[t].val,o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));f&&o&&o.setAttribute("d",c)}else{var b=this.textContainer,x="start";switch(r.j){case 1:x="end";break;case 2:x="middle"}b.setAttribute("text-anchor",x),b.setAttribute("letter-spacing",y);var T=this.buildTextContents(r.finalText);for(e=T.length,d=r.ps?r.ps[1]+r.ascent:0,t=0;t<e;t+=1)(o=this.textSpans[t]||createNS("tspan")).textContent=T[t],o.setAttribute("x",0),o.setAttribute("y",d),o.style.display="inherit",b.appendChild(o),this.textSpans[t]=o,d+=r.finalLineHeight;this.layerElement.appendChild(b)}for(;t<this.textSpans.length;)this.textSpans[t].style.display="none",t+=1;this._sizeChanged=!0},SVGTextElement.prototype.sourceRectAtTime=function(t){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var r,i,n=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(e=s.length,t=0;t<e;t+=1)s[t].n||(r=n[t],i=this.textSpans[t],r._mdf.m&&i.setAttribute("transform",r.m),r._mdf.o&&i.setAttribute("opacity",r.o),r._mdf.sw&&i.setAttribute("stroke-width",r.sw),r._mdf.sc&&i.setAttribute("stroke",r.sc),r._mdf.fc&&i.setAttribute("fill",r.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,r,i,n=this.shapes.length,s=this.stylesList.length,o=[],a=!1;for(r=0;r<s;r+=1){for(i=this.stylesList[r],a=!1,o.length=0,t=0;t<n;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(i)&&(o.push(e),a=e._isAnimated||a);o.length>1&&a&&this.setShapesAsAnimated(o)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var r,i=new SVGStyleData(t,e),n=i.pElem;if("st"===t.ty)r=new SVGStrokeStyleData(this,t,i);else if("fl"===t.ty)r=new SVGFillStyleData(this,t,i);else if("gf"===t.ty||"gs"===t.ty){r=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,i),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),n.setAttribute("mask","url(#"+r.maskId+")"))}return"st"!==t.ty&&"gs"!==t.ty||(n.setAttribute("stroke-linecap",this.lcEnum[t.lc]||"round"),n.setAttribute("stroke-linejoin",this.ljEnum[t.lj]||"round"),n.setAttribute("fill-opacity","0"),1===t.lj&&n.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&n.setAttribute("fill-rule","evenodd"),t.ln&&n.setAttribute("id",t.ln),t.cl&&n.setAttribute("class",t.cl),this.stylesList.push(i),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var r=TransformPropertyFactory.getTransformProperty(this,t,this),i=new SVGTransformData(r,r.o,e);return this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.createShapeElement=function(t,e,r){var i=4;"rc"===t.ty?i=5:"el"===t.ty?i=6:"sr"===t.ty&&(i=7);var n=new SVGShapeData(e,r,ShapePropertyFactory.getShapeProp(this,t,i,this));return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var r=0,i=this.animatedContents.length;r<i;){if(this.animatedContents[r].element===e)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,r=t.styles,i=this.stylesList.length;for(e=0;e<i;e+=1)this.stylesList[e].closed||r.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,r,i,n,s,o){var a,h,u,l,c,f,p=[].concat(s),d=t.length-1,m=[],y=[];for(a=d;a>=0;a-=1){if((f=this.searchProcessedElement(t[a]))?e[a]=r[f-1]:t[a]._render=o,"fl"==t[a].ty||"st"==t[a].ty||"gf"==t[a].ty||"gs"==t[a].ty)f?e[a].style.closed=!1:e[a]=this.createStyleElement(t[a],n),t[a]._render&&i.appendChild(e[a].style.pElem),m.push(e[a].style);else if("gr"==t[a].ty){if(f)for(u=e[a].it.length,h=0;h<u;h+=1)e[a].prevViewData[h]=e[a].it[h];else e[a]=this.createGroupElement(t[a]);this.searchShapes(t[a].it,e[a].it,e[a].prevViewData,e[a].gr,n+1,p,o),t[a]._render&&i.appendChild(e[a].gr)}else"tr"==t[a].ty?(f||(e[a]=this.createTransformElement(t[a],i)),l=e[a].transform,p.push(l)):"sh"==t[a].ty||"rc"==t[a].ty||"el"==t[a].ty||"sr"==t[a].ty?(f||(e[a]=this.createShapeElement(t[a],p,n)),this.setElementStyles(e[a])):"tm"==t[a].ty||"rd"==t[a].ty||"ms"==t[a].ty?(f?(c=e[a]).closed=!1:((c=ShapeModifiers.getModifier(t[a].ty)).init(this,t[a]),e[a]=c,this.shapeModifiers.push(c)),y.push(c)):"rp"==t[a].ty&&(f?(c=e[a]).closed=!0:(c=ShapeModifiers.getModifier(t[a].ty),e[a]=c,c.init(this,t,a,e),this.shapeModifiers.push(c),o=!1),y.push(c));this.addProcessedElement(t[a],a+1)}for(d=m.length,a=0;a<d;a+=1)m[a].closed=!0;for(d=y.length,a=0;a<d;a+=1)y[a].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,r=this.animatedContents.length;for(t=0;t<r;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",r[0]-e[0]+" 0 0 0 "+e[0]+" "+(r[1]-e[1])+" 0 0 0 "+e[1]+" "+(r[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+i+" 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+r+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,r,i,n=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(i=this.elem.maskManager.masksProperties.length,r=0):i=(r=this.filterManager.effectElements[0].p.v-1)+1,(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);r<i;r+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:r});if(3===this.filterManager.effectElements[10].p.v){var s=createNS("mask"),o="stms_"+randomString(10);s.setAttribute("id",o),s.setAttribute("mask-type","alpha"),s.appendChild(e),this.elem.globalData.defs.appendChild(s);var a=createNS("g");a.setAttribute("mask","url("+locationHref+"#"+o+")"),n[0]&&a.appendChild(n[0]),this.elem.layerElement.appendChild(a),this.masker=s,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(n=this.elem.layerElement.children||this.elem.layerElement.childNodes;n.length;)this.elem.layerElement.removeChild(n[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,r,i,n=this.paths.length;for(e=0;e<n;e+=1)if(-1!==this.paths[e].m&&(r=this.elem.maskManager.viewData[this.paths[e].m],i=this.paths[e].p,(t||this.filterManager._mdf||r.prop._mdf)&&i.setAttribute("d",r.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var s;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var o=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,a=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,h=i.getTotalLength();s="0 0 0 "+h*o+" ";var u,l=h*(a-o),c=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,f=Math.floor(l/c);for(u=0;u<f;u+=1)s+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";s+="0 "+10*h+" 0 0"}else s="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;i.setAttribute("stroke-dasharray",s)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*p[0])+","+bm_floor(255*p[1])+","+bm_floor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v,n=i[0]+" "+r[0]+" "+e[0],s=i[1]+" "+r[1]+" "+e[1],o=i[2]+" "+r[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",n),this.feFuncG.setAttribute("tableValues",s),this.feFuncB.setAttribute("tableValues",o)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var r=createNS(t);return r.setAttribute("type","table"),e.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(t,e,r,i,n){for(var s,o,a=0,h=Math.min(t,e),u=Math.max(t,e),l=Array.call(null,{length:256}),c=0,f=n-i,p=e-t;a<=256;)o=(s=a/256)<=h?p<0?n:i:s>=u?p<0?i:n:i+f*Math.pow((s-t)/p,1/r),l[c++]=o,a+=256/255;return l.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,r=this.filterManager.effectElements;this.feFuncRComposed&&(t||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(e=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(e=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(e=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(e=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(e=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,i=(this.filterManager.effectElements[2].p.v-90)*degToRads,n=r*Math.cos(i),s=r*Math.sin(i);this.feOffset.setAttribute("dx",n),this.feOffset.setAttribute("dy",s)}}};var _svgMatteSymbols=[],_svgMatteMaskCounter=0;function SVGMatte3Effect(t,e,r){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGEffects(t){var e,r,i=t.data.ef?t.data.ef.length:0,n=randomString(10),s=filtersFactory.createFilter(n),o=0;for(this.filters=[],e=0;e<i;e+=1)r=null,20===t.data.ef[e].ty?(o+=1,r=new SVGTintFilter(s,t.effectsManager.effectElements[e])):21===t.data.ef[e].ty?(o+=1,r=new SVGFillFilter(s,t.effectsManager.effectElements[e])):22===t.data.ef[e].ty?r=new SVGStrokeEffect(t,t.effectsManager.effectElements[e]):23===t.data.ef[e].ty?(o+=1,r=new SVGTritoneFilter(s,t.effectsManager.effectElements[e])):24===t.data.ef[e].ty?(o+=1,r=new SVGProLevelsFilter(s,t.effectsManager.effectElements[e])):25===t.data.ef[e].ty?(o+=1,r=new SVGDropShadowEffect(s,t.effectsManager.effectElements[e])):28===t.data.ef[e].ty&&(r=new SVGMatte3Effect(s,t.effectsManager.effectElements[e],t)),r&&this.filters.push(r);o&&(t.globalData.defs.appendChild(s),t.layerElement.setAttribute("filter","url("+locationHref+"#"+n+")")),this.filters.length&&t.addRenderableComponent(this)}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,r=_svgMatteSymbols.length;e<r;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var r=t.layerElement.parentNode;if(r){for(var i,n=r.children,s=0,o=n.length;s<o&&n[s]!==t.layerElement;)s+=1;s<=o-2&&(i=n[s+1]);var a=createNS("use");a.setAttribute("href","#"+e),i?r.insertBefore(a,i):r.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var r="matte_"+randomString(5)+"_"+_svgMatteMaskCounter++,i=createNS("mask");i.setAttribute("id",e.layerId),i.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var n=t.globalData.defs;n.appendChild(i);var s=createNS("symbol");s.setAttribute("id",r),this.replaceInParent(e,r),s.appendChild(e.layerElement),n.appendChild(s);var o=createNS("use");o.setAttribute("href","#"+r),i.appendChild(o),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=0,r=this.elem.comp.elements.length;e<r;)this.elem.comp.elements[e].data.ind===t&&this.setElementAsMask(this.elem,this.elem.comp.elements[e]),e+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(t){var e,r=this.filters.length;for(e=0;e<r;e+=1)this.filters[e].renderFrame(t)};var animationManager=function(){var t={},e=[],r=0,i=0,n=0,s=!0,o=!1;function a(t){for(var r=0,n=t.target;r<i;)e[r].animation===n&&(e.splice(r,1),r-=1,i-=1,n.isPaused||l()),r+=1}function h(t,r){if(!t)return null;for(var n=0;n<i;){if(e[n].elem==t&&null!==e[n].elem)return e[n].animation;n+=1}var s=new AnimationItem;return c(s,t),s.setData(t,r),s}function u(){n+=1,d()}function l(){n-=1}function c(t,r){t.addEventListener("destroy",a),t.addEventListener("_active",u),t.addEventListener("_idle",l),e.push({elem:r,animation:t}),i+=1}function f(t){var a,h=t-r;for(a=0;a<i;a+=1)e[a].animation.advanceTime(h);r=t,n&&!o?window.requestAnimationFrame(f):s=!0}function p(t){r=t,window.requestAnimationFrame(f)}function d(){!o&&n&&s&&(window.requestAnimationFrame(p),s=!1)}return t.registerAnimation=h,t.loadAnimation=function(t){var e=new AnimationItem;return c(e,null),e.setParams(t),e},t.setSpeed=function(t,r){var n;for(n=0;n<i;n+=1)e[n].animation.setSpeed(t,r)},t.setDirection=function(t,r){var n;for(n=0;n<i;n+=1)e[n].animation.setDirection(t,r)},t.play=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.play(t)},t.pause=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.pause(t)},t.stop=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.stop(t)},t.togglePause=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.togglePause(t)},t.searchAnimations=function(t,e,r){var i,n=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),s=n.length;for(i=0;i<s;i+=1)r&&n[i].setAttribute("data-bm-type",r),h(n[i],t);if(e&&0===s){r||(r="svg");var o=document.getElementsByTagName("body")[0];o.innerHTML="";var a=createTag("div");a.style.width="100%",a.style.height="100%",a.setAttribute("data-bm-type",r),o.appendChild(a),h(a,t)}},t.resize=function(){var t;for(t=0;t<i;t+=1)e[t].animation.resize()},t.goToAndStop=function(t,r,n){var s;for(s=0;s<i;s+=1)e[s].animation.goToAndStop(t,r,n)},t.destroy=function(t){var r;for(r=i-1;r>=0;r-=1)e[r].animation.destroy(t)},t.freeze=function(){o=!0},t.unfreeze=function(){o=!1,d()},t.getRegisteredAnimations=function(){var t,r=e.length,i=[];for(t=0;t<r;t+=1)i.push(e[t].animation);return i},t}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.pendingElements=0,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=randomString(10),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface()};function EffectsManager(){}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",className:e&&e.className||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!e||!1!==e.hideOnTransparent},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0}function CVShapeData(t,e){this.nodes=[],this.trNodes=[],this.tr=[0,0,0,0,0,0];var r=4;"rc"==e.ty?r=5:"el"==e.ty?r=6:"sr"==e.ty&&(r=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,r,t),this.st=!1,this.fl=!1}function CVContextData(){var t;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),t=0;t<15;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(t,e,r){this.failed=!1,this.img=new Image,this.img.crossOrigin="anonymous",this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r),this.globalData.addPendingElement()}function CVCompElement(t,e,r){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r,i=this.masksProperties.length,n=!1;for(r=0;r<i;r++)"n"!==this.masksProperties[r].mode&&(n=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=n,n&&this.element.addRenderableComponent(this)}function CVShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.initElement(t,e,r)}function CVSolidElement(t,e,r){this.initElement(t,e,r)}function CVTextElement(t,e,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,r)}function CVEffects(){}function HBaseElement(t,e,r){}function HSolidElement(t,e,r){this.initElement(t,e,r)}function HCompElement(t,e,r){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,r)}function HImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r)}function HCameraElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initHierarchy();var i=PropertyFactory.getProp;if(this.pe=i(this,t.pe,0,0,this),t.ks.p.s?(this.px=i(this,t.ks.p.x,1,0,this),this.py=i(this,t.ks.p.y,1,0,this),this.pz=i(this,t.ks.p.z,1,0,this)):this.p=i(this,t.ks.p,1,0,this),t.ks.a&&(this.a=i(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var n,s=t.ks.or.k.length;for(n=0;n<s;n+=1)t.ks.or.k[n].to=null,t.ks.or.k[n].ti=null}this.or=i(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=i(this,t.ks.rx,0,degToRads,this),this.ry=i(this,t.ks.ry,0,degToRads,this),this.rz=i(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0}function HEffects(){}extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){t.context&&(this.context=t.context),(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e=t.animType?t.animType:t.renderer?t.renderer:"svg";switch(e){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,t.rendererSettings);break;default:this.renderer=new HybridRenderer(this,t.rendererSettings)}this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||(!1===t.loop?this.loop=!1:!0===t.loop?this.loop=!0:this.loop=parseInt(t.loop)),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!t.hasOwnProperty("autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,t.animationData?this.configAnimation(t.animationData):t.path&&("json"!=t.path.substr(-4)&&("/"!=t.path.substr(-1,1)&&(t.path+="/"),t.path+="data.json"),-1!=t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(t.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},AnimationItem.prototype.setData=function(t,e){var r={wrapper:t,animationData:e?"object"==typeof e?e:JSON.parse(e):null},i=t.attributes;r.path=i.getNamedItem("data-animation-path")?i.getNamedItem("data-animation-path").value:i.getNamedItem("data-bm-path")?i.getNamedItem("data-bm-path").value:i.getNamedItem("bm-path")?i.getNamedItem("bm-path").value:"",r.animType=i.getNamedItem("data-anim-type")?i.getNamedItem("data-anim-type").value:i.getNamedItem("data-bm-type")?i.getNamedItem("data-bm-type").value:i.getNamedItem("bm-type")?i.getNamedItem("bm-type").value:i.getNamedItem("data-bm-renderer")?i.getNamedItem("data-bm-renderer").value:i.getNamedItem("bm-renderer")?i.getNamedItem("bm-renderer").value:"canvas";var n=i.getNamedItem("data-anim-loop")?i.getNamedItem("data-anim-loop").value:i.getNamedItem("data-bm-loop")?i.getNamedItem("data-bm-loop").value:i.getNamedItem("bm-loop")?i.getNamedItem("bm-loop").value:"";""===n||(r.loop="false"!==n&&("true"===n||parseInt(n)));var s=i.getNamedItem("data-anim-autoplay")?i.getNamedItem("data-anim-autoplay").value:i.getNamedItem("data-bm-autoplay")?i.getNamedItem("data-bm-autoplay").value:!i.getNamedItem("bm-autoplay")||i.getNamedItem("bm-autoplay").value;r.autoplay="false"!==s,r.name=i.getNamedItem("data-name")?i.getNamedItem("data-name").value:i.getNamedItem("data-bm-name")?i.getNamedItem("data-bm-name").value:i.getNamedItem("bm-name")?i.getNamedItem("bm-name").value:"","false"===(i.getNamedItem("data-anim-prerender")?i.getNamedItem("data-anim-prerender").value:i.getNamedItem("data-bm-prerender")?i.getNamedItem("data-bm-prerender").value:i.getNamedItem("bm-prerender")?i.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),this.setParams(r)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,r,i=this.animationData.layers,n=i.length,s=t.layers,o=s.length;for(r=0;r<o;r+=1)for(e=0;e<n;){if(i[e].id==s[r].id){i[e]=s[r];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(n=t.assets.length,e=0;e<n;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader=new ImagePreloader,this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,function(t){t||this.trigger("loaded_images")}.bind(this))},AnimationItem.prototype.configAnimation=function(t){this.renderer&&(this.animationData=t,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.renderer.searchExtraCompositions(t.assets),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded())},AnimationItem.prototype.completeData=function(){dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.checkLoaded()},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.loaded?this.completeData():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.addPendingElement=function(){this.pendingElements+=1},AnimationItem.prototype.elementLoaded=function(){this.pendingElements-=1,this.checkLoaded()},AnimationItem.prototype.checkLoaded=function(){0===this.pendingElements&&(expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.isLoaded=!0,this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.subframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){!1!==this.isLoaded&&this.renderer.renderFrame(this.currentFrame+this.firstFrame)},AnimationItem.prototype.play=function(t){t&&this.name!=t||!0===this.isPaused&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!=t||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"))},AnimationItem.prototype.togglePause=function(t){t&&this.name!=t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!=t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.goToAndStop=function(t,e,r){r&&this.name!=r||(e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(t,e,r){this.goToAndStop(t,e,r),this.play()},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,r=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(r=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),r&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=t[0]-t[1],this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=t[1]-t[0],this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>e&&(r=e-t)),this.firstFrame=t,this.timeCompleted=this.totalFrames=e-t,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(t,e){if("object"==typeof t[0]){var r,i=t.length;for(r=0;r<i;r+=1)this.segments.push(t[r])}else this.segments.push(t);e&&this.checkSegments(0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!=t||!this.renderer||(this.renderer.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var r=t.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),e=this.assetsPath+r}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,r=this.assets.length;e<r;){if(t==this.assets[e].id)return this.assets[e];e+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(t){if(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(t);var e=this.contextData.cTr.props;this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var r=this.contextData.cTr.props;this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])}else this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRenderer.prototype.ctxOpacity=function(t){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=t<0?0:t,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=t<0?0:t,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(this.renderConfig.clearCanvas){t&&this.canvasContext.save();var e=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var r,i=this.contextData.saved[this.contextData.cArrPos];for(r=0;r<16;r+=1)i[r]=e[r];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(t){if(this.renderConfig.clearCanvas){t&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var e,r=this.contextData.saved[this.contextData.cArrPos],i=this.contextData.cTr.props;for(e=0;e<16;e+=1)i[e]=r[e];this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),r=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=r,this.globalData.currentGlobalAlpha!==r&&(this.canvasContext.globalAlpha=r,this.globalData.currentGlobalAlpha=r)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(t){this.animationItem.wrapper?(this.animationItem.container=createTag("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className)):this.canvasContext=this.renderConfig.context,this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e,r,i;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",t*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var n=this.renderConfig.preserveAspectRatio.split(" "),s=n[1]||"meet",o=n[0]||"xMidYMid",a=o.substr(0,4),h=o.substr(4);r=t/e,(i=this.transformCanvas.w/this.transformCanvas.h)>r&&"meet"===s||i<r&&"slice"===s?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===a&&(i<r&&"meet"===s||i>r&&"slice"===s)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===a&&(i<r&&"meet"===s||i>r&&"slice"===s)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===h&&(i>r&&"meet"===s||i<r&&"slice"===s)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===h&&(i>r&&"meet"===s||i<r&&"slice"===s)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip()},CanvasRenderer.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t){if(!(this.renderedFrame==t&&!0===this.renderConfig.clearCanvas||this.destroyed||-1===t)){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas,this.globalData.projectInterface.currentFrame=t;var e,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=0;e<r;e++)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),e=r-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){var r=this.createItem(this.layers[t],this,this.globalData);e[t]=r,r.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){this.pendingElements.pop().checkParenting()}},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){this.pendingElements.pop().checkParenting()}},HybridRenderer.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){var i=this.layers[e];if(i.ddd&&this.supports3d)this.addTo3dContainer(r,e);else if(this.threeDElements)this.addTo3dContainer(r,e);else{for(var n,s,o=0;o<e;)this.elements[o]&&!0!==this.elements[o]&&this.elements[o].getBaseElement&&(s=this.elements[o],n=(this.layers[o].ddd?this.getThreeDContainerByPos(o):s.getBaseElement())||n),o+=1;n?i.ddd&&this.supports3d||this.layerElement.insertBefore(r,n):i.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRenderer.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextElement(t,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(t){for(var e=0,r=this.threeDElements.length;e<r;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}},HybridRenderer.prototype.createThreeDContainer=function(t,e){var r=createTag("div");styleDiv(r);var i=createTag("div");styleDiv(i),"3d"===e&&(r.style.width=this.globalData.compSize.w+"px",r.style.height=this.globalData.compSize.h+"px",r.style.transformOrigin=r.style.mozTransformOrigin=r.style.webkitTransformOrigin="50% 50%",i.style.transform=i.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"),r.appendChild(i);var n={container:i,perspectiveElem:r,startPos:t,endPos:t,type:e};return this.threeDElements.push(n),n},HybridRenderer.prototype.build3dContainers=function(){var t,e,r=this.layers.length,i="";for(t=0;t<r;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?("3d"!==i&&(i="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):("2d"!==i&&(i="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(r=this.threeDElements.length)-1;t>=0;t--)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var r=0,i=this.threeDElements.length;r<i;){if(e<=this.threeDElements[r].endPos){for(var n,s=this.threeDElements[r].startPos;s<e;)this.elements[s]&&this.elements[s].getBaseElement&&(n=this.elements[s].getBaseElement()),s+=1;n?this.threeDElements[r].container.insertBefore(t,n):this.threeDElements[r].container.appendChild(t);break}r+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=createTag("div"),r=this.animationItem.wrapper;e.style.width=t.w+"px",e.style.height=t.h+"px",this.resizerElem=e,styleDiv(e),e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),r.appendChild(e),e.style.overflow="hidden";var i=createNS("svg");i.setAttribute("width","1"),i.setAttribute("height","1"),styleDiv(i),this.resizerElem.appendChild(i);var n=createNS("defs");i.appendChild(n),this.data=t,this.setupGlobalData(t,i),this.globalData.defs=n,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t++)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,r,i,n=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight,o=n/s;this.globalData.compSize.w/this.globalData.compSize.h>o?(t=n/this.globalData.compSize.w,e=n/this.globalData.compSize.w,r=0,i=(s-this.globalData.compSize.h*(n/this.globalData.compSize.w))/2):(t=s/this.globalData.compSize.h,e=s/this.globalData.compSize.h,r=(n-this.globalData.compSize.w*(s/this.globalData.compSize.h))/2,i=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+r+","+i+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,r=this.globalData.compSize.h,i=this.threeDElements.length;for(t=0;t<i;t+=1)this.threeDElements[t].perspectiveElem.style.perspective=this.threeDElements[t].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(r,2))+"px"}},HybridRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length,i=createTag("div");for(e=0;e<r;e+=1)if(t[e].xt){var n=this.createComp(t[e],i,this.globalData.comp,null);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,CVContextData.prototype.duplicate=function(){var t=2*this._length,e=this.savedOp;this.savedOp=createTypedArray("float32",t),this.savedOp.set(e);var r=0;for(r=this._length;r<t;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=this.getBlendMode();t.canvasContext.globalCompositeOperation=e}},addMasks:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){this.hidden||this.data.hd||(this.renderTransform(),this.renderRenderable(),this.setBlendMode(),this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.imageLoaded=function(){if(this.globalData.elementLoaded(),this.assetData.w!==this.img.width||this.assetData.h!==this.img.height){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,r,i=t.getContext("2d"),n=this.img.width,s=this.img.height,o=n/s,a=this.assetData.w/this.assetData.h,h=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;o>a&&"xMidYMid slice"===h||o<a&&"xMidYMid slice"!==h?e=(r=s)*a:r=(e=n)/a,i.drawImage(this.img,(n-e)/2,(s-r)/2,e,r,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.imageFailed=function(){this.failed=!0,this.globalData.elementLoaded()},CVImageElement.prototype.createContent=function(){var t=this.img;t.addEventListener("load",this.imageLoaded.bind(this),!1),t.addEventListener("error",this.imageFailed.bind(this),!1);var e=this.globalData.getAssetsPath(this.assetData);t.src=e},CVImageElement.prototype.renderInnerContent=function(t){this.failed||this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,r,i,n=this.element.finalTransform.mat,s=this.element.canvasContext,o=this.masksProperties.length;for(s.beginPath(),t=0;t<o;t++)if("n"!==this.masksProperties[t].mode){this.masksProperties[t].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compSize.w,0),s.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),s.lineTo(0,this.element.globalData.compSize.h),s.lineTo(0,0)),i=this.viewData[t].v,e=n.applyToPointArray(i.v[0][0],i.v[0][1],0),s.moveTo(e[0],e[1]);var a,h=i._length;for(a=1;a<h;a++)r=n.applyToTriplePoints(i.o[a-1],i.i[a],i.v[a]),s.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=n.applyToTriplePoints(i.o[a-1],i.i[0],i.v[0]),s.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),s.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,mat:new Matrix,_matMdf:!1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0)},CVShapeElement.prototype.createStyleElement=function(t){var e={data:t,type:t.ty,elements:[]},r={};if("fl"==t.ty||"st"==t.ty?(r.c=PropertyFactory.getProp(this,t.c,1,255,this),r.c.k||(e.co="rgb("+bm_floor(r.c.v[0])+","+bm_floor(r.c.v[1])+","+bm_floor(r.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(r.s=PropertyFactory.getProp(this,t.s,1,null,this),r.e=PropertyFactory.getProp(this,t.e,1,null,this),r.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),r.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),r.g=new GradientProperty(this,t.g)),r.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"==t.ty||"gs"==t.ty){if(e.lc=this.lcEnum[t.lc]||"round",e.lj=this.ljEnum[t.lj]||"round",1==t.lj&&(e.ml=t.ml),r.w=PropertyFactory.getProp(this,t.w,0,null,this),r.w.k||(e.wi=r.w.v),t.d){var i=new DashProperty(this,t.d,"canvas");r.d=i,r.d.k||(e.da=r.d.dashArray,e.do=r.d.dashoffset[0])}}else e.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(e),r.style=e,r},CVShapeElement.prototype.createGroupElement=function(t){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{mat:new Matrix,opacity:1,_matMdf:!1,_opMdf:!1,op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)},elements:[]}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t);this.shapes.push(e),this.addShapeToModifiers(e);var r,i=this.stylesList.length,n=!1,s=!1;for(r=0;r<i;r+=1)this.stylesList[r].closed||(this.stylesList[r].elements.push(e),"st"===this.stylesList[r].type?n=!0:s=!0);return e.st=n,e.fl=s,e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},CVShapeElement.prototype.searchShapes=function(t,e,r,i){var n,s,o,a,h,u=t.length-1,l=[],c=[];for(n=u;n>=0;n-=1){if((a=this.searchProcessedElement(t[n]))?e[n]=r[a-1]:t[n]._render=i,"fl"==t[n].ty||"st"==t[n].ty||"gf"==t[n].ty||"gs"==t[n].ty)a?e[n].style.closed=!1:e[n]=this.createStyleElement(t[n]),l.push(e[n].style);else if("gr"==t[n].ty){if(a)for(o=e[n].it.length,s=0;s<o;s+=1)e[n].prevViewData[s]=e[n].it[s];else e[n]=this.createGroupElement(t[n]);this.searchShapes(t[n].it,e[n].it,e[n].prevViewData,i)}else"tr"==t[n].ty?a||(e[n]=this.createTransformElement(t[n])):"sh"==t[n].ty||"rc"==t[n].ty||"el"==t[n].ty||"sr"==t[n].ty?a||(e[n]=this.createShapeElement(t[n])):"tm"==t[n].ty||"rd"==t[n].ty?(a?(h=e[n]).closed=!1:((h=ShapeModifiers.getModifier(t[n].ty)).init(this,t[n]),e[n]=h,this.shapeModifiers.push(h)),c.push(h)):"rp"==t[n].ty&&(a?(h=e[n]).closed=!0:(h=ShapeModifiers.getModifier(t[n].ty),e[n]=h,h.init(this,t,n,e),this.shapeModifiers.push(h),i=!1),c.push(h));this.addProcessedElement(t[n],n+1)}for(u=l.length,n=0;n<u;n+=1)l[n].closed=!0;for(u=c.length,n=0;n<u;n+=1)c[n].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.mat.reset(),this.transformHelper.opacity=1,this.transformHelper._matMdf=!1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){var r,i;(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0),(t._matMdf||e.mProps._mdf||this._isFirstFrame)&&((i=e.mat).cloneFromProps(e.mProps.v.props),e._matMdf=!0,r=t.mat.props,i.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]))},CVShapeElement.prototype.drawLayer=function(){var t,e,r,i,n,s,o,a,h,u=this.stylesList.length,l=this.globalData.renderer,c=this.globalData.canvasContext;for(t=0;t<u;t+=1)if(("st"!==(a=(h=this.stylesList[t]).type)&&"gs"!==a||0!==h.wi)&&h.data._render&&0!==h.coOp){if(l.save(),s=h.elements,"st"===a||"gs"===a?(c.strokeStyle="st"===a?h.co:h.grd,c.lineWidth=h.wi,c.lineCap=h.lc,c.lineJoin=h.lj,c.miterLimit=h.ml||0):c.fillStyle="fl"===a?h.co:h.grd,l.ctxOpacity(h.coOp),0!==this.globalData.currentGlobalAlpha){for("st"!==a&&"gs"!==a&&c.beginPath(),r=s.length,e=0;e<r;e+=1){for("st"!==a&&"gs"!==a||(c.beginPath(),h.da?(c.setLineDash(h.da),c.lineDashOffset=h.do,this.globalData.isDashed=!0):this.globalData.isDashed&&(c.setLineDash(this.dashResetter),this.globalData.isDashed=!1)),n=(o=s[e].trNodes).length,i=0;i<n;i+=1)"m"==o[i].t?c.moveTo(o[i].p[0],o[i].p[1]):"c"==o[i].t?c.bezierCurveTo(o[i].pts[0],o[i].pts[1],o[i].pts[2],o[i].pts[3],o[i].pts[4],o[i].pts[5]):c.closePath();"st"!==a&&"gs"!==a||c.stroke()}"st"!==a&&"gs"!==a&&c.fill(h.r)}l.restore()}},CVShapeElement.prototype.renderShape=function(t,e,r,i){var n,s;for(s=t,n=e.length-1;n>=0;n-=1)"tr"==e[n].ty?(s=r[n].transform,this.renderShapeTransform(t,s)):"sh"==e[n].ty||"el"==e[n].ty||"rc"==e[n].ty||"sr"==e[n].ty?this.renderPath(e[n],r[n],s):"fl"==e[n].ty?this.renderFill(e[n],r[n],s):"st"==e[n].ty?this.renderStroke(e[n],r[n],s):"gf"==e[n].ty||"gs"==e[n].ty?this.renderGradientFill(e[n],r[n],s):"gr"==e[n].ty?this.renderShape(s,e[n].it,r[n].it):e[n].ty;i&&this.drawLayer()},CVShapeElement.prototype.renderPath=function(t,e,r){var i,n,s,o;if(r._matMdf||e.sh._mdf||this._isFirstFrame){var a=e.sh.paths,h=r.mat;o=!1===t._render?0:a._length;var u=e.trNodes;for(u.length=0,s=0;s<o;s+=1){var l=a.shapes[s];if(l&&l.v){for(i=l._length,n=1;n<i;n+=1)1==n&&u.push({t:"m",p:h.applyToPointArray(l.v[0][0],l.v[0][1],0)}),u.push({t:"c",pts:h.applyToTriplePoints(l.o[n-1],l.i[n],l.v[n])});1==i&&u.push({t:"m",p:h.applyToPointArray(l.v[0][0],l.v[0][1],0)}),l.c&&i&&(u.push({t:"c",pts:h.applyToTriplePoints(l.o[n-1],l.i[0],l.v[0])}),u.push({t:"z"})),e.lStr=u}}if(e.st)for(n=0;n<16;n+=1)e.tr[n]=r.mat.props[n];e.trNodes=u}},CVShapeElement.prototype.renderFill=function(t,e,r){var i=e.style;(e.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(i.coOp=e.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,r){var i=e.style;if(!i.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var n=this.globalData.canvasContext,s=e.s.v,o=e.e.v;if(s=r.mat.applyToPointArray(s[0],s[1],0),o=r.mat.applyToPointArray(o[0],o[1],0),1===t.t)f=n.createLinearGradient(s[0],s[1],o[0],o[1]);else{var a;a=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2));var h=Math.atan2(o[1]-s[1],o[0]-s[0]),u=a*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),l=Math.cos(h+e.a.v)*u+s[0],c=Math.sin(h+e.a.v)*u+s[1],f=n.createRadialGradient(l,c,0,s[0],s[1],a)}var p,d=t.g.p,m=e.g.c,y=1;for(p=0;p<d;p+=1)e.g._hasOpacity&&e.g._collapsable&&(y=e.g.o[2*p+1]),f.addColorStop(m[4*p]/100,"rgba("+m[4*p+1]+","+m[4*p+2]+","+m[4*p+3]+","+y+")");i.grd=f}i.coOp=e.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(t,e,r){var i=e.style,n=e.d;n&&(n._mdf||this._isFirstFrame)&&(i.da=n.dashArray,i.do=n.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(i.coOp=e.o.v*r.opacity),(e.w._mdf||this._isFirstFrame)&&(i.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var r=!1;t.sc&&(r=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var i,n,s=this.globalData.fontManager.getFontByName(t.f),o=t.l,a=this.mHelper;this.stroke=r,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,n=t.finalText.length;var h,u,l,c,f,p,d,m,y,v,g=this.data.singleShape,_=t.tr/1e3*t.finalSize,b=0,x=0,T=!0,w=0;for(i=0;i<n;i+=1){for(u=(h=this.globalData.fontManager.getCharData(t.finalText[i],s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&h.data||{},a.reset(),g&&o[i].n&&(b=-_,x+=t.yOffset,x+=T?1:0,T=!1),d=(f=u.shapes?u.shapes[0].it:[]).length,a.scale(t.finalSize/100,t.finalSize/100),g&&this.applyTextPropertiesToMatrix(t,a,o[i].line,b,x),y=createSizedArray(d),p=0;p<d;p+=1){for(c=f[p].ks.k.i.length,m=f[p].ks.k,v=[],l=1;l<c;l+=1)1==l&&v.push(a.applyToX(m.v[0][0],m.v[0][1],0),a.applyToY(m.v[0][0],m.v[0][1],0)),v.push(a.applyToX(m.o[l-1][0],m.o[l-1][1],0),a.applyToY(m.o[l-1][0],m.o[l-1][1],0),a.applyToX(m.i[l][0],m.i[l][1],0),a.applyToY(m.i[l][0],m.i[l][1],0),a.applyToX(m.v[l][0],m.v[l][1],0),a.applyToY(m.v[l][0],m.v[l][1],0));v.push(a.applyToX(m.o[l-1][0],m.o[l-1][1],0),a.applyToY(m.o[l-1][0],m.o[l-1][1],0),a.applyToX(m.i[0][0],m.i[0][1],0),a.applyToY(m.i[0][0],m.i[0][1],0),a.applyToX(m.v[0][0],m.v[0][1],0),a.applyToY(m.v[0][0],m.v[0][1],0)),y[p]=v}g&&(b+=o[i].l,b+=_),this.textSpans[w]?this.textSpans[w].elem=y:this.textSpans[w]={elem:y},w+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,r,i,n,s,o=this.canvasContext;this.finalTransform.mat.props,o.font=this.values.fValue,o.lineCap="butt",o.lineJoin="miter",o.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,h=this.textAnimator.renderedLetters,u=this.textProperty.currentData.l;e=u.length;var l,c,f=null,p=null,d=null;for(t=0;t<e;t+=1)if(!u[t].n){if((a=h[t])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(a.p),this.globalData.renderer.ctxOpacity(a.o)),this.fill){for(a&&a.fc?f!==a.fc&&(f=a.fc,o.fillStyle=a.fc):f!==this.values.fill&&(f=this.values.fill,o.fillStyle=this.values.fill),i=(l=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<i;r+=1)for(s=(c=l[r]).length,this.globalData.canvasContext.moveTo(c[0],c[1]),n=2;n<s;n+=6)this.globalData.canvasContext.bezierCurveTo(c[n],c[n+1],c[n+2],c[n+3],c[n+4],c[n+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(a&&a.sw?d!==a.sw&&(d=a.sw,o.lineWidth=a.sw):d!==this.values.sWidth&&(d=this.values.sWidth,o.lineWidth=this.values.sWidth),a&&a.sc?p!==a.sc&&(p=a.sc,o.strokeStyle=a.sc):p!==this.values.stroke&&(p=this.values.stroke,o.strokeStyle=this.values.stroke),i=(l=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<i;r+=1)for(s=(c=l[r]).length,this.globalData.canvasContext.moveTo(c[0],c[1]),n=2;n<s;n+=6)this.globalData.canvasContext.bezierCurveTo(c[n],c[n+1],c[n+2],c[n+3],c[n+4],c[n+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}a&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=this.finalTransform.mat.toCSS()),this.finalTransform._opMdf&&(this.transformedElement.style.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},addMasks:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var r,i=0;i<e;)this.elements[i]&&this.elements[i].getBaseElement&&(r=this.elements[i].getBaseElement()),i+=1;r?this.layerElement.insertBefore(t,r):this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var r,i=t.length;for(r=0;r<i;r+=1)e=t[r].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var r,i,n,s,o,a=t.sh.v,h=t.transformers,u=a._length;if(!(u<=1)){for(r=0;r<u-1;r+=1)i=this.getTransformedPoint(h,a.v[r]),n=this.getTransformedPoint(h,a.o[r]),s=this.getTransformedPoint(h,a.i[r+1]),o=this.getTransformedPoint(h,a.v[r+1]),this.checkBounds(i,n,s,o,e);a.c&&(i=this.getTransformedPoint(h,a.v[r]),n=this.getTransformedPoint(h,a.o[r]),s=this.getTransformedPoint(h,a.i[0]),o=this.getTransformedPoint(h,a.v[0]),this.checkBounds(i,n,s,o,e))}},HShapeElement.prototype.checkBounds=function(t,e,r,i,n){this.getBoundsOfCurve(t,e,r,i);var s=this.shapeBoundingBox;n.x=bm_min(s.left,n.x),n.xMax=bm_max(s.right,n.xMax),n.y=bm_min(s.top,n.y),n.yMax=bm_max(s.bottom,n.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,r,i){for(var n,s,o,a,h,u,l,c=[[t[0],i[0]],[t[1],i[1]]],f=0;f<2;++f)if(s=6*t[f]-12*e[f]+6*r[f],n=-3*t[f]+9*e[f]-9*r[f]+3*i[f],o=3*e[f]-3*t[f],s|=0,o|=0,0!=(n|=0))(h=s*s-4*o*n)<0||(0<(u=(-s+bm_sqrt(h))/(2*n))&&u<1&&c[f].push(this.calculateF(u,t,e,r,i,f)),0<(l=(-s-bm_sqrt(h))/(2*n))&&l<1&&c[f].push(this.calculateF(l,t,e,r,i,f)));else{if(0===s)continue;0<(a=-o/s)&&a<1&&c[f].push(this.calculateF(a,t,e,r,i,f))}this.shapeBoundingBox.left=bm_min.apply(null,c[0]),this.shapeBoundingBox.top=bm_min.apply(null,c[1]),this.shapeBoundingBox.right=bm_max.apply(null,c[0]),this.shapeBoundingBox.bottom=bm_max.apply(null,c[1])},HShapeElement.prototype.calculateF=function(t,e,r,i,n,s){return bm_pow(1-t,3)*e[s]+3*bm_pow(1-t,2)*t*r[s]+3*(1-t)*bm_pow(t,2)*i[s]+bm_pow(t,3)*n[s]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var r,i=t.length;for(r=0;r<i;r+=1)t[r]&&t[r].sh?this.calculateShapeBoundingBox(t[r],e):t[r]&&t[r].it&&this.calculateBoundingBox(t[r].it,e)},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var r=!1;this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),r=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),r=!0),(r||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y)&&(this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style;e.color=e.fill=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)",t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var r,i,n=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",n.fClass)this.innerElem.className=n.fClass;else{e.fontFamily=n.fFamily;var s=t.fWeight,o=t.fStyle;e.fontStyle=o,e.fontWeight=s}var a,h,u,l=t.l;i=l.length;var c,f=this.mHelper,p="",d=0;for(r=0;r<i;r+=1){if(this.globalData.fontManager.chars?(this.textPaths[d]?a=this.textPaths[d]:((a=createNS("path")).setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[d]?u=(h=this.textSpans[d]).children[0]:(h=createTag("div"),(u=createNS("svg")).appendChild(a),styleDiv(h)))):this.isMasked?a=this.textPaths[d]?this.textPaths[d]:createNS("text"):this.textSpans[d]?(h=this.textSpans[d],a=this.textPaths[d]):(styleDiv(h=createTag("span")),styleDiv(a=createTag("span")),h.appendChild(a)),this.globalData.fontManager.chars){var m,y=this.globalData.fontManager.getCharData(t.finalText[r],n.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(m=y?y.data:null,f.reset(),m&&m.shapes&&(c=m.shapes[0].it,f.scale(t.finalSize/100,t.finalSize/100),p=this.createPathShape(f,c),a.setAttribute("d",p)),this.isMasked)this.innerElem.appendChild(a);else{if(this.innerElem.appendChild(h),m&&m.shapes){document.body.appendChild(u);var v=u.getBBox();u.setAttribute("width",v.width+2),u.setAttribute("height",v.height+2),u.setAttribute("viewBox",v.x-1+" "+(v.y-1)+" "+(v.width+2)+" "+(v.height+2)),u.style.transform=u.style.webkitTransform="translate("+(v.x-1)+"px,"+(v.y-1)+"px)",l[r].yOffset=v.y-1}else u.setAttribute("width",1),u.setAttribute("height",1);h.appendChild(u)}}else a.textContent=l[r].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(a):(this.innerElem.appendChild(h),a.style.transform=a.style.webkitTransform="translate3d(0,"+-t.finalSize/1.2+"px,0)");this.isMasked?this.textSpans[d]=a:this.textSpans[d]=h,this.textSpans[d].style.display="block",this.textPaths[d]=a,d+=1}for(;d<this.textSpans.length;)this.textSpans[d].style.display="none",d+=1},HTextElement.prototype.renderInnerContent=function(){if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform._matMdf&&(this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var t,e,r,i,n,s=0,o=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;for(e=a.length,t=0;t<e;t+=1)a[t].n?s+=1:(i=this.textSpans[t],n=this.textPaths[t],r=o[s],s+=1,r._mdf.m&&(this.isMasked?i.setAttribute("transform",r.m):i.style.transform=i.style.webkitTransform=r.m),i.style.opacity=r.o,r.sw&&r._mdf.sw&&n.setAttribute("stroke-width",r.sw),r.sc&&r._mdf.sc&&n.setAttribute("stroke",r.sc),r.fc&&r._mdf.fc&&(n.setAttribute("fill",r.fc),n.style.color=r.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var h=this.innerElem.getBBox();this.currentBBox.w!==h.width&&(this.currentBBox.w=h.width,this.svgElement.setAttribute("width",h.width)),this.currentBBox.h!==h.height&&(this.currentBBox.h=h.height,this.svgElement.setAttribute("height",h.height)),this.currentBBox.w===h.width+2&&this.currentBBox.h===h.height+2&&this.currentBBox.x===h.x-1&&this.currentBBox.y===h.y-1||(this.currentBBox.w=h.width+2,this.currentBBox.h=h.height+2,this.currentBBox.x=h.x-1,this.currentBBox.y=h.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,r=this.comp.threeDElements.length;for(t=0;t<r;t+=1)"3d"===(e=this.comp.threeDElements[t]).type&&(e.perspectiveElem.style.perspective=e.perspectiveElem.style.webkitPerspective=this.pe.v+"px",e.container.style.transformOrigin=e.container.style.mozTransformOrigin=e.container.style.webkitTransformOrigin="0px 0px 0px",e.perspectiveElem.style.transform=e.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)")},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,r=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)r=this.hierarchy[t].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var i=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-i.p.v[0],-i.p.v[1],i.p.v[2]),this.mat.rotateX(-i.rx.v).rotateY(-i.ry.v).rotateZ(i.rz.v),this.mat.scale(1/i.s.v[0],1/i.s.v[1],1/i.s.v[2]),this.mat.translate(i.a.v[0],i.a.v[1],i.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var n=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]],s=Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)),o=[n[0]/s,n[1]/s,n[2]/s],a=Math.sqrt(o[2]*o[2]+o[0]*o[0]),h=Math.atan2(o[1],a),u=Math.atan2(o[0],-o[2]);this.mat.rotateY(u).rotateX(-h)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var l=!this._prevMat.equals(this.mat);if((l||this.pe._mdf)&&this.comp.threeDElements){var c;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)"3d"===(c=this.comp.threeDElements[t]).type&&(l&&(c.container.style.transform=c.container.style.webkitTransform=this.mat.toCSS()),this.pe._mdf&&(c.perspectiveElem.style.perspective=c.perspectiveElem.style.webkitPerspective=this.pe.v+"px"));this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.initExpressions=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var Expressions=function(){var t={initExpressions:function(t){t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer)}};return t}();expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null;function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||"boolean"===t||"string"===t||e instanceof Number}function $bm_neg(t){var e=typeof t;if("number"===e||"boolean"===e||t instanceof Number)return-t;if($bm_isInstanceOfArray(t)){for(var r,i=t.length,n=[];r<i;r+=1)n[r]=-t[r];return n}}function sum(t,e){var r=typeof t,i=typeof e;if("string"===r||"string"===i)return t+e;if(isNumerable(r,t)&&isNumerable(i,e))return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(i,e))return(t=t.slice(0))[0]=t[0]+e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var n=0,s=t.length,o=e.length,a=[];n<s||n<o;)("number"==typeof t[n]||t[n]instanceof Number)&&("number"==typeof e[n]||e[n]instanceof Number)?a[n]=t[n]+e[n]:a[n]=void 0===e[n]?t[n]:t[n]||e[n],n+=1;return a}return 0}var add=sum;function sub(t,e){var r=typeof t,i=typeof e;if(isNumerable(r,t)&&isNumerable(i,e))return"string"===r&&parseInt(t),"string"===i&&parseInt(e),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(i,e))return t.slice(0)[0]=t[0]-e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return e.slice(0)[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var n=t.length,s=e.length,o=[];0<n||0<s;)("number"==typeof t[0]||t[0]instanceof Number)&&("number"==typeof e[0]||e[0]instanceof Number)?o[0]=t[0]-e[0]:o[0]=void 0===e[0]?t[0]:t[0]||e[0];return o}return 0}function mul(t,e){var r,i,n,s=typeof t,o=typeof e;if(isNumerable(s,t)&&isNumerable(o,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e)){for(t.length,createTypedArray("float32",n);i<n;i+=1)r[i]=t[i]*e;return r}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(e.length,createTypedArray("float32",n);i<n;i+=1)r[i]=t*e[i];return r}return 0}function div(t,e){var r,i,n,s=typeof t,o=typeof e;if(isNumerable(s,t)&&isNumerable(o,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e)){for(t.length,createTypedArray("float32",n);i<n;i+=1)r[i]=t[i]/e;return r}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(e.length,createTypedArray("float32",n);i<n;i+=1)r[i]=t/e[i];return r}return 0}function mod(t,e){return"string"==typeof t&&parseInt(t),"string"==typeof e&&parseInt(e),t%e}function clamp(t,e,r){if(e>r);return Math.min(Math.max(t,e),r)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return Math.abs(t-e);for(var r,i=Math.min(t.length,e.length);r<i;r+=1)Math.pow(e[r]-t[r],2);return Math.sqrt(0)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e=t[0],r=t[1],i=t[2],n=Math.max(e,r,i),s=Math.min(e,r,i),o=(n+s)/2;if(n==s);else{n}return[void 0,void 0,o,t[3]]}function hue2rgb(t,e,r){return r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function hslToRgb(t){var e=t[0],r=t[1],i=t[2];if(0===r);else{var n=i<.5?i*(1+r):i+r-i*r,s=2*i-n;hue2rgb(s,n,e+1/3),hue2rgb(s,n,e),hue2rgb(s,n,e-1/3)}return[void 0,void 0,void 0,t[3]]}function linear(t,e,r,i,n){if(r<e);if(t<=e)return i;if(t>=r)return n;var s=r===e?0:(t-e)/(r-e);if(!i.length)return i+(n-i)*s;for(var o,a=i.length,h=createTypedArray("float32",a);o<a;o+=1)h[o]=i[o]+(n[o]-i[o])*s;return h}function random(t,e){if(e.length){var r,i=e.length;t||createTypedArray("float32",i);for(var n=createTypedArray("float32",i),s=BMMath.random();r<i;r+=1)n[r]=t[r]+s*(e[r]-t[r]);return n}return t+BMMath.random()*(e-t)}function createPath(t,e,r,i){var n,s=t.length,o=shape_pool.newElement();o.setPathData(!!i,s);for(var a,h;n<s;n+=1)e&&e[n],r&&r[n],o.setTripleAt(t[n][0],t[n][1],h[0]+t[n][0],h[1]+t[n][1],a[0]+t[n][0],a[1]+t[n][1],n,!0);return o}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,content,effect,thisProperty=property;elem.comp.frameDuration=1/elem.comp.globalData.frameRate;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,anchorPoint,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,__expression_functions=[],scoped_bm_rt;if(data.xf){var i,len=data.xf.length;for(i=0;i<len;i+=1)__expression_functions[i]=eval("(function(){ return "+data.xf[i]+"}())")}var expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,wiggle=function(t,e){var r,i,n=this.pv.length?this.pv.length:1,s=createTypedArray("float32",n),o=Math.floor(5*time);for(r=0,i=0;r<o;){for(i=0;i<n;i+=1)s[i]+=-e+2*e*BMMath.random();r+=1}var a=5*time,h=a-Math.floor(a),u=createTypedArray("float32",n);if(n>1){for(i=0;i<n;i+=1)u[i]=this.pv[i]+s[i]+(-e+2*e*BMMath.random())*h;return u}return this.pv+s[0]+(-e+2*e*BMMath.random())*h}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var r=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],i=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,i,0]}function easeOut(t,e,r,i,n){return void 0===i?(i=e,n=r):t=(t-e)/(r-e),-(n-i)*t*(t-2)+i}function easeIn(t,e,r,i,n){return void 0===i?(i=e,n=r):t=(t-e)/(r-e),(n-i)*t*t+i}function nearestKey(t){var e,r,i,n=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,i=data.k[0].t;else{for(e=0;e<n-1;e+=1){if(t===data.k[e].t){r=e+1,i=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(r=e+2,i=data.k[e+1].t):(r=e+1,i=data.k[e].t);break}}-1===r&&(r=e+1,i=data.k[e].t)}else r=0,i=0;var s={};return s.index=r,s.time=i/elem.comp.globalData.frameRate,s}function key(t){var e,r,i,n;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);for(t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate},i=(n=t!==data.k.length-1||data.k[t].h?data.k[t].s:data.k[t-1].e).length,r=0;r<i;r+=1)e[r]=n[r];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random());function executeExpression(t){return value=t,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),anchorPoint=transform.anchorPoint),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=shape_pool.clone(scoped_bm_rt.v)),scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}();(function(){function t(){return this.pv}function e(t,e,r){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var i,n,s,o,a,h=this.comp.renderedFrame,u=this.keyframes,l=u[u.length-1].t;if(h<=l)return this.pv;if(r?n=l-(i=e?Math.abs(l-elem.comp.globalData.frameRate*e):Math.max(0,l-this.elem.data.ip)):((!e||e>u.length-1)&&(e=u.length-1),i=l-(n=u[u.length-1-e].t)),"pingpong"===t){if(Math.floor((h-n)/i)%2!=0)return this.getValueAtTime((i-(h-n)%i+n)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var c=this.getValueAtTime(n/this.comp.globalData.frameRate,0),f=this.getValueAtTime(l/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((h-n)%i+n)/this.comp.globalData.frameRate,0),d=Math.floor((h-n)/i);if(this.pv.length){for(o=(a=new Array(c.length)).length,s=0;s<o;s+=1)a[s]=(f[s]-c[s])*d+p[s];return a}return(f-c)*d+p}if("continue"===t){var m=this.getValueAtTime(l/this.comp.globalData.frameRate,0),y=this.getValueAtTime((l-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(a=new Array(m.length)).length,s=0;s<o;s+=1)a[s]=m[s]+(m[s]-y[s])*((h-l)/this.comp.globalData.frameRate)/5e-4;return a}return m+(h-l)/.001*(m-y)}}return this.getValueAtTime(((h-n)%i+n)/this.comp.globalData.frameRate,0)}function r(t,e,r){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var i,n,s,o,a,h=this.comp.renderedFrame,u=this.keyframes,l=u[0].t;if(h>=l)return this.pv;if(r?n=l+(i=e?Math.abs(elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-l)):((!e||e>u.length-1)&&(e=u.length-1),i=(n=u[e].t)-l),"pingpong"===t){if(Math.floor((l-h)/i)%2==0)return this.getValueAtTime(((l-h)%i+l)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var c=this.getValueAtTime(l/this.comp.globalData.frameRate,0),f=this.getValueAtTime(n/this.comp.globalData.frameRate,0),p=this.getValueAtTime((i-(l-h)%i+l)/this.comp.globalData.frameRate,0),d=Math.floor((l-h)/i)+1;if(this.pv.length){for(o=(a=new Array(c.length)).length,s=0;s<o;s+=1)a[s]=p[s]-(f[s]-c[s])*d;return a}return p-(f-c)*d}if("continue"===t){var m=this.getValueAtTime(l/this.comp.globalData.frameRate,0),y=this.getValueAtTime((l+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(a=new Array(m.length)).length,s=0;s<o;s+=1)a[s]=m[s]+(m[s]-y[s])*(l-h)/.001;return a}return m+(m-y)*(l-h)/.001}}return this.getValueAtTime((i-(l-h)%i+l)/this.comp.globalData.frameRate,0)}function i(t){return t!==this._cachingAtTime.lastFrame&&(t*=this.elem.globalData.frameRate,t-=this.offsetTime,this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value}function n(t){if(void 0!==this.vel)return this.vel;var e,r,i=this.getValueAtTime(t),n=this.getValueAtTime(t+-.001);if(i.length)for(e=createTypedArray("float32",i.length),r=0;r<i.length;r+=1)e[r]=(n[r]-i[r])/-.001;else e=(n-i)/-.001;return e}function s(t){this.propertyGroup=t}function o(t,e,r){e.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(t,e,r).bind(r)))}var a=function(){function e(t,e){return this.textIndex=t+1,this.textTotal=e,this.getValue(),this.v}return function(r,a){this.pv=1,this.comp=r.comp,this.elem=r,this.mult=.01,this.propType="textSelector",this.textTotal=a.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],o.bind(this)(r,a,this),this.getMult=e,this.getVelocityAtTime=n,this.kf?this.getValueAtTime=i.bind(this):this.getValueAtTime=t.bind(this),this.setGroupProperty=s}}(),h=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,r){var i=h(t,e,r);return i.dynamicProperties.length?i.getValueAtTime=function(t){console.warn("Transform at time not supported")}.bind(i):i.getValueAtTime=function(t){}.bind(i),i.setGroupProperty=s,i};var u=PropertyFactory.getProp;PropertyFactory.getProp=function(a,h,l,c,f){var p=u(a,h,l,c,f);p.kf?p.getValueAtTime=i.bind(p):p.getValueAtTime=t.bind(p),p.setGroupProperty=s,p.loopOut=e,p.loopIn=r,p.getVelocityAtTime=n.bind(p),p.getSpeedAtTime=function(t){var e=this.getValueAtTime(t),r=this.getValueAtTime(t+-.01),i=0;if(e.length){var n;for(n=0;n<e.length;n+=1)i+=Math.pow(r[n]-e[n],2);i=100*Math.sqrt(i)}else i=0;return i}.bind(p),p.numKeys=1===h.a?h.k.length:0,p.propertyIndex=h.ix;var d=0;return 0!==l&&(d=createTypedArray("float32",1===h.a?h.k[0].s.length:h.k.length)),p._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:d},o(a,h,p),p.k&&f.addDynamicProperty(p),p};var l=ShapePropertyFactory.getConstructorFunction(),c=ShapePropertyFactory.getKeyframedConstructorFunction();function f(){}f.prototype={vertices:function(t,e){var r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0));var i,n=r._length,s=r[t],o=r.v,a=createSizedArray(n);for(i=0;i<n;i+=1)a[i]="i"===t||"o"===t?[s[i][0]-o[i][0],s[i][1]-o[i][1]]:[s[i][0],s[i][1]];return a},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var i,n=this._segmentsLength,s=n.lengths,o=n.totalLength*t,a=0,h=s.length,u=0;a<h;){if(u+s[a].addedLength>o){var l=a,c=r.c&&a===h-1?0:a+1,f=(o-u)/s[a].addedLength;i=bez.getPointInSegment(r.v[l],r.v[c],r.o[l],r.i[c],f,s[a]);break}u+=s[a].addedLength,a+=1}return i||(i=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),i},vectorOnPath:function(t,e,r){t=1==t?this.v.c?0:.999:t;var i=this.pointOnPath(t,e),n=this.pointOnPath(t+.001,e),s=n[0]-i[0],o=n[1]-i[1],a=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));return"tangent"===r?[s/a,o/a]:[-o/a,s/a]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:s,getValueAtTime:t},extendPrototype([f],l),extendPrototype([f],c),c.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shape_pool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,t*=this.elem.globalData.frameRate,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},c.prototype.initiateExpression=ExpressionManager.initiateExpression;var p=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,r,i,n){var s=p(t,e,r,i,n);return s.propertyIndex=e.ix,s.lock=!1,3===r?o(t,e.pt,s):4===r&&o(t,e.ks,s),s.k&&t.addDynamicProperty(s),s};var d=TextSelectorProp.getTextSelectorProp;TextSelectorProp.getTextSelectorProp=function(t,e,r){return 1===e.t?new a(t,e,r):d(t,e,r)}})(),TextProperty.prototype.getExpressionValue=function(t,e){var r=this.calculateExpression(e);if(t.t!==r){var i={};return this.copyData(i,t),i.t=r.toString(),i.__complete=!1,i}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){if(this.data.d.x)return this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0};var ShapeExpressionInterface=function(){function t(t,c,f){var p,d=[],m=t?t.length:0;for(p=0;p<m;p+=1)"gr"==t[p].ty?d.push(e(t[p],c[p],f)):"fl"==t[p].ty?d.push(r(t[p],c[p],f)):"st"==t[p].ty?d.push(i(t[p],c[p],f)):"tm"==t[p].ty?d.push(n(t[p],c[p],f)):"tr"==t[p].ty||("el"==t[p].ty?d.push(s(t[p],c[p],f)):"sr"==t[p].ty?d.push(o(t[p],c[p],f)):"sh"==t[p].ty?d.push(l(t[p],c[p],f)):"rc"==t[p].ty?d.push(a(t[p],c[p],f)):"rd"==t[p].ty?d.push(h(t[p],c[p],f)):"rp"==t[p].ty&&d.push(u(t[p],c[p],f)));return d}function e(e,r,i){var n=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return n.content;default:return n.transform}};n.propertyGroup=function(t){return 1===t?n:i(t-1)};var s=function(e,r,i){var n,s=function(t){for(var e=0,r=n.length;e<r;){if(n[e]._name===t||n[e].mn===t||n[e].propertyIndex===t||n[e].ix===t||n[e].ind===t)return n[e];e+=1}if("number"==typeof t)return n[t-1]};return s.propertyGroup=function(t){return 1===t?s:i(t-1)},n=t(e.it,r.it,s.propertyGroup),s.numProperties=n.length,s.propertyIndex=e.cix,s._name=e.nm,s}(e,r,n.propertyGroup),o=function(t,e,r){function i(t){return 1==t?n:r(--t)}function n(e){return t.a.ix===e||"Anchor Point"===e?n.anchorPoint:t.o.ix===e||"Opacity"===e?n.opacity:t.p.ix===e||"Position"===e?n.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?n.rotation:t.s.ix===e||"Scale"===e?n.scale:t.sk&&t.sk.ix===e||"Skew"===e?n.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?n.skewAxis:void 0}return e.transform.mProps.o.setGroupProperty(i),e.transform.mProps.p.setGroupProperty(i),e.transform.mProps.a.setGroupProperty(i),e.transform.mProps.s.setGroupProperty(i),e.transform.mProps.r.setGroupProperty(i),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(i),e.transform.mProps.sa.setGroupProperty(i)),e.transform.op.setGroupProperty(i),Object.defineProperties(n,{opacity:{get:function(){return ExpressionValue(e.transform.mProps.o,1/e.transform.mProps.o.mult)}},position:{get:function(){return ExpressionValue(e.transform.mProps.p)}},anchorPoint:{get:function(){return ExpressionValue(e.transform.mProps.a)}},scale:{get:function(){return ExpressionValue(e.transform.mProps.s,1/e.transform.mProps.s.mult)}},rotation:{get:function(){return ExpressionValue(e.transform.mProps.r,1/e.transform.mProps.r.mult)}},skew:{get:function(){return ExpressionValue(e.transform.mProps.sk)}},skewAxis:{get:function(){return ExpressionValue(e.transform.mProps.sa)}},_name:{value:t.nm}}),n.ty="tr",n.mn=t.mn,n}(e.it[e.it.length-1],r.it[r.it.length-1],n.propertyGroup);return n.content=s,n.transform=o,Object.defineProperty(n,"_name",{get:function(){return e.nm}}),n.numProperties=e.np,n.propertyIndex=e.ix,n.nm=e.nm,n.mn=e.mn,n}function r(t,e,r){function i(t){return"Color"===t||"color"===t?i.color:"Opacity"===t||"opacity"===t?i.opacity:void 0}return Object.defineProperties(i,{color:{get:function(){return ExpressionValue(e.c,1/e.c.mult,"color")}},opacity:{get:function(){return ExpressionValue(e.o,100)}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(r),e.o.setGroupProperty(r),i}function i(t,e,r){function i(t){return 1===t?ob:r(t-1)}function n(t){return 1===t?h:i(t-1)}function s(r){Object.defineProperty(h,t.d[r].nm,{get:function(){return ExpressionValue(e.d.dataProps[r].p)}})}var o,a=t.d?t.d.length:0,h={};for(o=0;o<a;o+=1)s(o),e.d.dataProps[o].p.setGroupProperty(n);function u(t){return"Color"===t||"color"===t?u.color:"Opacity"===t||"opacity"===t?u.opacity:"Stroke Width"===t||"stroke width"===t?u.strokeWidth:void 0}return Object.defineProperties(u,{color:{get:function(){return ExpressionValue(e.c,1/e.c.mult,"color")}},opacity:{get:function(){return ExpressionValue(e.o,100)}},strokeWidth:{get:function(){return ExpressionValue(e.w)}},dash:{get:function(){return h}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(i),e.o.setGroupProperty(i),e.w.setGroupProperty(i),u}function n(t,e,r){function i(t){return 1==t?n:r(--t)}function n(e){return e===t.e.ix||"End"===e||"end"===e?n.end:e===t.s.ix?n.start:e===t.o.ix?n.offset:void 0}return n.propertyIndex=t.ix,e.s.setGroupProperty(i),e.e.setGroupProperty(i),e.o.setGroupProperty(i),n.propertyIndex=t.ix,Object.defineProperties(n,{start:{get:function(){return ExpressionValue(e.s,1/e.s.mult)}},end:{get:function(){return ExpressionValue(e.e,1/e.e.mult)}},offset:{get:function(){return ExpressionValue(e.o)}},_name:{value:t.nm}}),n.mn=t.mn,n}function s(t,e,r){function i(t){return 1==t?s:r(--t)}s.propertyIndex=t.ix;var n="tm"===e.sh.ty?e.sh.prop:e.sh;function s(e){return t.p.ix===e?s.position:t.s.ix===e?s.size:void 0}return n.s.setGroupProperty(i),n.p.setGroupProperty(i),Object.defineProperties(s,{size:{get:function(){return ExpressionValue(n.s)}},position:{get:function(){return ExpressionValue(n.p)}},_name:{value:t.nm}}),s.mn=t.mn,s}function o(t,e,r){function i(t){return 1==t?s:r(--t)}var n="tm"===e.sh.ty?e.sh.prop:e.sh;function s(e){return t.p.ix===e?s.position:t.r.ix===e?s.rotation:t.pt.ix===e?s.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?s.outerRadius:t.os.ix===e?s.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?s.innerRoundness:void 0:s.innerRadius}return s.propertyIndex=t.ix,n.or.setGroupProperty(i),n.os.setGroupProperty(i),n.pt.setGroupProperty(i),n.p.setGroupProperty(i),n.r.setGroupProperty(i),t.ir&&(n.ir.setGroupProperty(i),n.is.setGroupProperty(i)),Object.defineProperties(s,{position:{get:function(){return ExpressionValue(n.p)}},rotation:{get:function(){return ExpressionValue(n.r,1/n.r.mult)}},points:{get:function(){return ExpressionValue(n.pt)}},outerRadius:{get:function(){return ExpressionValue(n.or)}},outerRoundness:{get:function(){return ExpressionValue(n.os)}},innerRadius:{get:function(){return n.ir?ExpressionValue(n.ir):0}},innerRoundness:{get:function(){return n.is?ExpressionValue(n.is,1/n.is.mult):0}},_name:{value:t.nm}}),s.mn=t.mn,s}function a(t,e,r){function i(t){return 1==t?s:r(--t)}var n="tm"===e.sh.ty?e.sh.prop:e.sh;function s(e){return t.p.ix===e?s.position:t.r.ix===e?s.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?s.size:void 0}return s.propertyIndex=t.ix,n.p.setGroupProperty(i),n.s.setGroupProperty(i),n.r.setGroupProperty(i),Object.defineProperties(s,{position:{get:function(){return ExpressionValue(n.p)}},roundness:{get:function(){return ExpressionValue(n.r)}},size:{get:function(){return ExpressionValue(n.s)}},_name:{value:t.nm}}),s.mn=t.mn,s}function h(t,e,r){var i=e;function n(e){if(t.r.ix===e||"Round Corners 1"===e)return n.radius}return n.propertyIndex=t.ix,i.rd.setGroupProperty(function(t){return 1==t?n:r(--t)}),Object.defineProperties(n,{radius:{get:function(){return ExpressionValue(i.rd)}},_name:{value:t.nm}}),n.mn=t.mn,n}function u(t,e,r){function i(t){return 1==t?s:r(--t)}var n=e;function s(e){return t.c.ix===e||"Copies"===e?s.copies:t.o.ix===e||"Offset"===e?s.offset:void 0}return s.propertyIndex=t.ix,n.c.setGroupProperty(i),n.o.setGroupProperty(i),Object.defineProperties(s,{copies:{get:function(){return ExpressionValue(n.c)}},offset:{get:function(){return ExpressionValue(n.o)}},_name:{value:t.nm}}),s.mn=t.mn,s}function l(t,e,r){var i=e.sh;function n(t){if("Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t)return n.path}return i.setGroupProperty(function(t){return 1==t?n:r(--t)}),Object.defineProperties(n,{path:{get:function(){return i.k&&i.getValue(),i}},shape:{get:function(){return i.k&&i.getValue(),i}},_name:{value:t.nm},ix:{value:t.ix},mn:{value:t.mn}}),n}return function(e,r,i){var n;function s(t){if("number"==typeof t)return n[t-1];for(var e=0,r=n.length;e<r;){if(n[e]._name===t)return n[e];e+=1}}return s.propertyGroup=i,n=t(e,r,s),s}}(),TextExpressionInterface=function(t){var e;function r(){}return Object.defineProperty(r,"sourceText",{get:function(){var r=t.textProperty.currentData.t;return void 0!==r&&(t.textProperty.currentData.t=void 0,(e=new String(r)).value=r||new String(r)),e}}),r},LayerExpressionInterface=function(){function t(t,e){var r=new Matrix;if(r.reset(),this._elem.finalTransform.mProp.applyToMatrix(r),this._elem.hierarchy&&this._elem.hierarchy.length){var i,n=this._elem.hierarchy.length;for(i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(r);return r.applyToPointArray(t[0],t[1],t[2]||0)}return r.applyToPointArray(t[0],t[1],t[2]||0)}function e(t,e){var r=new Matrix;if(r.reset(),this._elem.finalTransform.mProp.applyToMatrix(r),this._elem.hierarchy&&this._elem.hierarchy.length){var i,n=this._elem.hierarchy.length;for(i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(r);return r.inversePoint(t)}return r.inversePoint(t)}function r(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var r,i=this._elem.hierarchy.length;for(r=0;r<i;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function i(){return[1,1,1,1]}return function(n){var s;function o(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return o.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return s;case 4:case"ADBE Effect Parade":return o.effect}}o.toWorld=t,o.fromWorld=e,o.toComp=t,o.fromComp=r,o.sampleImage=i,o.sourceRectAtTime=n.sourceRectAtTime.bind(n),o._elem=n;var a=getDescriptor(s=TransformExpressionInterface(n.finalTransform.mProp),"anchorPoint");return Object.defineProperties(o,{hasParent:{get:function(){return n.hierarchy.length}},parent:{get:function(){return n.hierarchy[0].layerInterface}},rotation:getDescriptor(s,"rotation"),scale:getDescriptor(s,"scale"),position:getDescriptor(s,"position"),opacity:getDescriptor(s,"opacity"),anchorPoint:a,anchor_point:a,transform:{get:function(){return s}},active:{get:function(){return n.isInRange}}}),o.startTime=n.data.st,o.index=n.data.ind,o.source=n.data.refId,o.height=0===n.data.ty?n.data.h:100,o.width=0===n.data.ty?n.data.w:100,o.inPoint=n.data.ip/n.comp.globalData.frameRate,o.outPoint=n.data.op/n.comp.globalData.frameRate,o._name=n.data.nm,o.registerMaskInterface=function(t){o.mask=new MaskManagerInterface(t,n)},o.registerEffectsInterface=function(t){o.effect=t},o}}(),CompExpressionInterface=function(t){function e(e){for(var r=0,i=t.layers.length;r<i;){if(t.layers[r].nm===e||t.layers[r].ind===e)return t.elements[r].layerInterface;r+=1}return{active:!1}}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.globalData.compSize.h,e.width=t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e},TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity}}return Object.defineProperty(e,"rotation",{get:function(){return t.r?ExpressionValue(t.r,1/degToRads):ExpressionValue(t.rz,1/degToRads)}}),Object.defineProperty(e,"xRotation",{get:function(){return ExpressionValue(t.rx,1/degToRads)}}),Object.defineProperty(e,"yRotation",{get:function(){return ExpressionValue(t.ry,1/degToRads)}}),Object.defineProperty(e,"scale",{get:function(){return ExpressionValue(t.s,100)}}),Object.defineProperty(e,"position",{get:function(){return t.p?ExpressionValue(t.p):[t.px.v,t.py.v,t.pz?t.pz.v:0]}}),Object.defineProperty(e,"xPosition",{get:function(){return ExpressionValue(t.px)}}),Object.defineProperty(e,"yPosition",{get:function(){return ExpressionValue(t.py)}}),Object.defineProperty(e,"zPosition",{get:function(){return ExpressionValue(t.pz)}}),Object.defineProperty(e,"anchorPoint",{get:function(){return ExpressionValue(t.a)}}),Object.defineProperty(e,"opacity",{get:function(){return ExpressionValue(t.o,100)}}),Object.defineProperty(e,"skew",{get:function(){return ExpressionValue(t.sk)}}),Object.defineProperty(e,"skewAxis",{get:function(){return ExpressionValue(t.sa)}}),Object.defineProperty(e,"orientation",{get:function(){return ExpressionValue(t.or)}}),e},ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,r=this.compositions.length;e<r;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),EffectsExpressionInterface=function(){function t(r,i,n,s){var o,a=[],h=r.ef.length;for(o=0;o<h;o+=1)5===r.ef[o].ty?a.push(t(r.ef[o],i.effectElements[o],i.effectElements[o].propertyGroup,s)):a.push(e(i.effectElements[o],r.ef[o].ty,s,u));function u(t){return 1===t?l:n(t-1)}var l=function(t){for(var e=r.ef,i=0,n=e.length;i<n;){if(t===e[i].nm||t===e[i].mn||t===e[i].ix)return 5===e[i].ty?a[i]:a[i]();i+=1}return a[0]()};return l.propertyGroup=u,"ADBE Color Control"===r.mn&&Object.defineProperty(l,"color",{get:function(){return a[0]()}}),Object.defineProperty(l,"numProperties",{get:function(){return r.np}}),l.active=0!==r.en,l}function e(t,e,r,i){return t.p.setGroupProperty&&t.p.setGroupProperty(i),function(){return 10===e?r.comp.compInterface(t.p.v):ExpressionValue(t.p)}}return{createEffectsInterface:function(e,r){if(e.effectsManager){var i,n=[],s=e.data.ef,o=e.effectsManager.effectElements.length;for(i=0;i<o;i+=1)n.push(t(s[i],e.effectsManager.effectElements[i],r,e));return function(t){for(var r=e.data.ef||[],i=0,s=r.length;i<s;){if(t===r[i].nm||t===r[i].mn||t===r[i].ix)return n[i];i+=1}}}}}}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),function(e,r){var i,n=createSizedArray(e.viewData.length),s=e.viewData.length;for(i=0;i<s;i+=1)n[i]=new t(e.viewData[i],e.masksProperties[i]);return function(t){for(i=0;i<s;){if(e.masksProperties[i].nm===t)return n[i];i+=1}}}}(),ExpressionValue=function(t,e,r){var i,n,s,o,a;if(e=e||1,t.k&&t.getValue(),r){if("color"===r){for(i=createTypedArray("float32",s=4),o=createTypedArray("float32",s),n=0;n<s;n+=1)i[n]=o[n]=n<3?t.v[n]*e:1;i.value=o}}else if("unidimensional"===t.propType)a=t.v*e,(i=new Number(a)).value=a;else{for(s=t.pv.length,i=createTypedArray("float32",s),o=createTypedArray("float32",s),n=0;n<s;n+=1)i[n]=o[n]=t.v[n]*e;i.value=o}return i.numKeys=t.keyframes?t.keyframes.length:0,i.key=function(e){return i.numKeys?t.keyframes[e-1].t:0},i.valueAtTime=t.getValueAtTime,i.speedAtTime=t.getSpeedAtTime,i.velocityAtTime=t.getVelocityAtTime,i.propertyGroup=t.propertyGroup,i};function SliderEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function AngleEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function ColorEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function PointEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function LayerIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function MaskIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function CheckboxEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var r=t.ef||[];this.effectElements=[];var i,n,s=r.length;for(i=0;i<s;i++)n=new GroupEffect(r[i],e),this.effectElements.push(n)}function GroupEffect(t,e){this.init(t,e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var r,i,n=this.data.ef.length,s=this.data.ef;for(r=0;r<n;r+=1){switch(i=null,s[r].ty){case 0:i=new SliderEffect(s[r],e,this);break;case 1:i=new AngleEffect(s[r],e,this);break;case 2:i=new ColorEffect(s[r],e,this);break;case 3:i=new PointEffect(s[r],e,this);break;case 4:case 7:i=new CheckboxEffect(s[r],e,this);break;case 10:i=new LayerIndexEffect(s[r],e,this);break;case 11:i=new MaskIndexEffect(s[r],e,this);break;case 5:i=new EffectsManager(s[r],e,this);break;default:i=new NoValueEffect(s[r],e,this)}i&&this.effectElements.push(i)}};var lottiejs={},_isFrozen=!1;function setLocationHref(t){locationHref=t}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){subframeEnabled=t}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&t>1&&(defaultCurveSegments=t);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),r=0;r<e.length;r++){var i=e[r].split("=");if(decodeURIComponent(i[0])==t)return decodeURIComponent(i[1])}}lottiejs.play=animationManager.play,lottiejs.pause=animationManager.pause,lottiejs.setLocationHref=setLocationHref,lottiejs.togglePause=animationManager.togglePause,lottiejs.setSpeed=animationManager.setSpeed,lottiejs.setDirection=animationManager.setDirection,lottiejs.stop=animationManager.stop,lottiejs.searchAnimations=searchAnimations,lottiejs.registerAnimation=animationManager.registerAnimation,lottiejs.loadAnimation=loadAnimation,lottiejs.setSubframeRendering=setSubframeRendering,lottiejs.resize=animationManager.resize,lottiejs.goToAndStop=animationManager.goToAndStop,lottiejs.destroy=animationManager.destroy,lottiejs.setQuality=setQuality,lottiejs.inBrowser=inBrowser,lottiejs.installPlugin=installPlugin,lottiejs.freeze=animationManager.freeze,lottiejs.unfreeze=animationManager.unfreeze,lottiejs.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottiejs.__getFactory=getFactory,lottiejs.version="5.2.0";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottiejs}(root)}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(window||{})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(67);e.BodymovinManagerService=class extends i.EffectManagerService{}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(301),n=r(65),s=r(302);class o extends n.BaseEffectFactory{constructor(){super({effectId:"image-effect",title:"Logo",description:"some description",thumbnail:"http://www.blog.spoongraphics.co.uk/wp-content/uploads/2011/colourful-logo/18.jpg",enableTransition:!0,cat:"image"}),this.manager=new i.LogoEffectManagerService}static getInstance(){return o.instance||(o.instance=new o),o.instance}factory(t){return new s.LogoEffect(Object.assign({manager:this.getManager()},t))}getDefaultConfig(){return{name:"Logo",image:"http://172.16.100.247:8008///media/515/font2.PNG"}}getManager(){return this.manager}}e.LogoEffectFactory=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(67);e.LogoEffectManagerService=class extends i.EffectManagerService{constructor(){super()}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(66);e.LogoEffect=class extends i.BaseEffect{constructor(t){super(t)}load(){this.loadded=!0}init(){this.texture=PIXI.Texture.fromImage(this.config.image),this.textSprite=new PIXI.Sprite(this.texture),this.host.addChild(this.textSprite),this.ready=!0}updateCongig(t){super.updateCongig(t),this.textSprite&&(this.texture=PIXI.Texture.fromImage(this.config.image),this.textSprite.texture=this.texture)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(304),n=r(305),s=r(65);class o extends s.BaseEffectFactory{constructor(){super({effectId:"text",title:"Simple text",description:"some description",thumbnail:"https://i.ytimg.com/vi/6iiTasds-j0/maxresdefault.jpg",enableTransition:!0,cat:"text"}),this.manager=new i.SimpleTextEffectManagerService}static getInstance(){return o.instance||(o.instance=new o),o.instance}factory(t){return new n.SimpleTextEffect(Object.assign({manager:this.getManager()},t))}getDefaultConfig(){return{name:"Simple text",textStyle:{text:"WITH STROKE GRADIENT",font:"Oxygen",align:"left",fontSize:"19",fontStyle:"normal",weight:"normal",padding:"0",opacity:"1",color:"#000000"}}}getManager(){return this.manager}}e.SimpleTextEffectFactory=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(67);e.SimpleTextEffectManagerService=class extends i.EffectManagerService{constructor(){super()}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(66);e.SimpleTextEffect=class extends i.BaseEffect{constructor(t){super(t)}load(){this.loadded=!0}init(){const t=this.createStyle(this.config.textStyle);this.textSprite=new PIXI.Text(this.config.textStyle.text,t),this.host.addChild(this.textSprite),this.ready=!0}updateCongig(t){super.updateCongig(t),this.textSprite&&(this.textSprite.text=t.textStyle.text||"Simple text",this.textSprite.alpha=parseFloat(t.textStyle.opacity)||0,this.textSprite.style=this.createStyle(t.textStyle))}createStyle(t){const e={fontWeight:t.weight,fontSize:+t.fontSize,fontStyle:t.fontStyle,fontFamily:t.font,fill:t.color,padding:parseInt(t.padding,10),align:t.align};return new PIXI.TextStyle(e)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(307),n=r(65),s=r(308);class o extends n.BaseEffectFactory{constructor(){super({effectId:"video-effect",title:"Video",description:"some description",thumbnail:"http://www.blog.spoongraphics.co.uk/wp-content/uploads/2011/colourful-video/18.jpg",enableTransition:!0,cat:"image"}),this.manager=new i.VideoEffectManagerService}static getInstance(){return o.instance||(o.instance=new o),o.instance}factory(t){return new s.VideoEffect(Object.assign({manager:this.getManager()},t))}getDefaultConfig(){return{name:"Video",src:"http://172.16.100.247:8008///media/515/font2.PNG",startTime:0,duration:0,offset:0}}getManager(){return this.manager}}e.VideoEffectFactory=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(67);e.VideoEffectManagerService=class extends i.EffectManagerService{constructor(){super()}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(309),n=r(111);e.VideoEffect=class extends i.BaseVideoEffect{constructor(t){super(t),this.actionService=n.ActionService.getInstance()}load(){this.loadded=!0}init(){this.texture=PIXI.Texture.fromVideo(this.config.src),this.videoElement=this.texture.baseTexture.source,this.videoElement.pause(),this.videoElement.autoplay=!1,this.videoElement.loop=!1,this.videoElement.muted=!0,this.videoElement.currentTime=this.config.offset,this.texture.baseTexture.on("loaded",this.onVideoLoad.bind(this)),this.textSprite=new PIXI.Sprite(this.texture),this.host.addChild(this.textSprite),this.ready=!0}onVideoLoad(){this.videoElement=this.texture.baseTexture.source,this.videoElement.autoplay=!1,this.videoElement.muted=!0,setTimeout(()=>{this.paused?this.pause():this.play()},100),this.updateDuration(this.config.duration+this.config.startTime)}updateCongig(t){super.updateCongig(t),this.textSprite&&(this.texture=PIXI.Texture.fromVideo(this.config.src),this.textSprite.texture=this.texture)}updateDuration(t){this.duration=t,"function"==typeof this.onDurationChange&&(console.log("VideoEffect updateDuration",t),this.onDurationChange(t))}setCurrentTime(t){this.videoElement=this.texture.baseTexture.source,this.videoElement.currentTime=t}updateState(t){this.config.offset<=t&&t<this.config.offset+this.config.duration?this.setCurrentTime(t):this.stopVideo()}getVideoDuration(){if(!this.config)throw new Error("Video has not been initialized");return this.config.startTime+this.config.offset+this.config.duration}startVideo(){this.videoElement=this.texture.baseTexture.source,this.videoElement.play()}restartVideo(){this.videoElement=this.texture.baseTexture.source,this.videoElement.currentTime=this.config.offset,this.videoElement.play()}pauseVideo(){this.videoElement=this.texture.baseTexture.source,this.videoElement.pause()}stopVideo(){this.videoElement=this.texture.baseTexture.source,this.videoElement.currentTime=this.config.offset,this.videoElement.pause()}onVideoRestart(){super.onVideoRestart(),this.restartVideo()}onVideoStart(){super.onVideoStart(),this.startVideo()}onVideoUpdate(){super.onVideoUpdate(),this.videoTimeline.time()-(this.videoElement.currentTime-this.config.offset)>1/7&&(console.log("set",this.videoTimeline.time(),this.videoElement.currentTime,this.config.offset),this.setCurrentTime(this.videoTimeline.time()+this.config.offset))}onVideoComplete(){super.onVideoComplete(),this.stopVideo()}onVideoPause(){super.onVideoPause(),this.pauseVideo()}onPause(){super.onPause(),this.onVideoPause()}select(){console.log("VideoEffect select"),this.textSprite,this.editor&&(this.textSprite.alpha=0,this.textSprite=new PIXI.Sprite(this.texture),this.host.addChild(this.textSprite)),super.select()}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(66),n=r(43);e.BaseVideoEffect=class extends i.BaseEffect{constructor(t){super(t)}assignVideoTimelineEvent(){this.videoTimeline.eventCallback("onStart",this.onVideoRestart.bind(this)).eventCallback("onRestart",this.onVideoRestart.bind(this)).eventCallback("onComplete",this.onVideoComplete.bind(this)).eventCallback("onUpdate",this.onVideoUpdate.bind(this)).eventCallback("onPause",this.onVideoPause.bind(this))}onVideoRestart(){console.log("onVideoRestart")}onVideoStart(){console.log("onVideoStart")}onVideoUpdate(){}onVideoComplete(){console.log("onVideoComplete")}onVideoPause(){console.log("onVideoPause")}initVideoTimeLine(){this.videoTimeline=new n.TimelineFull({paused:!0}),this.videoTimeline.set({},{},this.config.duration),this.assignVideoTimelineEvent()}afterInit(){super.afterInit(),this.initVideoTimeLine(),this.timeline.add(this.videoTimeline.play(),this.config.startTime)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(311),n=r(312),s=r(65);class o extends s.BaseEffectFactory{constructor(){super({effectId:"group-button-effect",title:"Simple text",description:"some description",thumbnail:"https://i.ytimg.com/vi/6iiTasds-j0/maxresdefault.jpg",enableTransition:!0,cat:"group-button-effect"}),this.manager=new i.GroupButtonEffectManagerService}static getInstance(){return o.instance||(o.instance=new o),o.instance}factory(t){return new n.GroupButtonEffect(Object.assign({manager:this.getManager()},t))}getDefaultConfig(){return{name:"Simple text",buttons:[{textStyle:{text:"string",font:"string",fontSize:"string",fontStyle:"string",weight:"string",color:"string",opacity:"string",align:"string",padding:"string",textDecoration:"none"},buttonStyle:{backgroundColor:"#000",backgroundUrl:"string"},interactive:{},videoId:"string",slideId:"string"}],message:{text:"string",font:"string",fontSize:"string",fontStyle:"string",weight:"string",color:"string",opacity:"string",align:"string",padding:"string",textDecoration:"underline"}}}getManager(){return this.manager}}e.GroupButtonEffectFactory=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(67);e.GroupButtonEffectManagerService=class extends i.EffectManagerService{constructor(){super()}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(169);const n=r(66),s=r(111),o=r(318);e.GroupButtonEffect=class extends n.BaseEffect{constructor(t){super(t),this.buttons=[],this.actionService=s.ActionService.getInstance()}load(){this.loadded=!0}init(){this.buttonContainer=new PIXI.Container,this.host.addChild(this.buttonContainer),this.updateMessageConfig(this.config.message),this.genButton(this.config.buttons),this.ready=!0}updateMessageConfig(t){if(!t)return;const e=this.createStyle(t);this.textSprite?(this.textSprite.text=t.text,this.textSprite.alpha=parseFloat(t.opacity)||0,this.textSprite.style=this.createStyle(t),this.textSprite.x=0,this.textSprite.y=100):(this.textSprite=new o.Text(t.text,e),this.host.addChild(this.textSprite))}updateCongig(t){this.config=t,super.updateCongig(this.config),this.updateMessageConfig(this.config.message),this.removeButton(),this.genButton(t.buttons),this.updateElementPosition()}genButton(t){for(const e of t.keys()){const r=t[e];this.createGroupButton(r,this.buttonContainer.width+5*e)}}removeButton(){if(this.buttons&&Array.isArray(this.buttons)){this.buttonContainer.removeAllListeners();for(let t of this.buttonContainer.children)this.buttonContainer.removeChild(t),t.destroy();this.buttonContainer.children=[],this.buttons=[]}else this.buttons=[]}updateElementPosition(){this.textSprite.y=this.buttonContainer.height}createGroupButton(t,e){this.buttons&&Array.isArray(this.buttons)||(this.buttons=[]);const r=this.createStyle(t.textStyle),i=new PIXI.Text(t.textStyle.text,r),n=this.genGroupButton("#000",i.width,i.height),s=this.genGroupButton(t.buttonStyle.backgroundColor,i.width,i.height);this.signEventButton(t.interactive,s,n,i),this.buttonContainer.addChild(n),this.buttonContainer.addChild(s),this.buttonContainer.addChild(i),n.x=s.x=e,i.x=e+5,i.y=5,this.buttons.push({background:n,sprite:s,text:i})}signEventButton(t,e,r,i){e.buttonMode=!0,e.interactive=!0,e.buttonMode=!0,e.cursor="pointer",i.buttonMode=!0,i.interactive=!0,i.buttonMode=!0,i.cursor="pointer",e.on("pointerover",this.onGroupButtonOver.bind(this,e,r,i)),e.on("pointerout",this.onGroupButtonOut.bind(this,e,r,i)),e.on("pointerdown",this.onGroupButtonDown.bind(this,t,e,r,i)),e.on("pointerup",this.onGroupButtonUp.bind(this,e,r,i)),i.on("pointerover",this.onGroupButtonOver.bind(this,e,r,i)),i.on("pointerout",this.onGroupButtonOut.bind(this,e,r,i)),i.on("pointerdown",this.onGroupButtonDown.bind(this,t,e,r,i)),i.on("pointerup",this.onGroupButtonUp.bind(this,e,r,i))}genGroupButton(t,e,r){const n=new PIXI.Graphics;return n.beginFill(i(t).rgbNumber()),n.lineStyle(2,i(t).darken(.4).rgbNumber(),1),n.drawRoundedRect(0,0,e+10,r+10,10),n.endFill(),n}onGroupButtonUp(t,e,r){t.alpha=1,t.y=0,e.y=0,r.y=5}onGroupButtonDown(t,e,r,i){e.alpha=.8,e.y=4,r.y=4,i.y=9,console.log("GroupButton effect redirect",t),this.actionService.redirect$.next(t)}onGroupButtonOver(t,e,r){t.alpha=.9}onGroupButtonOut(t,e,r){t.alpha=1,t.y=0,e.y=0,r.y=5}createStyle(t){const e={fontWeight:t.weight,fontSize:+t.fontSize,fontFamily:t.font,fontStyle:t.fontStyle,fill:t.color,padding:parseInt(t.padding,10),align:t.align,textDecoration:t.textDecoration};return new PIXI.TextStyle(e)}}},function(t,e,r){var i=r(170),n=r(314),s={};for(var o in i)i.hasOwnProperty(o)&&(s[i[o]]=o);var a=t.exports={to:{},get:{}};function h(t,e,r){return Math.min(Math.max(e,t),r)}function u(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}a.get=function(t){var e,r;switch(t.substring(0,3).toLowerCase()){case"hsl":e=a.get.hsl(t),r="hsl";break;case"hwb":e=a.get.hwb(t),r="hwb";break;default:e=a.get.rgb(t),r="rgb"}return e?{model:r,value:e}:null},a.get.rgb=function(t){if(!t)return null;var e,r,n,s=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(n=e[2],e=e[1],r=0;r<3;r++){var o=2*r;s[r]=parseInt(e.slice(o,o+2),16)}n&&(s[3]=Math.round(parseInt(n,16)/255*100)/100)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(n=(e=e[1])[3],r=0;r<3;r++)s[r]=parseInt(e[r]+e[r],16);n&&(s[3]=Math.round(parseInt(n+n,16)/255*100)/100)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<3;r++)s[r]=parseInt(e[r+1],0);e[4]&&(s[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(e=t.match(/(\D+)/))?"transparent"===e[1]?[0,0,0,0]:(s=i[e[1]])?(s[3]=1,s):null:null;for(r=0;r<3;r++)s[r]=Math.round(2.55*parseFloat(e[r+1]));e[4]&&(s[3]=parseFloat(e[4]))}for(r=0;r<3;r++)s[r]=h(s[r],0,255);return s[3]=h(s[3],0,1),s},a.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,h(parseFloat(e[2]),0,100),h(parseFloat(e[3]),0,100),h(isNaN(r)?1:r,0,1)]}return null},a.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,h(parseFloat(e[2]),0,100),h(parseFloat(e[3]),0,100),h(isNaN(r)?1:r,0,1)]}return null},a.to.hex=function(){var t=n(arguments);return"#"+u(t[0])+u(t[1])+u(t[2])+(t[3]<1?u(Math.round(255*t[3])):"")},a.to.rgb=function(){var t=n(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},a.to.rgb.percent=function(){var t=n(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),i=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+r+"%, "+i+"%)":"rgba("+e+"%, "+r+"%, "+i+"%, "+t[3]+")"},a.to.hsl=function(){var t=n(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},a.to.hwb=function(){var t=n(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},a.to.keyword=function(t){return s[t.slice(0,3)]}},function(t,e,r){"use strict";var i=r(315),n=Array.prototype.concat,s=Array.prototype.slice,o=t.exports=function(t){for(var e=[],r=0,o=t.length;r<o;r++){var a=t[r];i(a)?e=n.call(e,s.call(a)):e.push(a)}return e};o.wrap=function(t){return function(){return t(o(arguments))}}},function(t,e){t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},function(t,e,r){var i=r(171),n=r(317),s={};Object.keys(i).forEach(function(t){s[t]={},Object.defineProperty(s[t],"channels",{value:i[t].channels}),Object.defineProperty(s[t],"labels",{value:i[t].labels});var e=n(t);Object.keys(e).forEach(function(r){var i=e[r];s[t][r]=function(t){var e=function(e){if(void 0===e||null===e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var r=t(e);if("object"==typeof r)for(var i=r.length,n=0;n<i;n++)r[n]=Math.round(r[n]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}(i),s[t][r].raw=function(t){var e=function(e){return void 0===e||null===e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(i)})}),t.exports=s},function(t,e,r){var i=r(171);function n(t){var e=function(){for(var t={},e=Object.keys(i),r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}(),r=[t];for(e[t].distance=0;r.length;)for(var n=r.pop(),s=Object.keys(i[n]),o=s.length,a=0;a<o;a++){var h=s[a],u=e[h];-1===u.distance&&(u.distance=e[n].distance+1,u.parent=n,r.unshift(h))}return e}function s(t,e){return function(r){return e(t(r))}}function o(t,e){for(var r=[e[t].parent,t],n=i[e[t].parent][t],o=e[t].parent;e[o].parent;)r.unshift(e[o].parent),n=s(i[e[o].parent][o],n),o=e[o].parent;return n.conversion=r,n}t.exports=function(t){for(var e=n(t),r={},i=Object.keys(e),s=i.length,a=0;a<s;a++){var h=i[a];null!==e[h].parent&&(r[h]=o(h,e))}return r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(169);e.Text=class extends PIXI.Text{constructor(...t){super(...t)}get text(){return this._text}set text(t){this._text=t,this._updateStyle(this.text,this.style)}get style(){return this._style}set style(t){this._style=t,this._updateStyle(this.text,this.style)}initUnderlineContainer(){this.parent&&!this.underlinesContainer&&(this.underlinesContainer=new PIXI.Container,this.parent.addChild(this.underlinesContainer),console.log("initUnderlineContainer"))}_updateStyle(t,e){t&&e&&(this.initUnderlineContainer(),e.textDecoration)}_updateTextDecoration(t,e,r){if(!this.underlinesContainer)return;this._removeUnderline();const i=t.split("\n"),n=this._texture.width,s=this._texture.height;for(let t=0;t<i.length;t++)this._genUnderline(t,r,n,s/i.length,this.x,this.y)}_removeUnderline(){if(this.underlinesContainer&&this.underlinesContainer.children&&Array.isArray(this.underlinesContainer.children)){for(let t of this.underlinesContainer.children)this.underlinesContainer.removeChild(t),t.destroy();this.underlinesContainer.children=[]}}_genUnderline(t,e,r,n,s,o){const a=new PIXI.Graphics,h=(t+1)*n;console.log("_genUnderline",t,h),this.underlinesContainer.addChild(a),a.lineStyle(3,i(e).rgbNumber()).moveTo(s,o+h).lineTo(r,o+h)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(110);e.Imagelayer=class extends i.ClipPlayer{constructor(t){super(t),t.src&&(this.src=t.src,this.init())}preload(){}init(){this.host=new PIXI.Container,this.videoSprite=PIXI.Sprite.fromImage(this.src),this.videoSprite.width=400,this.videoSprite.height=300,this.host.addChild(this.videoSprite),this.container&&this.attachView(this.container),setTimeout(()=>{this.updateDuration(10)},500)}attachView(t){super.attachView(t),this.container&&this.host&&this.container.addChild(this.host)}setCurrentTime(t){super.setCurrentTime(t)}updateClip(t){}destroy(){}play(t){super.play()}pause(){super.pause()}reset(){super.reset()}update(t){super.update(t)}render(){}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(110);e.VideoPlayer=class extends i.ClipPlayer{constructor(t){super(t),t.src&&(this.src=t.src,this.init())}init(){console.log("VideoPlayer","init",this.src),this.host=new PIXI.Container,this.videoTexture=PIXI.Texture.fromVideoUrl(this.src),this.videoElement=this.videoTexture.baseTexture.source,this.videoElement.pause(),this.videoElement.autoplay=!1,this.videoElement.loop=!1,this.videoElement.muted=!0,this.videoElement.onplay=this.fireStartEvent.bind(this),this.videoElement.onended=this.fireSEndEvent.bind(this),this.videoTexture.baseTexture.on("loaded",this.onVideoLoad.bind(this)),this.videoSprite=new PIXI.Sprite(this.videoTexture),this.videoSprite.width=400,this.videoSprite.height=300,this.host.addChild(this.videoSprite),this.container&&this.attachView(this.container)}reset(){super.reset(),this.videoElement&&(this.videoElement.currentTime=0)}setCurrentTime(t){super.setCurrentTime(t),this.videoElement&&(this.videoElement.currentTime=t)}getCurrentTime(){return this.videoElement?this.videoElement.currentTime:this.currentTime}attachView(t){super.attachView(t),this.container&&this.host&&this.container.addChild(this.host)}updateClip(t){console.log("update clip")}play(){super.play(),this.videoElement&&this.videoElement.play()}pause(){super.pause(),this.videoElement&&this.videoElement.pause()}render(){}onVideoLoad(){this.videoElement.autoplay=!1,setTimeout(()=>{this.paused?this.pause():this.play()},100),this.updateDuration(this.videoElement.duration)}destroy(){this.videoSprite.destroy(),this.host.destroy()}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(322),n=r(43);e.AudioSlidePlayer=class{constructor(t){this.startTime=0,this.endTime=0,this.clipPlayers=[],this.duration=0,this.timeline=new n.TimelineFull({paused:!0}),this.id=t.id,this.stop()}attachView(t){}play(t){this.paused=!1,this.timeline.play()}pause(){console.log("audio pause"),this.paused=!0,this.timeline.pause()}reset(){this.timeline.seek(0,!1)}stop(){console.log("AudioSlidePlayer player stop"),this.reset(),this.pause()}update(t,e,r){this.currentTime=e-this.startTime;const i=this.isOnTime(e);r?this.paused||this.pause():this.paused?i&&(this.reset(),this.play()):i?this.applyAllClips(e=>e.update(t,this.currentTime,this.paused)):this.stop()}isOnTime(t){return t>=this.startTime&&"number"==typeof this.endTime&&t<=this.endTime}applyAllClips(t){this.getClipPlayers().forEach(t)}getClipPlayers(){return this.clipPlayers}render(){}destroy(){}updateSlide(t){t&&t.audios&&(console.log("SlidePlayer","updateSlide",t.audios),this.updateClips(t.audios))}updateClips(t){for(const e of t)this.hasOwnAudio(e.id)?this.updateClip(e):this.initClip(e)}hasOwnAudio(t){return!!this.clipPlayers.find(e=>e.id===t)}updateClip(t){this.getClipPlayerById(t.id).updateAudio(t)}initClip(t){const e=this.createClipPlayer(t);this.timeline.add(e.timeline.play(),t.offset),e.onDurationChange=this.updateDuration.bind(this),e.onDurationChange(e.config.duration),e.onPlay=this.onClipPlay.bind(this,e),e.onEnded=this.onClipEnded.bind(this,e),this.clipPlayers.push(e)}getClipPlayerById(t){return this.clipPlayers.find(e=>e.id===t)}createClipPlayer(t){const e={id:t.id,src:t.src,startTime:0,duration:t.duration,offset:t.offset};return new i.AudioPlayer(e)}updateDuration(t){console.log("updateDuration",t),this.duration=t,this.endTime=this.startTime+this.duration,this.nextSlide&&this.nextSlide.setStartTime(this.endTime),"function"==typeof this.onDurationChange&&this.onDurationChange(this.duration)}onClipPlay(t){"function"==typeof this.onPlay&&this.onPlay()}onClipEnded(t){"function"==typeof this.onEnded&&this.onEnded()}setStartTime(t){this.startTime=t,this.endTime=this.startTime+this.duration}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(43);e.AudioPlayer=class{constructor(t){this.id=t.id,this.startTime=t.startTime,this.config=t,this.init(t),this.pause()}initAudioTimeLine(){this.timeline=new i.TimelineFull({delay:this.config.startTime,paused:!0}),this.timeline.set({},{},this.config.duration),this.assignAudioTimelineEvent()}attachView(t){}preload(){}init(t){this.initAudioTimeLine(),this.audioElement=new Audio,this.audioElement.src=t.src,this.audioElement.currentTime=t.offset}setCurrentTime(t){this.audioElement.currentTime=t}getCurrentTime(){return this.audioElement.currentTime}updateClip(t){throw new Error("Method not implemented.")}updateAudio(t){throw new Error("Method not implemented.")}play(t){this.paused=!1}pause(){this.paused=!0}render(){throw new Error("Method not implemented.")}reset(){this.pause()}update(t,e,r){}destroy(){console.log("AudioPlayer","destroy")}isOnTime(t){return t>=this.startTime&&"number"==typeof this.endTime&&t<=this.endTime}fireStartEvent(){"function"==typeof this.onPlay&&this.onPlay()}fireSEndEvent(){"function"==typeof this.onEnded&&this.onEnded()}updateDuration(t){"function"==typeof this.onDurationChange&&this.onDurationChange(t)}assignAudioTimelineEvent(){this.timeline.eventCallback("onStart",this.onAudioStart.bind(this)).eventCallback("onComplete",this.onAudioComplete.bind(this)).eventCallback("onUpdate",this.onAudioUpdate.bind(this)).eventCallback("onPause",this.onAudioPause.bind(this))}startVideo(){this.audioElement.currentTime=this.config.offset,this.audioElement.play()}pauseVideo(){this.audioElement.pause()}stopVideo(){this.audioElement.pause(),this.audioElement.currentTime=this.config.offset}onAudioStart(){console.log("onAudioStart"),this.startVideo()}onAudioUpdate(){this.timeline.time()-(this.getCurrentTime()-this.config.offset)>1/6&&this.setCurrentTime(this.timeline.time()+this.config.offset)}onAudioComplete(){console.log("onAudioComplete"),this.stopVideo()}onAudioPause(){console.log("onAudioPause"),this.pauseVideo()}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(112);var n=r(324);class s{constructor(){this.state$=new i.BehaviorSubject(!1),this.state=!1,this.webFont=n,this.state$.subscribe(t=>{this.state=t})}static getInstance(){return s.instance||(s.instance=new s),s.instance}loadFonts(t,e){const r=this._buildConfig(t,e);this.state$.next(!1),this.webFont.load(r)}_buildConfig(t,e){return{google:{families:t},active:()=>{"function"==typeof e&&e(),this.state$.next(!0)}}}}e.ResourceService=s},function(t,e,r){var i;!function(){function n(t,e,r){return t.call.apply(t.bind,arguments)}function s(t,e,r){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function o(t,e,r){return(o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:s).apply(null,arguments)}var a=Date.now||function(){return+new Date},h=!!window.FontFace;function u(t,e,r,i){if(e=t.c.createElement(e),r)for(var n in r)r.hasOwnProperty(n)&&("style"==n?e.style.cssText=r[n]:e.setAttribute(n,r[n]));return i&&e.appendChild(t.c.createTextNode(i)),e}function l(t,e,r){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(r,t.lastChild)}function c(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e,r){e=e||[],r=r||[];for(var i=t.className.split(/\s+/),n=0;n<e.length;n+=1){for(var s=!1,o=0;o<i.length;o+=1)if(e[n]===i[o]){s=!0;break}s||i.push(e[n])}for(e=[],n=0;n<i.length;n+=1){for(s=!1,o=0;o<r.length;o+=1)if(i[n]===r[o]){s=!0;break}s||e.push(i[n])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function p(t,e){for(var r=t.className.split(/\s+/),i=0,n=r.length;i<n;i++)if(r[i]==e)return!0;return!1}function d(t,e,r){function i(){a&&n&&s&&(a(o),a=null)}e=u(t,"link",{rel:"stylesheet",href:e,media:"all"});var n=!1,s=!0,o=null,a=r||null;h?(e.onload=function(){n=!0,i()},e.onerror=function(){n=!0,o=Error("Stylesheet failed to load"),i()}):setTimeout(function(){n=!0,i()},0),l(t,"head",e)}function m(t,e,r,i){var n=t.c.getElementsByTagName("head")[0];if(n){var s=u(t,"script",{src:e}),o=!1;return s.onload=s.onreadystatechange=function(){o||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(o=!0,r&&r(null),s.onload=s.onreadystatechange=null,"HEAD"==s.parentNode.tagName&&n.removeChild(s))},n.appendChild(s),setTimeout(function(){o||(o=!0,r&&r(Error("Script load timeout")))},i||5e3),s}return null}function y(){this.a=0,this.c=null}function v(t){return t.a++,function(){t.a--,_(t)}}function g(t,e){t.c=e,_(t)}function _(t){0==t.a&&t.c&&(t.c(),t.c=null)}function b(t){this.a=t||"-"}function x(t,e){this.c=t,this.f=4,this.a="n";var r=(e||"n4").match(/^([nio])([1-9])$/i);r&&(this.a=r[1],this.f=parseInt(r[2],10))}function T(t){var e=[];t=t.split(/,\s*/);for(var r=0;r<t.length;r++){var i=t[r].replace(/['"]/g,"");-1!=i.indexOf(" ")||/^\d/.test(i)?e.push("'"+i+"'"):e.push(i)}return e.join(",")}function w(t){return t.a+t.f}function E(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function S(t){var e=4,r="n",i=null;return t&&((i=t.match(/(normal|oblique|italic)/i))&&i[1]&&(r=i[1].substr(0,1).toLowerCase()),(i=t.match(/([1-9]00|normal|bold)/i))&&i[1]&&(/bold/i.test(i[1])?e=7:/[1-9]00/.test(i[1])&&(e=parseInt(i[1].substr(0,1),10)))),r+e}function P(t){if(t.g){var e=p(t.f,t.a.c("wf","active")),r=[],i=[t.a.c("wf","loading")];e||r.push(t.a.c("wf","inactive")),f(t.f,r,i)}C(t,"inactive")}function C(t,e,r){t.j&&t.h[e]&&(r?t.h[e](r.c,w(r)):t.h[e]())}function A(t,e){this.c=t,this.f=e,this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function M(t){l(t.c,"body",t.a)}function O(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+T(t.c)+";font-style:"+E(t)+";font-weight:"+t.f+"00;"}function I(t,e,r,i,n,s){this.g=t,this.j=e,this.a=i,this.c=r,this.f=n||3e3,this.h=s||void 0}function D(t,e,r,i,n,s,o){this.v=t,this.B=e,this.c=r,this.a=i,this.s=o||"BESbswy",this.f={},this.w=n||3e3,this.u=s||null,this.m=this.j=this.h=this.g=null,this.g=new A(this.c,this.s),this.h=new A(this.c,this.s),this.j=new A(this.c,this.s),this.m=new A(this.c,this.s),t=O(t=new x(this.a.c+",serif",w(this.a))),this.g.a.style.cssText=t,t=O(t=new x(this.a.c+",sans-serif",w(this.a))),this.h.a.style.cssText=t,t=O(t=new x("serif",w(this.a))),this.j.a.style.cssText=t,t=O(t=new x("sans-serif",w(this.a))),this.m.a.style.cssText=t,M(this.g),M(this.h),M(this.j),M(this.m)}b.prototype.c=function(t){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},I.prototype.start=function(){var t=this.c.o.document,e=this,r=a(),i=new Promise(function(i,n){!function s(){a()-r>=e.f?n():t.fonts.load(function(t){return E(t)+" "+t.f+"00 300px "+T(t.c)}(e.a),e.h).then(function(t){1<=t.length?i():setTimeout(s,25)},function(){n()})}()}),n=null,s=new Promise(function(t,r){n=setTimeout(r,e.f)});Promise.race([s,i]).then(function(){n&&(clearTimeout(n),n=null),e.g(e.a)},function(){e.j(e.a)})};var R={D:"serif",C:"sans-serif"},k=null;function F(){if(null===k){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);k=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return k}function L(t,e,r){for(var i in R)if(R.hasOwnProperty(i)&&e===t.f[R[i]]&&r===t.f[R[i]])return!0;return!1}function N(t,e){setTimeout(o(function(){c(this.g.a),c(this.h.a),c(this.j.a),c(this.m.a),e(this.a)},t),0)}function B(t,e,r){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=r}D.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),function t(e){var r,i=e.g.a.offsetWidth,n=e.h.a.offsetWidth;(r=i===e.f.serif&&n===e.f["sans-serif"])||(r=F()&&L(e,i,n)),r?a()-e.A>=e.w?F()&&L(e,i,n)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?N(e,e.v):N(e,e.B):function(e){setTimeout(o(function(){t(this)},e),50)}(e):N(e,e.v)}(this)};var j=null;function V(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&f(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),C(t,"active")):P(t.a))}function z(t){this.j=t,this.a=new function(){this.c={}},this.h=0,this.f=this.g=!0}function G(t,e,r,i,n){var s=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=n||null,a=i||{};if(0===r.length&&s)P(e.a);else{e.f+=r.length,s&&(e.j=s);var h,u=[];for(h=0;h<r.length;h++){var l=r[h],c=a[l.c],p=e.a,d=l;if(p.g&&f(p.f,[p.a.c("wf",d.c,w(d).toString(),"loading")]),C(p,"fontloading",d),p=null,null===j)if(window.FontFace){d=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var m=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);j=d?42<parseInt(d[1],10):!m}else j=!1;p=j?new I(o(e.g,e),o(e.h,e),e.c,l,e.s,c):new D(o(e.g,e),o(e.h,e),e.c,l,e.s,t,c),u.push(p)}for(h=0;h<u.length;h++)u[h].start()}},0)}function U(t,e){this.c=t,this.a=e}function X(t,e){this.c=t,this.a=e}B.prototype.g=function(t){var e=this.a;e.g&&f(e.f,[e.a.c("wf",t.c,w(t).toString(),"active")],[e.a.c("wf",t.c,w(t).toString(),"loading"),e.a.c("wf",t.c,w(t).toString(),"inactive")]),C(e,"fontactive",t),this.m=!0,V(this)},B.prototype.h=function(t){var e=this.a;if(e.g){var r=p(e.f,e.a.c("wf",t.c,w(t).toString(),"active")),i=[],n=[e.a.c("wf",t.c,w(t).toString(),"loading")];r||i.push(e.a.c("wf",t.c,w(t).toString(),"inactive")),f(e.f,i,n)}C(e,"fontinactive",t),V(this)},z.prototype.load=function(t){this.c=new function(t,e){this.a=t,this.o=e||t,this.c=this.o.document}(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,r){var i=[],n=r.timeout;!function(t){t.g&&f(t.f,[t.a.c("wf","loading")]),C(t,"loading")}(e);i=function(t,e,r){var i,n=[];for(i in e)if(e.hasOwnProperty(i)){var s=t.c[i];s&&n.push(s(e[i],r))}return n}(t.a,r,t.c);var s=new B(t.c,e,n);for(t.h=i.length,e=0,r=i.length;e<r;e++)i[e].load(function(e,r,i){G(t,s,e,r,i)})}(this,new function(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new b("-"),this.j=!1!==e.events,this.g=!1!==e.classes}(this.c,t),t)},U.prototype.load=function(t){var e=this,r=e.a.projectId,i=e.a.version;if(r){var n=e.c.o;m(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+r+".js"+(i?"?v="+i:""),function(i){i?t([]):(n["__MonotypeConfiguration__"+r]=function(){return e.a},function e(){if(n["__mti_fntLst"+r]){var i,s=n["__mti_fntLst"+r](),o=[];if(s)for(var a=0;a<s.length;a++){var h=s[a].fontfamily;void 0!=s[a].fontStyle&&void 0!=s[a].fontWeight?(i=s[a].fontStyle+s[a].fontWeight,o.push(new x(h,i))):o.push(new x(h))}t(o)}else setTimeout(function(){e()},50)}())}).id="__MonotypeAPIScript__"+r}else t([])},X.prototype.load=function(t){var e,r,i=this.a.urls||[],n=this.a.families||[],s=this.a.testStrings||{},o=new y;for(e=0,r=i.length;e<r;e++)d(this.c,i[e],v(o));var a=[];for(e=0,r=n.length;e<r;e++)if((i=n[e].split(":"))[1])for(var h=i[1].split(","),u=0;u<h.length;u+=1)a.push(new x(i[0],h[u]));else a.push(new x(i[0]));g(o,function(){t(a,s)})};var H={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},W={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Y={i:"i",italic:"i",n:"n",normal:"n"},q=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function $(t,e){this.c=t,this.a=e}var K={Arimo:!0,Cousine:!0,Tinos:!0};function Z(t,e){this.c=t,this.a=e}function J(t,e){this.c=t,this.f=e,this.a=[]}$.prototype.load=function(t){var e=new y,r=this.c,i=new function(t,e){this.c=t||"https://fonts.googleapis.com/css",this.a=[],this.f=[],this.g=e||""}(this.a.api,this.a.text),n=this.a.families;!function(t,e){for(var r=e.length,i=0;i<r;i++){var n=e[i].split(":");3==n.length&&t.f.push(n.pop());var s="";2==n.length&&""!=n[1]&&(s=":"),t.a.push(n.join(s))}}(i,n);var s=new function(t){this.f=t,this.a=[],this.c={}}(n);!function(t){for(var e=t.f.length,r=0;r<e;r++){var i=t.f[r].split(":"),n=i[0].replace(/\+/g," "),s=["n4"];if(2<=i.length){var o;if(o=[],a=i[1])for(var a,h=(a=a.split(",")).length,u=0;u<h;u++){var l;if((l=a[u]).match(/^[\w-]+$/))if(null==(c=q.exec(l.toLowerCase())))l="";else{if(l=null==(l=c[2])||""==l?"n":Y[l],null==(c=c[1])||""==c)c="4";else var c=W[c]||(isNaN(c)?"4":c.substr(0,1));l=[l,c].join("")}else l="";l&&o.push(l)}0<o.length&&(s=o),3==i.length&&(o=[],0<(i=(i=i[2])?i.split(","):o).length&&(i=H[i[0]])&&(t.c[n]=i))}for(t.c[n]||(i=H[n])&&(t.c[n]=i),i=0;i<s.length;i+=1)t.a.push(new x(n,s[i]))}}(s),d(r,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,r=[],i=0;i<e;i++)r.push(t.a[i].replace(/ /g,"+"));return e=t.c+"?family="+r.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(i),v(e)),g(e,function(){t(s.a,s.c,K)})},Z.prototype.load=function(t){var e=this.a.id,r=this.c.o;e?m(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(r.Typekit&&r.Typekit.config&&r.Typekit.config.fn){e=r.Typekit.config.fn;for(var i=[],n=0;n<e.length;n+=2)for(var s=e[n],o=e[n+1],a=0;a<o.length;a++)i.push(new x(s,o[a]));try{r.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(i)}},2e3):t([])},J.prototype.load=function(t){var e=this.f.id,r=this.c.o,i=this;e?(r.__webfontfontdeckmodule__||(r.__webfontfontdeckmodule__={}),r.__webfontfontdeckmodule__[e]=function(e,r){for(var n=0,s=r.fonts.length;n<s;++n){var o=r.fonts[n];i.a.push(new x(o.name,S("font-weight:"+o.weight+";font-style:"+o.style)))}t(i.a)},m(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var Q=new z(window);Q.a.c.custom=function(t,e){return new X(e,t)},Q.a.c.fontdeck=function(t,e){return new J(e,t)},Q.a.c.monotype=function(t,e){return new U(e,t)},Q.a.c.typekit=function(t,e){return new Z(e,t)},Q.a.c.google=function(t,e){return new $(e,t)};var tt={load:o(Q.load,Q)};void 0===(i=function(){return tt}.call(e,r,e,t))||(t.exports=i)}()},function(t,e,r){"use strict";r.r(e);var i=r(0),n=r(16),s=r(6),o=r(4),a=r(3);function h(t){return function(e){return e.lift(new u(t))}}var u=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.durationSelector))},t}(),l=function(t){function e(e,r){var i=t.call(this,e)||this;return i.durationSelector=r,i.hasValue=!1,i}return i.a(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=Object(n.a)(this.durationSelector)(t);if(e===s.a)this.destination.error(s.a.e);else{var r=Object(a.a)(this,e);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,r=this.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,r,i){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(o.a),c=r(11),f=r(82);function p(t,e){return void 0===e&&(e=c.a),h(function(){return Object(f.a)(t,e)})}function d(t){return function(e){return e.lift(new m(t))}}var m=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new y(t,this.closingNotifier))},t}(),y=function(t){function e(e,r){var i=t.call(this,e)||this;return i.buffer=[],i.add(Object(a.a)(i,r)),i}return i.a(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,r,i,n){var s=this.buffer;this.buffer=[],this.destination.next(s)},e}(o.a),v=r(1);function g(t,e){return void 0===e&&(e=null),function(r){return r.lift(new _(t,e))}}var _=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?x:b}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),b=function(t){function e(e,r){var i=t.call(this,e)||this;return i.bufferSize=r,i.buffer=[],i}return i.a(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(v.a),x=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.bufferSize=r,n.startBufferEvery=i,n.buffers=[],n.count=0,n}return i.a(e,t),e.prototype._next=function(t){var e=this.bufferSize,r=this.startBufferEvery,i=this.buffers,n=this.count;this.count++,n%r==0&&i.push([]);for(var s=i.length;s--;){var o=i[s];o.push(t),o.length===e&&(i.splice(s,1),this.destination.next(o))}},e.prototype._complete=function(){for(var e=this.buffers,r=this.destination;e.length>0;){var i=e.shift();i.length>0&&r.next(i)}t.prototype._complete.call(this)},e}(v.a),T=r(14);function w(t){var e=arguments.length,r=c.a;Object(T.a)(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var i=null;e>=2&&(i=arguments[1]);var n=Number.POSITIVE_INFINITY;return e>=3&&(n=arguments[2]),function(e){return e.lift(new E(t,i,n,r))}}var E=function(){function t(t,e,r,i){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=r,this.scheduler=i}return t.prototype.call=function(t,e){return e.subscribe(new P(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),S=function(){this.buffer=[]},P=function(t){function e(e,r,i,n,s){var o=t.call(this,e)||this;o.bufferTimeSpan=r,o.bufferCreationInterval=i,o.maxBufferSize=n,o.scheduler=s,o.contexts=[];var a=o.openContext();if(o.timespanOnly=null==i||i<0,o.timespanOnly){var h={subscriber:o,context:a,bufferTimeSpan:r};o.add(a.closeAction=s.schedule(C,r,h))}else{var u={subscriber:o,context:a},l={bufferTimeSpan:r,bufferCreationInterval:i,subscriber:o,scheduler:s};o.add(a.closeAction=s.schedule(M,r,u)),o.add(s.schedule(A,i,l))}return o}return i.a(e,t),e.prototype._next=function(t){for(var e,r=this.contexts,i=r.length,n=0;n<i;n++){var s=r[n],o=s.buffer;o.push(t),o.length==this.maxBufferSize&&(e=s)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,r=this.destination;e.length>0;){var i=e.shift();r.next(i.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var r=this.bufferTimeSpan,i={subscriber:this,context:t,bufferTimeSpan:r};this.add(t.closeAction=this.scheduler.schedule(C,r,i))}},e.prototype.openContext=function(){var t=new S;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(v.a);function C(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function A(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,i=t.subscriber,n=t.scheduler,s=i.openContext();i.closed||(i.add(s.closeAction=n.schedule(M,r,{subscriber:i,context:s})),this.schedule(t,e))}function M(t){var e=t.subscriber,r=t.context;e.closeContext(r)}var O=r(5);function I(t,e){return function(r){return r.lift(new D(t,e))}}var D=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new R(t,this.openings,this.closingSelector))},t}(),R=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.openings=r,n.closingSelector=i,n.contexts=[],n.add(Object(a.a)(n,r)),n}return i.a(e,t),e.prototype._next=function(t){for(var e=this.contexts,r=e.length,i=0;i<r;i++)e[i].buffer.push(t)},e.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var i=r.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,i,n){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,i=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(i),i.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,r=new O.a,i={buffer:[],subscription:r};e.push(i);var n=Object(a.a)(this,t,i);!n||n.closed?this.closeBuffer(i):(n.context=i,this.add(n),r.add(n))},e}(o.a);function k(t){return function(e){return e.lift(new F(t))}}var F=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new L(t,this.closingSelector))},t}(),L=function(t){function e(e,r){var i=t.call(this,e)||this;return i.closingSelector=r,i.subscribing=!1,i.openBuffer(),i}return i.a(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,r,i,n){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var r=Object(n.a)(this.closingSelector)();r===s.a?this.error(s.a.e):(t=new O.a,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(Object(a.a)(this,r)),this.subscribing=!1)},e}(o.a);function N(t){return function(e){var r=new B(t),i=e.lift(r);return r.caught=i}}var B=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new j(t,this.selector,this.caught))},t}(),j=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.selector=r,n.caught=i,n}return i.a(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=void 0;try{r=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(Object(a.a)(this,r))}},e}(o.a),V=r(51);function z(t){return function(e){return e.lift(new V.a(t))}}var G=r(12),U=r(17);function X(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(G.a)(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(Object(U.a)([e].concat(t)),new V.a(r))}}var H=r(29);function W(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(H.a.apply(void 0,[e].concat(t)))}}var Y=r(79),q=r(30);function $(t,e){return Object(q.a)(t,e,1)}function K(t,e){return $(function(){return t},e)}function Z(t){return function(e){return e.lift(new J(t,e))}}var J=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Q(t,this.predicate,this.source))},t}(),Q=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.predicate=r,n.source=i,n.count=0,n.index=0,n}return i.a(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(v.a);function tt(t){return function(e){return e.lift(new et(t))}}var et=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new rt(t,this.durationSelector))},t}(),rt=function(t){function e(e,r){var i=t.call(this,e)||this;return i.durationSelector=r,i.hasValue=!1,i.durationSubscription=null,i}return i.a(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=Object(a.a)(this,e))&&!r.closed&&this.add(this.durationSubscription=r)},e.prototype.notifyNext=function(t,e,r,i,n){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(o.a);function it(t,e){return void 0===e&&(e=c.a),function(r){return r.lift(new nt(t,e))}}var nt=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new st(t,this.dueTime,this.scheduler))},t}(),st=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.dueTime=r,n.scheduler=i,n.debouncedSubscription=null,n.lastValue=null,n.hasValue=!1,n}return i.a(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ot,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(v.a);function ot(t){t.debouncedNext()}function at(t){return void 0===t&&(t=null),function(e){return e.lift(new ht(t))}}var ht=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new ut(t,this.defaultValue))},t}(),ut=function(t){function e(e,r){var i=t.call(this,e)||this;return i.defaultValue=r,i.isEmpty=!0,i}return i.a(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(v.a);function lt(t){return t instanceof Date&&!isNaN(+t)}var ct=r(24);function ft(t,e){void 0===e&&(e=c.a);var r=lt(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new pt(r,e))}}var pt=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new dt(t,this.delay,this.scheduler))},t}(),dt=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.delay=r,n.scheduler=i,n.queue=[],n.active=!1,n.errored=!1,n}return i.a(e,t),e.dispatch=function(t){for(var e=t.source,r=e.queue,i=t.scheduler,n=t.destination;r.length>0&&r[0].time-i.now()<=0;)r.shift().notification.observe(n);if(r.length>0){var s=Math.max(0,r[0].time-i.now());this.schedule(t,s)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,r=new mt(e.now()+this.delay,t);this.queue.push(r),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(ct.a.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(ct.a.createComplete())},e}(v.a),mt=function(t,e){this.time=t,this.notification=e},yt=r(2);function vt(t,e){return e?function(r){return new bt(r,e).lift(new gt(t))}:function(e){return e.lift(new gt(t))}}var gt=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new _t(t,this.delayDurationSelector))},t}(),_t=function(t){function e(e,r){var i=t.call(this,e)||this;return i.delayDurationSelector=r,i.completed=!1,i.delayNotifierSubscriptions=[],i}return i.a(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.destination.next(t),this.removeSubscription(n),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue},e.prototype.tryDelay=function(t,e){var r=Object(a.a)(this,t,e);r&&!r.closed&&(this.add(r),this.delayNotifierSubscriptions.push(r))},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(o.a),bt=function(t){function e(e,r){var i=t.call(this)||this;return i.source=e,i.subscriptionDelay=r,i}return i.a(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new xt(t,this.source))},e}(yt.a),xt=function(t){function e(e,r){var i=t.call(this)||this;return i.parent=e,i.source=r,i.sourceSubscribed=!1,i}return i.a(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(v.a);function Tt(){return function(t){return t.lift(new wt)}}var wt=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Et(t))},t}(),Et=function(t){function e(e){return t.call(this,e)||this}return i.a(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(v.a);function St(t,e){return function(r){return r.lift(new Pt(t,e))}}var Pt=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new Ct(t,this.keySelector,this.flushes))},t}(),Ct=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.keySelector=r,n.values=new Set,i&&n.add(Object(a.a)(n,i)),n}return i.a(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,r=this.destination;try{e=this.keySelector(t)}catch(t){return void r.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var r=this.values;r.has(t)||(r.add(t),this.destination.next(e))},e}(o.a);function At(t,e){return function(r){return r.lift(new Mt(t,e))}}var Mt=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new Ot(t,this.compare,this.keySelector))},t}(),Ot=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.keySelector=i,n.hasKey=!1,"function"==typeof r&&(n.compare=r),n}return i.a(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=Object(n.a)(this.keySelector)(t))===s.a)return this.destination.error(s.a.e);var r=!1;if(this.hasKey){if((r=Object(n.a)(this.compare)(this.key,e))===s.a)return this.destination.error(s.a.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=e,this.destination.next(t))},e}(v.a);function It(t,e){return At(function(r,i){return e?e(r[t],i[t]):r[t]===i[t]})}var Dt=r(31);function Rt(t,e){return function(r){return r.lift(new kt(t,e))}}var kt=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Ft(t,this.predicate,this.thisArg))},t}(),Ft=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.predicate=r,n.thisArg=i,n.count=0,n}return i.a(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(v.a),Lt=r(22),Nt=r(32);function Bt(t,e,r){return function(i){return i.lift(new jt(t,e,r))}}var jt=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new Vt(t,this.nextOrObserver,this.error,this.complete))},t}(),Vt=function(t){function e(e,r,i,n){var s=t.call(this,e)||this;return s._tapNext=Lt.a,s._tapError=Lt.a,s._tapComplete=Lt.a,s._tapError=i||Lt.a,s._tapComplete=n||Lt.a,Object(Nt.a)(r)?(s._context=s,s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||Lt.a,s._tapError=r.error||Lt.a,s._tapComplete=r.complete||Lt.a),s}return i.a(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(v.a),zt=r(34),Gt=function(t){return void 0===t&&(t=Ut),Bt({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function Ut(){return new zt.a}var Xt=r(10);function Ht(t){return function(e){return 0===t?Object(Xt.b)():e.lift(new Wt(t))}}var Wt=function(){function t(t){if(this.total=t,this.total<0)throw new Dt.a}return t.prototype.call=function(t,e){return e.subscribe(new Yt(t,this.total))},t}(),Yt=function(t){function e(e,r){var i=t.call(this,e)||this;return i.total=r,i.count=0,i}return i.a(e,t),e.prototype._next=function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))},e}(v.a);function qt(t,e){if(t<0)throw new Dt.a;var r=arguments.length>=2;return function(i){return i.pipe(Rt(function(e,r){return r===t}),Ht(1),r?at(e):Gt(function(){return new Dt.a}))}}var $t=r(20),Kt=r(55);function Zt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var r=t[t.length-1];Object(T.a)(r)?t.pop():r=null;var i=t.length;return 1!==i||r?i>0?Object(H.a)(e,Object($t.a)(t,r)):Object(H.a)(e,Object(Xt.b)(r)):Object(H.a)(e,Object(Kt.a)(t[0]))}}function Jt(t,e){return function(r){return r.lift(new Qt(t,e,r))}}var Qt=function(){function t(t,e,r){this.predicate=t,this.thisArg=e,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new te(t,this.predicate,this.thisArg,this.source))},t}(),te=function(t){function e(e,r,i,n){var s=t.call(this,e)||this;return s.predicate=r,s.thisArg=i,s.source=n,s.index=0,s.thisArg=i||s,s}return i.a(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(v.a);function ee(){return function(t){return t.lift(new re)}}var re=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new ie(t))},t}(),ie=function(t){function e(e){var r=t.call(this,e)||this;return r.hasCompleted=!1,r.hasSubscription=!1,r}return i.a(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(a.a)(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(o.a),ne=r(15);function se(t,e){return e?function(r){return r.pipe(se(function(r,i){return Object(U.a)(t(r,i)).pipe(Object(ne.a)(function(t,n){return e(r,t,i,n)}))}))}:function(e){return e.lift(new oe(t))}}var oe=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new ae(t,this.project))},t}(),ae=function(t){function e(e,r){var i=t.call(this,e)||this;return i.project=r,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return i.a(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,r=this.destination;try{var i=this.project(t,e);this.hasSubscription=!0,this.add(Object(a.a)(this,i,t,e))}catch(t){r.error(t)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(o.a);function he(t,e,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(i){return i.lift(new ue(t,e,r))}}var ue=function(){function t(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new le(t,this.project,this.concurrent,this.scheduler))},t}(),le=function(t){function e(e,r,i,n){var s=t.call(this,e)||this;return s.project=r,s.concurrent=i,s.scheduler=n,s.index=0,s.active=0,s.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return i.a(e,t),e.dispatch=function(t){var e=t.subscriber,r=t.result,i=t.value,n=t.index;e.subscribeToProjection(r,i,n)},e.prototype._next=function(t){var r=this.destination;if(r.closed)this._complete();else{var i=this.index++;if(this.active<this.concurrent){r.next(t);var o=Object(n.a)(this.project)(t,i);if(o===s.a)r.error(s.a.e);else if(this.scheduler){var a={subscriber:this,result:o,value:t,index:i};this.add(this.scheduler.schedule(e.dispatch,0,a))}else this.subscribeToProjection(o,t,i)}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,r){this.active++,this.add(Object(a.a)(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(o.a);function ce(t){return function(e){return e.lift(new fe(t))}}var fe=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new pe(t,this.callback))},t}(),pe=function(t){function e(e,r){var i=t.call(this,e)||this;return i.add(new O.a(r)),i}return i.a(e,t),e}(v.a);function de(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(r){return r.lift(new me(t,r,!1,e))}}var me=function(){function t(t,e,r,i){this.predicate=t,this.source=e,this.yieldIndex=r,this.thisArg=i}return t.prototype.call=function(t,e){return e.subscribe(new ye(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),ye=function(t){function e(e,r,i,n,s){var o=t.call(this,e)||this;return o.predicate=r,o.source=i,o.yieldIndex=n,o.thisArg=s,o.index=0,o}return i.a(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){var e=this.predicate,r=this.thisArg,i=this.index++;try{e.call(r||this,t,i,this.source)&&this.notifyComplete(this.yieldIndex?i:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(v.a);function ve(t,e){return function(r){return r.lift(new me(t,r,!0,e))}}var ge=r(23);function _e(t,e){var r=arguments.length>=2;return function(i){return i.pipe(t?Rt(function(e,r){return t(e,r,i)}):ge.a,Ht(1),r?at(e):Gt(function(){return new zt.a}))}}var be=r(74);function xe(){return function(t){return t.lift(new Te)}}var Te=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new we(t))},t}(),we=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype._next=function(t){},e}(v.a);function Ee(){return function(t){return t.lift(new Se)}}var Se=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Pe(t))},t}(),Pe=function(t){function e(e){return t.call(this,e)||this}return i.a(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(v.a);function Ce(t){return function(e){return 0===t?Object(Xt.b)():e.lift(new Ae(t))}}var Ae=function(){function t(t){if(this.total=t,this.total<0)throw new Dt.a}return t.prototype.call=function(t,e){return e.subscribe(new Me(t,this.total))},t}(),Me=function(t){function e(e,r){var i=t.call(this,e)||this;return i.total=r,i.ring=new Array,i.count=0,i}return i.a(e,t),e.prototype._next=function(t){var e=this.ring,r=this.total,i=this.count++;e.length<r?e.push(t):e[i%r]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var r=this.count>=this.total?this.total:this.count,i=this.ring,n=0;n<r;n++){var s=e++%r;t.next(i[s])}t.complete()},e}(v.a);function Oe(t,e){var r=arguments.length>=2;return function(i){return i.pipe(t?Rt(function(e,r){return t(e,r,i)}):ge.a,Ce(1),r?at(e):Gt(function(){return new zt.a}))}}function Ie(t){return function(e){return e.lift(new De(t))}}var De=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new Re(t,this.value))},t}(),Re=function(t){function e(e,r){var i=t.call(this,e)||this;return i.value=r,i}return i.a(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(v.a);function ke(){return function(t){return t.lift(new Fe)}}var Fe=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Le(t))},t}(),Le=function(t){function e(e){return t.call(this,e)||this}return i.a(e,t),e.prototype._next=function(t){this.destination.next(ct.a.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(ct.a.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(ct.a.createComplete()),t.complete()},e}(v.a);function Ne(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new Be(t,e,r))}}var Be=function(){function t(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return t.prototype.call=function(t,e){return e.subscribe(new je(t,this.accumulator,this.seed,this.hasSeed))},t}(),je=function(t){function e(e,r,i,n){var s=t.call(this,e)||this;return s.accumulator=r,s._seed=i,s.hasSeed=n,s.index=0,s}return i.a(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(v.a),Ve=r(44);function ze(t,e){return arguments.length>=2?function(r){return Object(Ve.a)(Ne(t,e),Ce(1),at(e))(r)}:function(e){return Object(Ve.a)(Ne(function(e,r,i){return t(e,r,i+1)}),Ce(1))(e)}}function Ge(t){return ze("function"==typeof t?function(e,r){return t(e,r)>0?e:r}:function(t,e){return t>e?t:e})}var Ue=r(80);function Xe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(Ue.a.apply(void 0,[e].concat(t)))}}var He=r(52);function We(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof e?Object(q.a)(function(){return t},e,r):("number"==typeof e&&(r=e),Object(q.a)(function(){return t},r))}function Ye(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(i){return i.lift(new qe(t,e,r))}}var qe=function(){function t(t,e,r){this.accumulator=t,this.seed=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new $e(t,this.accumulator,this.seed,this.concurrent))},t}(),$e=function(t){function e(e,r,i,n){var s=t.call(this,e)||this;return s.accumulator=r,s.acc=i,s.concurrent=n,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return i.a(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,r=Object(n.a)(this.accumulator)(this.acc,t),i=this.destination;r===s.a?i.error(s.a.e):(this.active++,this._innerSub(r,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r){this.add(Object(a.a)(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(t,e,r,i,n){var s=this.destination;this.acc=e,this.hasValue=!0,s.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(o.a);function Ke(t){return ze("function"==typeof t?function(e,r){return t(e,r)<0?e:r}:function(t,e){return t<e?t:e})}var Ze=r(75);function Je(t,e){return function(r){var i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return r.lift(new Qe(i,e));var n=Object.create(r,Ze.b);return n.source=r,n.subjectFactory=i,n}}var Qe=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var r=this.selector,i=this.subjectFactory(),n=r(i).subscribe(t);return n.add(e.subscribe(i)),n},t}(),tr=r(77);function er(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length&&Object(G.a)(t[0])&&(t=t[0]),function(e){return e.lift(new rr(t))}}var rr=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new ir(t,this.nextSources))},t}(),ir=function(t){function e(e,r){var i=t.call(this,e)||this;return i.destination=e,i.nextSources=r,i}return i.a(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(Object(a.a)(this,t)):this.destination.complete()},e}(o.a);function nr(){return function(t){return t.lift(new sr)}}var sr=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new or(t))},t}(),or=function(t){function e(e){var r=t.call(this,e)||this;return r.hasPrev=!1,r}return i.a(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(v.a);function ar(t,e){return function(r){return[Rt(t,e)(r),Rt(function(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}(t,e))(r)]}}function hr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(e){return Object(ne.a)(function(t,e){return function(r){for(var i=r,n=0;n<e;n++){var s=i[t[n]];if(void 0===s)return;i=s}return i}}(t,r))(e)}}var ur=r(8);function lr(t){return t?Je(function(){return new ur.a},t):Je(new ur.a)}var cr=r(76);function fr(t){return function(e){return Je(new cr.a(t))(e)}}var pr=r(36);function dr(){return function(t){return Je(new pr.a)(t)}}var mr=r(48);function yr(t,e,r,i){r&&"function"!=typeof r&&(i=r);var n="function"==typeof r?r:void 0,s=new mr.a(t,e,i);return function(t){return Je(function(){return s},n)(t)}}var vr=r(81);function gr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return 1===t.length&&Object(G.a)(t[0])&&(t=t[0]),e.lift.call(vr.a.apply(void 0,[e].concat(t)))}}function _r(t){return void 0===t&&(t=-1),function(e){return 0===t?Object(Xt.b)():t<0?e.lift(new br(-1,e)):e.lift(new br(t-1,e))}}var br=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new xr(t,this.count,this.source))},t}(),xr=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.count=r,n.source=i,n}return i.a(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,r=this.count;if(0===r)return t.prototype.complete.call(this);r>-1&&(this.count=r-1),e.subscribe(this._unsubscribeAndRecycle())}},e}(v.a);function Tr(t){return function(e){return e.lift(new wr(t))}}var wr=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new Er(t,this.notifier,e))},t}(),Er=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.notifier=r,n.source=i,n.sourceIsBeingSubscribedTo=!0,n}return i.a(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){this.notifications=new ur.a;var e=Object(n.a)(this.notifier)(this.notifications);if(e===s.a)return t.prototype.complete.call(this);this.retries=e,this.retriesSubscription=Object(a.a)(this,e)},e}(o.a);function Sr(t){return void 0===t&&(t=-1),function(e){return e.lift(new Pr(t,e))}}var Pr=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Cr(t,this.count,this.source))},t}(),Cr=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.count=r,n.source=i,n}return i.a(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.source,i=this.count;if(0===i)return t.prototype.error.call(this,e);i>-1&&(this.count=i-1),r.subscribe(this._unsubscribeAndRecycle())}},e}(v.a);function Ar(t){return function(e){return e.lift(new Mr(t,e))}}var Mr=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Or(t,this.notifier,this.source))},t}(),Or=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.notifier=r,n.source=i,n}return i.a(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=null,this.retriesSubscription=null;else{if(r=new ur.a,(i=Object(n.a)(this.notifier)(r))===s.a)return t.prototype.error.call(this,s.a.e);o=Object(a.a)(this,i)}this._unsubscribeAndRecycle(),this.errors=r,this.retries=i,this.retriesSubscription=o,r.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,r,i,n){var s=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=s,this.source.subscribe(this)},e}(o.a),Ir=r(47);function Dr(t){return function(e){return e.lift(new Rr(t))}}var Rr=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new kr(t),i=e.subscribe(r);return i.add(Object(a.a)(r,this.notifier)),i},t}(),kr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return i.a(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,r,i,n){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(o.a);function Fr(t,e){return void 0===e&&(e=c.a),function(r){return r.lift(new Lr(t,e))}}var Lr=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new Nr(t,this.period,this.scheduler))},t}(),Nr=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.period=r,n.scheduler=i,n.hasValue=!1,n.add(i.schedule(Br,r,{subscriber:n,period:r})),n}return i.a(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(v.a);function Br(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function jr(t,e){return function(r){return r.lift(new Vr(t,e))}}var Vr=function(){function t(t,e){this.compareTo=t,this.comparor=e}return t.prototype.call=function(t,e){return e.subscribe(new zr(t,this.compareTo,this.comparor))},t}(),zr=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.compareTo=r,n.comparor=i,n._a=[],n._b=[],n._oneComplete=!1,n.add(r.subscribe(new Gr(e,n))),n}return i.a(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e.prototype.checkValues=function(){for(var t=this._a,e=this._b,r=this.comparor;t.length>0&&e.length>0;){var i=t.shift(),o=e.shift(),a=!1;r?(a=Object(n.a)(r)(i,o))===s.a&&this.destination.error(s.a.e):a=i===o,a||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e}(v.a),Gr=function(t){function e(e,r){var i=t.call(this,e)||this;return i.parent=r,i}return i.a(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t)},e.prototype._complete=function(){this.parent._complete()},e}(v.a);function Ur(){return new ur.a}function Xr(){return function(t){return Object(Ir.a)()(Je(Ur)(t))}}function Hr(t,e,r){return function(i){return i.lift(function(t,e,r){var i,n,s=0,o=!1,a=!1;return function(h){s++,i&&!o||(o=!1,i=new mr.a(t,e,r),n=h.subscribe({next:function(t){i.next(t)},error:function(t){o=!0,i.error(t)},complete:function(){a=!0,i.complete()}}));var u=i.subscribe(this);return function(){s--,u.unsubscribe(),n&&0===s&&a&&n.unsubscribe()}}}(t,e,r))}}function Wr(t){return function(e){return e.lift(new Yr(t,e))}}var Yr=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new qr(t,this.predicate,this.source))},t}(),qr=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.predicate=r,n.source=i,n.seenValue=!1,n.index=0,n}return i.a(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new zt.a)},e}(v.a);function $r(t){return function(e){return e.lift(new Kr(t))}}var Kr=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new Zr(t,this.total))},t}(),Zr=function(t){function e(e,r){var i=t.call(this,e)||this;return i.total=r,i.count=0,i}return i.a(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(v.a);function Jr(t){return function(e){return e.lift(new Qr(t))}}var Qr=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new Dt.a}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new v.a(t)):e.subscribe(new ti(t,this._skipCount))},t}(),ti=function(t){function e(e,r){var i=t.call(this,e)||this;return i._skipCount=r,i._count=0,i._ring=new Array(r),i}return i.a(e,t),e.prototype._next=function(t){var e=this._skipCount,r=this._count++;if(r<e)this._ring[r]=t;else{var i=r%e,n=this._ring,s=n[i];n[i]=t,this.destination.next(s)}},e}(v.a);function ei(t){return function(e){return e.lift(new ri(t))}}var ri=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new ii(t,this.notifier))},t}(),ii=function(t){function e(e,r){var i=t.call(this,e)||this;return i.hasValue=!1,i.add(i.innerSubscription=Object(a.a)(i,r)),i}return i.a(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype.notifyNext=function(t,e,r,i,n){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(o.a);function ni(t){return function(e){return e.lift(new si(t))}}var si=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new oi(t,this.predicate))},t}(),oi=function(t){function e(e,r){var i=t.call(this,e)||this;return i.predicate=r,i.skipping=!0,i.index=0,i}return i.a(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(v.a);function ai(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var r=t[t.length-1];Object(T.a)(r)?t.pop():r=null;var i=t.length;return 1!==i||r?i>0?Object(H.a)(Object($t.a)(t,r),e):Object(H.a)(Object(Xt.b)(r),e):Object(H.a)(Object(Kt.a)(t[0]),e)}}var hi=r(56),ui=r(38),li=function(t){function e(e,r,i){void 0===r&&(r=0),void 0===i&&(i=hi.a);var n=t.call(this)||this;return n.source=e,n.delayTime=r,n.scheduler=i,(!Object(ui.a)(r)||r<0)&&(n.delayTime=0),i&&"function"==typeof i.schedule||(n.scheduler=hi.a),n}return i.a(e,t),e.create=function(t,r,i){return void 0===r&&(r=0),void 0===i&&(i=hi.a),new e(t,r,i)},e.dispatch=function(t){var e=t.source,r=t.subscriber;return this.add(e.subscribe(r))},e.prototype._subscribe=function(t){var r=this.delayTime,i=this.source;return this.scheduler.schedule(e.dispatch,r,{source:i,subscriber:t})},e}(yt.a);function ci(t,e){return void 0===e&&(e=0),function(r){return r.lift(new fi(t,e))}}var fi=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new li(e,this.delay,this.scheduler).subscribe(t)},t}();function pi(t,e){return"function"==typeof e?function(r){return r.pipe(pi(function(r,i){return Object(U.a)(t(r,i)).pipe(Object(ne.a)(function(t,n){return e(r,t,i,n)}))}))}:function(e){return e.lift(new di(t))}}var di=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new mi(t,this.project))},t}(),mi=function(t){function e(e,r){var i=t.call(this,e)||this;return i.project=r,i.index=0,i}return i.a(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var i=this.innerSubscription;i&&i.unsubscribe(),this.add(this.innerSubscription=Object(a.a)(this,t,e,r))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,i,n){this.destination.next(e)},e}(o.a);function yi(){return pi(ge.a)}function vi(t,e){return e?pi(function(){return t},e):pi(function(){return t})}function gi(t){return function(e){return e.lift(new _i(t))}}var _i=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new bi(t),i=Object(a.a)(r,this.notifier);return i&&!i.closed?(r.add(i),e.subscribe(r)):r},t}(),bi=function(t){function e(e){return t.call(this,e)||this}return i.a(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.complete()},e.prototype.notifyComplete=function(){},e}(o.a);function xi(t){return function(e){return e.lift(new Ti(t))}}var Ti=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new wi(t,this.predicate))},t}(),wi=function(t){function e(e,r){var i=t.call(this,e)||this;return i.predicate=r,i.index=0,i}return i.a(e,t),e.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void r.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):r.complete()},e}(v.a),Ei={leading:!0,trailing:!1};function Si(t,e){return void 0===e&&(e=Ei),function(r){return r.lift(new Pi(t,e.leading,e.trailing))}}var Pi=function(){function t(t,e,r){this.durationSelector=t,this.leading=e,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new Ci(t,this.durationSelector,this.leading,this.trailing))},t}(),Ci=function(t){function e(e,r,i,n){var s=t.call(this,e)||this;return s.destination=e,s.durationSelector=r,s._leading=i,s._trailing=n,s._hasValue=!1,s}return i.a(e,t),e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this._hasValue,e=this._sendValue;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=null},e.prototype.throttle=function(t){var e=this.tryDurationSelector(t);e&&this.add(this._throttled=Object(a.a)(this,e))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},e.prototype.throttlingDone=function(){var t=this._throttled,e=this._trailing;t&&t.unsubscribe(),this._throttled=null,e&&this.send()},e.prototype.notifyNext=function(t,e,r,i,n){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(o.a);function Ai(t,e,r){return void 0===e&&(e=c.a),void 0===r&&(r=Ei),function(i){return i.lift(new Mi(t,e,r.leading,r.trailing))}}var Mi=function(){function t(t,e,r,i){this.duration=t,this.scheduler=e,this.leading=r,this.trailing=i}return t.prototype.call=function(t,e){return e.subscribe(new Oi(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),Oi=function(t){function e(e,r,i,n,s){var o=t.call(this,e)||this;return o.duration=r,o.scheduler=i,o.leading=n,o.trailing=s,o._hasTrailingValue=!1,o._trailingValue=null,o}return i.a(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Ii,this.duration,{subscriber:this})),this.leading&&this.destination.next(t))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(v.a);function Ii(t){t.subscriber.clearThrottle()}var Di=r(53);function Ri(t){return void 0===t&&(t=c.a),function(e){return Object(Di.a)(function(){return e.pipe(Ne(function(e,r){var i=e.current;return{value:r,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Object(ne.a)(function(t){var e=t.current,r=t.last,i=t.value;return new ki(i,e-r)}))})}}var ki=function(t,e){this.value=t,this.interval=e},Fi=r(78);function Li(t,e,r){return void 0===r&&(r=c.a),function(i){var n=lt(t),s=n?+t-r.now():Math.abs(t);return i.lift(new Ni(s,n,e,r))}}var Ni=function(){function t(t,e,r,i){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=r,this.scheduler=i}return t.prototype.call=function(t,e){return e.subscribe(new Bi(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),Bi=function(t){function e(e,r,i,n,s){var o=t.call(this,e)||this;return o.absoluteTimeout=r,o.waitFor=i,o.withObservable=n,o.scheduler=s,o.action=null,o.scheduleTimeout(),o}return i.a(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(Object(a.a)(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(o.a),ji=r(50);function Vi(t,e){return void 0===e&&(e=c.a),Li(t,Object(ji.a)(new Fi.a),e)}function zi(t){return void 0===t&&(t=c.a),Object(ne.a)(function(e){return new Gi(e,t.now())})}var Gi=function(t,e){this.value=t,this.timestamp=e};function Ui(t,e,r){return 0===r?[e]:(t.push(e),t)}function Xi(){return ze(Ui,[])}function Hi(t){return function(e){return e.lift(new Wi(t))}}var Wi=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var r=new Yi(t),i=e.subscribe(r);return i.closed||r.add(Object(a.a)(r,this.windowBoundaries)),i},t}(),Yi=function(t){function e(e){var r=t.call(this,e)||this;return r.window=new ur.a,e.next(r.window),r}return i.a(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,r=this.window=new ur.a;e.next(r)},e}(o.a);function qi(t,e){return void 0===e&&(e=0),function(r){return r.lift(new $i(t,e))}}var $i=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new Ki(t,this.windowSize,this.startWindowEvery))},t}(),Ki=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.destination=e,n.windowSize=r,n.startWindowEvery=i,n.windows=[new ur.a],n.count=0,e.next(n.windows[0]),n}return i.a(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,i=this.windowSize,n=this.windows,s=n.length,o=0;o<s&&!this.closed;o++)n[o].next(t);var a=this.count-i+1;if(a>=0&&a%e==0&&!this.closed&&n.shift().complete(),++this.count%e==0&&!this.closed){var h=new ur.a;n.push(h),r.next(h)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(v.a);function Zi(t){var e=c.a,r=null,i=Number.POSITIVE_INFINITY;return Object(T.a)(arguments[3])&&(e=arguments[3]),Object(T.a)(arguments[2])?e=arguments[2]:Object(ui.a)(arguments[2])&&(i=arguments[2]),Object(T.a)(arguments[1])?e=arguments[1]:Object(ui.a)(arguments[1])&&(r=arguments[1]),function(n){return n.lift(new Ji(t,r,i,e))}}var Ji=function(){function t(t,e,r,i){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=r,this.scheduler=i}return t.prototype.call=function(t,e){return e.subscribe(new tn(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),Qi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return i.a(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(ur.a),tn=function(t){function e(e,r,i,n,s){var o=t.call(this,e)||this;o.destination=e,o.windowTimeSpan=r,o.windowCreationInterval=i,o.maxWindowSize=n,o.scheduler=s,o.windows=[];var a=o.openWindow();if(null!==i&&i>=0){var h={subscriber:o,window:a,context:null},u={windowTimeSpan:r,windowCreationInterval:i,subscriber:o,scheduler:s};o.add(s.schedule(nn,r,h)),o.add(s.schedule(rn,i,u))}else{var l={subscriber:o,window:a,windowTimeSpan:r};o.add(s.schedule(en,r,l))}return o}return i.a(e,t),e.prototype._next=function(t){for(var e=this.windows,r=e.length,i=0;i<r;i++){var n=e[i];n.closed||(n.next(t),n.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(n))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new Qi;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(v.a);function en(t){var e=t.subscriber,r=t.windowTimeSpan,i=t.window;i&&e.closeWindow(i),t.window=e.openWindow(),this.schedule(t,r)}function rn(t){var e=t.windowTimeSpan,r=t.subscriber,i=t.scheduler,n=t.windowCreationInterval,s={action:this,subscription:null},o={subscriber:r,window:r.openWindow(),context:s};s.subscription=i.schedule(nn,e,o),this.add(s.subscription),this.schedule(t,n)}function nn(t){var e=t.subscriber,r=t.window,i=t.context;i&&i.action&&i.subscription&&i.action.remove(i.subscription),e.closeWindow(r)}function sn(t,e){return function(r){return r.lift(new on(t,e))}}var on=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new an(t,this.openings,this.closingSelector))},t}(),an=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.openings=r,n.closingSelector=i,n.contexts=[],n.add(n.openSubscription=Object(a.a)(n,r,r)),n}return i.a(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var r=e.length,i=0;i<r;i++)e[i].window.next(t)},e.prototype._error=function(e){var r=this.contexts;if(this.contexts=null,r)for(var i=r.length,n=-1;++n<i;){var s=r[n];s.window.error(e),s.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,i=-1;++i<r;){var n=e[i];n.window.complete(),n.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var i=t[r];i.window.unsubscribe(),i.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,r,i,o){if(t===this.openings){var h=this.closingSelector,u=Object(n.a)(h)(e);if(u===s.a)return this.error(s.a.e);var l=new ur.a,c=new O.a,f={window:l,subscription:c};this.contexts.push(f);var p=Object(a.a)(this,u,f);p.closed?this.closeWindow(this.contexts.length-1):(p.context=f,c.add(p)),this.destination.next(l)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,r=e[t],i=r.window,n=r.subscription;e.splice(t,1),i.complete(),n.unsubscribe()}},e}(o.a);function hn(t){return function(e){return e.lift(new un(t))}}var un=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new ln(t,this.closingSelector))},t}(),ln=function(t){function e(e,r){var i=t.call(this,e)||this;return i.destination=e,i.closingSelector=r,i.openWindow(),i}return i.a(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.openWindow(n)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var r=this.window=new ur.a;this.destination.next(r);var i=Object(n.a)(this.closingSelector)();if(i===s.a){var o=s.a.e;this.destination.error(o),this.window.error(o)}else this.add(this.closingNotification=Object(a.a)(this,i))},e}(o.a);function cn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var r;"function"==typeof t[t.length-1]&&(r=t.pop());var i=t;return e.lift(new fn(i,r))}}var fn=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new pn(t,this.observables,this.project))},t}(),pn=function(t){function e(e,r,i){var n=t.call(this,e)||this;n.observables=r,n.project=i,n.toRespond=[];var s=r.length;n.values=new Array(s);for(var o=0;o<s;o++)n.toRespond.push(o);for(o=0;o<s;o++){var h=r[o];n.add(Object(a.a)(n,h,h,o))}return n}return i.a(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.values[r]=e;var s=this.toRespond;if(s.length>0){var o=s.indexOf(r);-1!==o&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.a),dn=r(54);function mn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(dn.b.apply(void 0,[e].concat(t)))}}function yn(t){return function(e){return e.lift(new dn.a(t))}}r.d(e,"audit",function(){return h}),r.d(e,"auditTime",function(){return p}),r.d(e,"buffer",function(){return d}),r.d(e,"bufferCount",function(){return g}),r.d(e,"bufferTime",function(){return w}),r.d(e,"bufferToggle",function(){return I}),r.d(e,"bufferWhen",function(){return k}),r.d(e,"catchError",function(){return N}),r.d(e,"combineAll",function(){return z}),r.d(e,"combineLatest",function(){return X}),r.d(e,"concat",function(){return W}),r.d(e,"concatAll",function(){return Y.a}),r.d(e,"concatMap",function(){return $}),r.d(e,"concatMapTo",function(){return K}),r.d(e,"count",function(){return Z}),r.d(e,"debounce",function(){return tt}),r.d(e,"debounceTime",function(){return it}),r.d(e,"defaultIfEmpty",function(){return at}),r.d(e,"delay",function(){return ft}),r.d(e,"delayWhen",function(){return vt}),r.d(e,"dematerialize",function(){return Tt}),r.d(e,"distinct",function(){return St}),r.d(e,"distinctUntilChanged",function(){return At}),r.d(e,"distinctUntilKeyChanged",function(){return It}),r.d(e,"elementAt",function(){return qt}),r.d(e,"endWith",function(){return Zt}),r.d(e,"every",function(){return Jt}),r.d(e,"exhaust",function(){return ee}),r.d(e,"exhaustMap",function(){return se}),r.d(e,"expand",function(){return he}),r.d(e,"filter",function(){return Rt}),r.d(e,"finalize",function(){return ce}),r.d(e,"find",function(){return de}),r.d(e,"findIndex",function(){return ve}),r.d(e,"first",function(){return _e}),r.d(e,"groupBy",function(){return be.b}),r.d(e,"ignoreElements",function(){return xe}),r.d(e,"isEmpty",function(){return Ee}),r.d(e,"last",function(){return Oe}),r.d(e,"map",function(){return ne.a}),r.d(e,"mapTo",function(){return Ie}),r.d(e,"materialize",function(){return ke}),r.d(e,"max",function(){return Ge}),r.d(e,"merge",function(){return Xe}),r.d(e,"mergeAll",function(){return He.a}),r.d(e,"mergeMap",function(){return q.a}),r.d(e,"flatMap",function(){return q.a}),r.d(e,"mergeMapTo",function(){return We}),r.d(e,"mergeScan",function(){return Ye}),r.d(e,"min",function(){return Ke}),r.d(e,"multicast",function(){return Je}),r.d(e,"observeOn",function(){return tr.b}),r.d(e,"onErrorResumeNext",function(){return er}),r.d(e,"pairwise",function(){return nr}),r.d(e,"partition",function(){return ar}),r.d(e,"pluck",function(){return hr}),r.d(e,"publish",function(){return lr}),r.d(e,"publishBehavior",function(){return fr}),r.d(e,"publishLast",function(){return dr}),r.d(e,"publishReplay",function(){return yr}),r.d(e,"race",function(){return gr}),r.d(e,"reduce",function(){return ze}),r.d(e,"repeat",function(){return _r}),r.d(e,"repeatWhen",function(){return Tr}),r.d(e,"retry",function(){return Sr}),r.d(e,"retryWhen",function(){return Ar}),r.d(e,"refCount",function(){return Ir.a}),r.d(e,"sample",function(){return Dr}),r.d(e,"sampleTime",function(){return Fr}),r.d(e,"scan",function(){return Ne}),r.d(e,"sequenceEqual",function(){return jr}),r.d(e,"share",function(){return Xr}),r.d(e,"shareReplay",function(){return Hr}),r.d(e,"single",function(){return Wr}),r.d(e,"skip",function(){return $r}),r.d(e,"skipLast",function(){return Jr}),r.d(e,"skipUntil",function(){return ei}),r.d(e,"skipWhile",function(){return ni}),r.d(e,"startWith",function(){return ai}),r.d(e,"subscribeOn",function(){return ci}),r.d(e,"switchAll",function(){return yi}),r.d(e,"switchMap",function(){return pi}),r.d(e,"switchMapTo",function(){return vi}),r.d(e,"take",function(){return Ht}),r.d(e,"takeLast",function(){return Ce}),r.d(e,"takeUntil",function(){return gi}),r.d(e,"takeWhile",function(){return xi}),r.d(e,"tap",function(){return Bt}),r.d(e,"throttle",function(){return Si}),r.d(e,"throttleTime",function(){return Ai}),r.d(e,"throwIfEmpty",function(){return Gt}),r.d(e,"timeInterval",function(){return Ri}),r.d(e,"timeout",function(){return Vi}),r.d(e,"timeoutWith",function(){return Li}),r.d(e,"timestamp",function(){return zi}),r.d(e,"toArray",function(){return Xi}),r.d(e,"window",function(){return Hi}),r.d(e,"windowCount",function(){return qi}),r.d(e,"windowTime",function(){return Zi}),r.d(e,"windowToggle",function(){return sn}),r.d(e,"windowWhen",function(){return hn}),r.d(e,"withLatestFrom",function(){return cn}),r.d(e,"zip",function(){return mn}),r.d(e,"zipAll",function(){return yn})}]);
